[{"title":"Mujoco - é«˜åœºhfieldç›¸å…³","url":"/2024/09/26/01-Hfield/","content":"\r\nThe hfield type defines a height field geom. The\r\ngeom must reference the desired height field asset with the hfield\r\nattribute below. The position and orientation of the geom set the\r\nposition and orientation of the height field. The size of the geom is\r\nignored, and the size parameters of the height field asset are used\r\ninstead. See the description of the hfield\r\nelement. Similar to planes, height field geoms can only be attached to\r\nthe world body or to static children of the world.\r\n\r\n\r\nå¯ä»PNGçš„ç°åº¦å›¾åƒåŠ è½½é«˜åœºæ•°æ®ã€‚æ¯ä¸ªåƒç´ å³ä¸ºä¸€ä¸ªé«˜åº¦ï¼Œé»‘ä½ç™½é«˜ã€‚\r\nå¯ä»binæ–‡ä»¶è¯»å…¥ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\r\n(int32)   nrow(int32)   ncol(float32) data[nrow*ncol]\r\né«˜åº¦æ•°æ®å¯ä»¥åœ¨ç¼–è¯‘æ—¶ä¿æŒæœªå®šä¹‰ã€‚\r\n\r\n\r\nç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æŠŠé«˜åº¦æ•°æ®å½’ä¸€åŒ–åˆ°[0,1]\r\né«˜åœºçš„ä½ç½®å’Œæ–¹å‘ç”±geomç¡®å®šï¼Œç©ºé—´èŒƒå›´ç”±hfieldçš„sizeå­—æ®µå†³å®šã€‚ï¼ˆä¸meshç›¸åŒï¼‰\r\né«˜åœºè§†ä¸ºä¸‰æ£±æŸ±çš„å¹¶é›†ï¼Œç¢°æ’æ—¶é¦–å…ˆç¡®è®¤å¯èƒ½ç¢°æ’çš„æ£±æŸ±ç½‘æ ¼ï¼Œç„¶åé€šè¿‡å‡¸é¢ç¢°æ’å™¨è®¡ç®—ã€‚é«˜åœºå’Œgeomçš„ç¢°æ’ä¸Šé™é™åˆ¶ä¸º50ï¼Œè¶…è¿‡çš„åˆ™è¢«èˆå¼ƒã€‚\r\n\r\nå‚æ•°\r\n\r\nname:\r\nåç§°ï¼Œç”¨äºå¼•ç”¨ã€‚å¦‚æœå¿½ç•¥nameï¼Œå¯ç”¨ä¸å¸¦è·¯å¾„å’Œåç¼€åçš„æ–‡ä»¶åä»£æ›¿å¼•ç”¨ã€‚\r\ncontent_type:\r\nç›®å‰æ”¯æŒimage/pngå’Œimage/vnd.mujoco.hfieldã€‚\r\nfile:\r\næ–‡ä»¶åï¼Œè‹¥åç¼€ä¸º.pngï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰ï¼Œåˆ™æŒ‰å›¾åƒè¯»å…¥ï¼›å¦åˆ™ä»¥äºŒè¿›åˆ¶æ–‡ä»¶è¯»å…¥ã€‚\r\nnrow, ncol: è¡Œæ•°å’Œåˆ—æ•°ã€‚é»˜è®¤å€¼ 0\r\nè¡¨ç¤ºå°†ä»æ–‡ä»¶åŠ è½½æ•°æ®ã€‚\r\nelevation: é«˜åœºï¼Œè‡ªåŠ¨å½’ä¸€ï¼Œé»˜è®¤å€¼0ã€‚\r\nsize:\r\n(radius_xã€radius_yã€elevation_zã€base_z)ï¼Œåˆ†åˆ«æ˜¯xã€yæ–¹å‘çš„åŠå¾„ï¼Œæœ€å¤§é«˜åº¦ï¼Œå’ŒåŸºç¡€åšåº¦ã€‚\r\n\r\nä½¿ç”¨æ ·ä¾‹\r\n&lt;mujoco&gt;    &lt;asset&gt;      &lt;hfield file=&quot;./data/height_field.bin&quot; name=&quot;customTerrain&quot; ncol=&quot;100&quot; nrow=&quot;100&quot; size=&quot;50 50 1 0.1&quot;/&gt;    &lt;/asset&gt;    &lt;worldbody&gt;      &lt;geom hfield=&quot;customTerrain&quot; pos=&quot;0 0 0&quot; type=&quot;hfield&quot;/&gt;    &lt;/worldbody&gt;&lt;/mujoco&gt;\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["mujoco","hfield"]},{"title":"GauU-Scene V2 è®ºæ–‡è§£è¯»","url":"/2024/11/05/05-GauU_Scene_V2/","content":"è®ºæ–‡ï¼š\r\n\r\nGauU-Scene V2: Assessing the Reliability of Image-Based Metrics with\r\nExpansive Lidar Image Dataset Using 3DGS and NeRF\r\n\r\næ•°æ®é›†\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\næ–¹æ³•\r\nåšæ³•\r\nç¼ºç‚¹\r\n\r\n\r\n\r\n\r\nbungeenerf\r\nå«æ˜Ÿæ•è·å›¾åƒ\r\næ—¶é—´å·®å¼‚ã€æ— åœ°é¢å®å†µ\r\n\r\n\r\nKITTI\r\næ±½è½¦é›·è¾¾æ•è·ç‚¹äº‘æ•°æ®\r\nå±‹é¡¶ã€é«˜å±‚å»ºç­‘æ•è·å­˜åœ¨ä¸è¶³\r\n\r\n\r\nblockNeRF\r\nStyle Transformationè§£å†³æ—¶é—´å·®å¼‚\r\nä¸æä¾›å…¬å¼€å¯ç”¨çš„ç‚¹äº‘æ•°æ®é›†\r\n\r\n\r\nUrbanBIS\r\nå¤šè§†å›¾ç›¸æœºæ•è·ç‚¹äº‘\r\næœªç”¨é«˜ç²¾åº¦æ¿€å…‰é›·è¾¾\r\n\r\n\r\nUrbanscene3D\r\næ— äººæœºé…åˆæ¿€å…‰é›·è¾¾\r\nåæ ‡å·®å¼‚ï¼Œé›·è¾¾ç‚¹äº‘å’Œå›¾åƒå…³ç³»ä¸æ˜ç¡®\r\n\r\n\r\n\r\nä¼˜åŠ¿ï¼š\r\n\r\nåˆ©ç”¨Zenmuse L1æ¥è·å–åœ°é¢çœŸå®å‡ ä½•ï¼Œè€Œå¤§å¤šæ•°æ•°æ®é›†ï¼ˆ blocknerf ï¼‰ï¼ˆ\r\nmegaNeRF ï¼‰ï¼ˆ UrbanBIS\r\nï¼‰ä¾èµ–å•ç›®æˆ–å¤šè§†å›¾ç›¸æœºè¿›è¡Œæ•°æ®é‡‡é›†ï¼Œè¿™æ›´é€‚åˆæ–°è§†å›¾åˆæˆè€Œä¸æ˜¯åœºæ™¯é‡å»ºã€‚\r\næä¾›äº†åŸå¸‚è§„æ¨¡çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬é«˜å±‚å»ºç­‘ã€æ¹–æ³Šã€å±±è„‰å’Œå±‹é¡¶ï¼Œè€Œå…¶ä»–æ•°æ®é›†å¾ˆå°‘æä¾›ã€‚\r\ndouble-returnæŠ€æœ¯ï¼Œå»é™¤ç§»åŠ¨ç‰©ä½“ï¼Œç¡®ä¿æ›´ç¨³å®šçš„å…‰ç…§æ•ˆæœã€‚\r\nå»é™¤é£è¡Œè·¯çº¿ä¸­è¿ç»­å›¾åƒä¹‹é—´çš„å†—ä½™ä¿¡æ¯ï¼Œå›¾åƒæ›´å°‘ï¼Œä½†ä¿¡æ¯é‡ä»ç„¶å…·æœ‰å¯æ¯”æ€§ã€‚\r\n\r\nè¯„ä¼°æŒ‡æ ‡\r\nPSNR\r\nPSNR(Peak signal-to-noise ratio å³°å€¼ä¿¡å™ªæ¯”)\r\nç”¨äºè¡¨ç¤ºä¿¡å·çš„æœ€å¤§å¯èƒ½åŠŸç‡ä¸å½±å“å…¶è¡¨ç¤ºçš„ä¿çœŸåº¦çš„ç ´åå™ªå£°çš„åŠŸç‡ä¹‹é—´çš„æ¯”ç‡ï¼Œé€šå¸¸ä½¿ç”¨åˆ†è´æ ‡åº¦è¡¨ç¤ºä¸ºå¯¹æ•°é‡ã€‚\r\n\r\n\r\nSSIM\r\nSSIMå…¨ç§°ä¸ºStructural\r\nSimilarityï¼Œå³ç»“æ„ç›¸ä¼¼æ€§ã€‚ç®—æ³•ä¼šæå–ä»¥ä¸‹ä¸‰ä¸ªç‰¹å¾ã€‚\r\n\r\näº®åº¦\r\nå¯¹æ¯”åº¦\r\nç»“æ„\r\n\r\näº®åº¦çš„ä¼°è®¡ä¸å¹³å‡ç°åº¦æœ‰å…³ï¼š\r\nå¯¹æ¯”åº¦çš„ä¼°è®¡åˆ™ç”¨æ ‡å‡†å·®è¡¡é‡ï¼š\r\nç»“æ„æ¯”è¾ƒæ˜¯é€šè¿‡ä½¿ç”¨ä¸€ä¸ªåˆå¹¶å…¬å¼æ¥å®Œæˆã€‚\r\nä¸‰ä¸ªå¯¹æ¯”å‡½æ•°åˆ†åˆ«å¦‚ä¸‹ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nå…¬å¼\r\n\r\n\r\n\r\n\r\näº®åº¦\r\n\r\n\r\n\r\nå¯¹æ¯”åº¦\r\n\r\n\r\n\r\nç»“æ„\r\nå…¶ä¸­\r\n\r\n\r\n\r\nç»“åˆå³å¾—åˆ°SSIMå‡½æ•°ï¼š\r\n\r\nLPIPS\r\nå­¦ä¹ æ„ŸçŸ¥å›¾åƒå—ç›¸ä¼¼åº¦(Learned Perceptual Image Patch Similarity,\r\nLPIPS)ï¼Œé€šè¿‡æ·±åº¦å­¦ä¹ æ¨¡å‹æ¥è¯„ä¼°ä¸¤ä¸ªå›¾åƒä¹‹é—´çš„æ„ŸçŸ¥å·®å¼‚ã€‚ä½¿ç”¨é¢„è®­ç»ƒçš„æ·±åº¦ç½‘ç»œï¼ˆå¦‚\r\nVGGã€AlexNetï¼‰æ¥æå–å›¾åƒç‰¹å¾ï¼Œç„¶åè®¡ç®—è¿™äº›ç‰¹å¾ä¹‹é—´çš„è·ç¦»ï¼Œä»¥è¯„ä¼°å›¾åƒä¹‹é—´çš„æ„ŸçŸ¥ç›¸ä¼¼åº¦ã€‚\r\n\r\nå›¾ç¤ºæ˜¯å°†å·¦å³ä¸¤å¹…å›¾åƒä¸ä¸­é—´å›¾åƒå¯¹æ¯”çš„ç»“æœã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¼ ç»Ÿæ–¹æ³•ï¼ˆL2/PSNR,\r\nSSIM,\r\nFSIMï¼‰çš„ç»“æœä¸äººçš„æ„ŸçŸ¥ç›¸åã€‚è€Œåä¸‰è¡Œé€šè¿‡ç¥ç»ç½‘ç»œæå–ç‰¹å¾çš„æ–¹æ³•ï¼Œèƒ½æ›´ç¬¦åˆäººçš„æ„ŸçŸ¥ï¼Œæ¥è¯„åˆ¤å›¾ç‰‡çš„ç›¸ä¼¼åº¦ã€‚\r\nå€’è§’è·ç¦»\r\nå‡ºè‡ªï¼š\r\n\r\nH. Fan, S. Hao, and L. Guibas, â€œA point set generation network for 3D\r\nobject reconstruction from a single image,â€ CVPR,\r\n2017.\r\n\r\n\r\nç®—æ³•ï¼š\r\n\r\nå¯¹S1ä¸­ä»»æ„ä¸€ç‚¹xï¼Œè®¡ç®—å®ƒä¸S2ä¸­æ‰€æœ‰ç‚¹çš„è·ç¦»ï¼Œå–æœ€å°è·ç¦»çš„å¹³æ–¹ã€‚\r\néå†S1ä¸­çš„ç‚¹ï¼Œé‡å¤1ä¸­è¿‡ç¨‹ï¼Œæ±‚å’Œæ‰€æœ‰è·ç¦»å¹³æ–¹ã€‚\r\nåŒæ ·çš„æ­¥éª¤ï¼Œå¯¹S2ä¸­æ‰€æœ‰ç‚¹éå†ï¼Œé‡å¤1ã€2è¿‡ç¨‹ã€‚\r\nå°†ä¸¤ä¸ªæ±‚å’Œç»“æœç›¸åŠ ï¼Œä½œä¸ºå€’è§’è·ç¦»ã€‚\r\n\r\nå€’è§’è·ç¦»ç”¨äºè¡¡é‡ä¸¤ä¸ªç‚¹äº‘ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚å¦‚æœè¯¥è·ç¦»è¾ƒå¤§ï¼Œåˆ™è¯´æ˜ä¸¤ç»„ç‚¹äº‘åŒºåˆ«è¾ƒå¤§ï¼›å¦‚æœè·ç¦»è¾ƒå°ï¼Œåˆ™è¯´æ˜é‡å»ºæ•ˆæœè¾ƒå¥½ã€‚\r\nå®éªŒ\r\nå®éªŒç¯å¢ƒ\r\n\r\nVanilla Gaussian Splatting: RTX 3090 * 1\r\nNeRF-based models: RTX 3090 * 4\r\n\r\nå®éªŒç»“æœ\r\n\r\n\r\n3DGSå’ŒSuGaRåœ¨å›¾åƒçš„æ¸²æŸ“ä¸­ï¼Œæœ‰æ›´ä¼˜çš„æ•ˆæœï¼ˆä¸‰ä¸ªå‚æ•°éƒ½æ›´ä¼˜ï¼‰ï¼Œä¸”è®­ç»ƒæ—¶é—´æ›´çŸ­ã€‚\r\n\r\n\r\n\r\nNeRF: ä½¿ç”¨ns-exportç”Ÿæˆ3Dç‚¹äº‘ã€‚\r\n3DGS: æ¯ä¸ªGaussian Splattingçš„å‡å€¼ä½œä¸ºä¸€ä¸ªç‚¹ï¼Œè¾“å‡ºç‚¹äº‘ã€‚\r\nç¥ç»è¾å°„åœºç”Ÿæˆçš„ç‚¹äº‘ï¼Œé€šå¸¸åŒ…å«å¾ˆå¤šä¸åœºæ™¯æ— å…³çš„å¼‚å¸¸å€¼ã€‚\r\n3DGSä¹Ÿå­˜åœ¨è¾¹ç¼˜æ•ˆåº”ï¼Œè¾¹ç¼˜ä¼šæ¨¡ç³Šã€‚\r\n\r\n\r\nï¼ˆå›¾æºé¡¹ç›®ç½‘å€ï¼šGauU-Sceneï¼‰\r\n\r\nNeRFactoï¼Œè™½ç„¶åœ¨å›¾åƒç”Ÿæˆå¾—åˆ†æœ€ä½ï¼Œä½†æ˜¯å€’è§’è·ç¦»æœ€å°ã€‚è€ŒInstant-NGPå’ŒSuGaRåˆ†åˆ«æ˜¯å€’æ•°ç¬¬ä¸€å’Œå€’æ•°ç¬¬äºŒã€‚è¿™ä¸€å®éªŒç»“æœæ­ç¤ºäº†åŸºäºå›¾åƒçš„æµ‹é‡æ— æ³•ä»£è¡¨åº•å±‚å‡ ä½•ç»“æ„çš„åŸºæœ¬äº‹å®ã€‚\r\nSuGaR\r\næ˜¯ä¸€ç§ä¸“ä¸ºå‡ ä½•å¯¹é½è®¾è®¡çš„æ–¹æ³•ï¼Œæ’åå´å€’æ•°ã€‚å†å¯¹SuGaRè¿›è¡Œå®šé‡åˆ†æï¼Œå‘ç°SuGaRåœ¨å‡ ä½•é‡å»ºæ–¹é¢ç¡®å®æœ‰æ›´å¥½çš„è¡¨ç°ã€‚\r\n\r\n\r\nå›¾ä¸­çš„è“ç‚¹åœ¨å…¶ä»–æ–¹æ³•ä¸­å¾ˆå¸¸è§ï¼Œè€Œç»¿è‰²ç”šè‡³ç•¥å¸¦çº¢è‰²çš„ç‚¹åœ¨å…¶ä»–æ–¹æ³•ä¸­å´å¾ˆå°‘è§ã€‚æ›´ä½•å†µSuGaRä¸­ç»¿è‰²ç‚¹å¦‚æ­¤ä¹‹å¤šã€‚\r\nä»å®šé‡çš„è§’åº¦æ¥çœ‹ï¼Œå¦‚æœæˆ‘ä»¬å¿½ç•¥è¿™é‡Œæ˜¾ç¤ºçš„å¼‚å¸¸å€¼ï¼ŒSuGaR\r\nçš„ç¡®æ˜¯æœ€å¥½çš„æ–¹æ³•ã€‚\r\n\r\nå¯¹é«˜æ–¯æ³¼æº…çš„alphaå€¼è¿›è¡Œäº†ç®€å•åˆ†æï¼Œå…¶ä¸­å‡ ä¹ä¸‰åˆ†ä¹‹äºŒçš„alphaå€¼å‡ ä¹æ˜¯é€æ˜çš„ã€‚é€šè¿‡åˆ é™¤è¿™äº›å€¼ï¼Œæ¸²æŸ“çš„å›¾åƒå˜å¾—æ›´åŠ æ¸…æ™°ï¼Œå‡ ä¹æ²¡æœ‰ä¿¡æ¯ä¸¢å¤±ã€‚è¿™äº›è¿‘ä¹é€æ˜çš„é«˜æ–¯é£æº…å®ä¾‹æ¼‚æµ®åœ¨3Dç©ºé—´ä¸­ã€‚å°½ç®¡å®ƒä»¬åœ¨æ¸²æŸ“å›¾åƒä¸­çœ‹ä¸åˆ°ï¼Œä½†å®ƒä»¬ä¼šå¯¼è‡´å‡ ä½•æµ‹é‡æŒ‡æ ‡çš„é€€åŒ–ã€‚\r\n","categories":["ä¸‰ç»´é‡å»º"],"tags":["NeRF","3DGS"]},{"title":"Mujoco - ç¢°æ’å‡¸å‡ ä½•ä½“è¦æ±‚","url":"/2024/09/29/02-Mujoco_notes/","content":"Collision\r\nComputation\r\n- MuJoCo Documentation\r\n\r\nWe have chosen to limit collision detection to convex geoms.\r\nAll primitive types are convex. Height fields are not convex but\r\ninternally they are treated as unions of triangular prisms (using custom\r\ncollision pruning beyond the filters described above). Meshes specified\r\nby the user can be non-convex, and are rendered as such. For collision\r\npurposes however they are replaced with their convex hulls.\r\n\r\n\r\nç¢°æ’æ£€æµ‹é™åˆ¶åœ¨å‡¸å‡ ä½•ä½“\r\næ‰€æœ‰åŸå§‹ç±»å‹éƒ½æ˜¯å‡¸çš„\r\né«˜åº¦å­—æ®µä¸æ˜¯å‡¸çš„ï¼Œä½†åœ¨å†…éƒ¨å®ƒä»¬è¢«è§†ä¸ºä¸‰æ£±æŸ±çš„å¹¶é›†\r\nç½‘æ ¼å¯ä»¥æ˜¯éå‡¸çš„ï¼Œå¹¶ä¸”å¦‚æ­¤æ¸²æŸ“ã€‚ç„¶è€Œï¼Œå‡ºäºç¢°æ’ç›®çš„ï¼Œå®ƒä»¬è¢«æ›¿æ¢ä¸ºå‡¸åŒ…\r\n\r\n\r\nIn order to model a non-convex object other than a height field, the\r\nuser must decompose it into a union of convex geoms (which can be\r\nprimitive shapes or meshes) and attach them to the same body. Open tools\r\nlike the CoACD library\r\ncan be used outside MuJoCo to automate this process. Finally, all\r\nbuilt-in collision functions can be replaced with custom callbacks. This\r\ncan be used to incorporate a general-purpose â€œtriangle soupâ€ collision\r\ndetector for example. However we do not recommend such an approach.\r\nPre-processing the geometry and representing it as a union of convex\r\ngeoms takes some work, but it pays off at runtime and yields both faster\r\nand more stable simulation.\r\nä¸ºäº†å¯¹é«˜åº¦åœºä»¥å¤–çš„éå‡¸å¯¹è±¡è¿›è¡Œå»ºæ¨¡ï¼Œç”¨æˆ·å¿…é¡»å°†å…¶åˆ†è§£ä¸ºå‡¸å‡ ä½•ä½“ï¼ˆå¯ä»¥æ˜¯åŸå§‹å½¢çŠ¶æˆ–ç½‘æ ¼ï¼‰çš„å¹¶é›†å¹¶å°†å®ƒä»¬é™„åŠ åˆ°åŒä¸€å®ä½“ã€‚å¯ä»¥åœ¨\r\nMuJoCo å¤–éƒ¨ä½¿ç”¨CoACD\r\nåº“ç­‰å¼€æ”¾å·¥å…·æ¥è‡ªåŠ¨åŒ–æ­¤è¿‡ç¨‹ã€‚æœ€åï¼Œæ‰€æœ‰å†…ç½®ç¢°æ’å‡½æ•°éƒ½å¯ä»¥æ›¿æ¢ä¸ºè‡ªå®šä¹‰å›è°ƒã€‚ä¾‹å¦‚ï¼Œè¿™å¯ç”¨äºåˆå¹¶é€šç”¨â€œä¸‰è§’æ±¤â€ç¢°æ’æ£€æµ‹å™¨ã€‚ä½†æ˜¯æˆ‘ä»¬ä¸æ¨èè¿™ç§æ–¹æ³•ã€‚é¢„å¤„ç†å‡ ä½•ä½“å¹¶å°†å…¶è¡¨ç¤ºä¸ºå‡¸å‡ ä½•ä½“çš„è”åˆéœ€è¦ä¸€äº›å·¥ä½œï¼Œä½†å®ƒåœ¨è¿è¡Œæ—¶å¾—åˆ°å›æŠ¥ï¼Œå¹¶äº§ç”Ÿæ›´å¿«ã€æ›´ç¨³å®šçš„æ¨¡æ‹Ÿã€‚\r\n\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["mujoco","collision","convex"]},{"title":"Mathjaxä¸æ¸²æŸ“å¼•æ“markedå†²çªè§£å†³æ–¹æ¡ˆ","url":"/2024/11/11/07-Build_blog/","content":"é—®é¢˜è¯´æ˜\r\nhexoåœ¨è§£æmarkdownçš„æ—¶å€™ï¼Œä¼šå¯¹ä¸€äº›ç¬¦å·å¦‚_è¿›è¡Œè½¬ä¹‰ï¼Œå°†å…¶è½¬ä¸º&lt;em&gt;æ ‡ç­¾ã€‚è€Œåœ¨å…¬å¼å—ä¸­ï¼Œ_æ˜¯ä½œä¸ºæ¸²æŸ“ä¸‹æ ‡æ‰€ç”¨çš„ç¬¦å·ã€‚ä½†æ˜¯hexoçš„ä¼˜å…ˆçº§æ¯”mathjaxæ›´é«˜ï¼Œä¸”ä¸ä¼šåˆ¤æ–­_æ˜¯å¦åœ¨å…¬å¼å†…ï¼Œæ‰€ä»¥å¾ˆå®¹æ˜“é€ æˆå†²çªï¼Œå¯¼è‡´å…¬å¼æ²¡æ³•æ­£å¸¸æ¸²æŸ“ã€‚æ¯”å¦‚ç¬”è€…åœ¨ç¼–å†™åšå®¢æ—¶ï¼Œå‘ç°ä¸¤ä¸ªç›¸é‚»å…¬å¼ä¸­çš„_è¢«å½“æˆæ–œä½“æ¸²æŸ“ï¼Œå¯¼è‡´ä¸¤ä¸ªå…¬å¼éƒ½æ²¡æ­£å¸¸æ¸²æŸ“å‡ºæ¥ã€‚\r\nè¸©å‘è¿‡ç¨‹\r\n1.ä¿®æ”¹æºç ï¼ˆå¤±è´¥ï¼‰\r\nå¤ªé•¿äº†ï¼ŒæŠ˜å ä¸€ä¸‹ï¼Œæƒ³çœ‹å°±å±•å¼€å§ğŸ‘‡ã€‚\r\n\n    Folding ç‚¹å‡»æŸ¥çœ‹æ›´å¤š \n    \n      æœåˆ°çš„å¤§éƒ¨åˆ†è§£å†³æ–¹æ¡ˆï¼Œéƒ½æ˜¯è®©æ›´æ”¹markedæºç ï¼Œå³å°†nodes_modules/lib/marked/lib/marked.jsæ–‡ä»¶è¿›è¡Œæ›´æ”¹ï¼š\r\nå°†\r\nescape: /^\\\\([\\\\`*{}\\[\\]()# +\\-.!_&gt;])/,\r\næ›¿æ¢ä¸º\r\nescape: /^\\\\([`*{}\\[\\]()# +\\-.!_&gt;])/,\r\nä»è€Œå»é™¤\\\\çš„è½¬ä¹‰ã€‚\r\nå°†\r\nem: /^\\b_((?:[^_]|__)+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\r\næ›¿æ¢ä¸º\r\nem:/^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\r\nä»è€Œå»é™¤_çš„æ–œä½“è½¬ä¹‰ã€‚\r\nç„¶è€Œä¸çŸ¥é“æ˜¯åšä¸»ä½¿ç”¨çš„ç‰ˆæœ¬é—®é¢˜è¿˜æ˜¯ä»€ä¹ˆåŸå› ï¼Œå¹¶æ²¡æœ‰æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚è™½ç„¶åé¢åœ¨nodes_modules/marked/biné‡Œæ‰¾åˆ°äº†marked.jsï¼Œå®ƒé€šè¿‡è°ƒç”¨äº†ä¸€ä¸ªåº“\r\nmarked.esm.js æ¥æ‰§è¡Œå…·ä½“çš„ Markdown\r\nè§£ææ“ä½œã€‚å› æ­¤åšä¸»åœ¨marked.esm.jsè¿›è¡Œäº†ç›¸åº”çš„æ›´æ”¹ã€‚\r\nå°†\r\nemStrong: {  lDelim: /^(?:\\*+(?:([punct_])|[^\\s*]))|^_+(?:([punct*])|([^\\s_]))/,   //        (1) and (2) can only be a Right Delimiter. (3) and (4) can only be Left.  (5) and (6) can be either Left or Right.  //          () Skip orphan inside strong                                      () Consume to delim     (1) #***                (2) a***#, a***                             (3) #***a, ***a                 (4) ***#              (5) #***#                 (6) a***a  rDelimAst: /^(?:[^_*\\\\]|\\\\.)*?\\_\\_(?:[^_*\\\\]|\\\\.)*?\\*(?:[^_*\\\\]|\\\\.)*?(?=\\_\\_)|(?:[^*\\\\]|\\\\.)+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct*_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[^punct*_\\s])/,  rDelimUnd: /^(?:[^_*\\\\]|\\\\.)*?\\*\\*(?:[^_*\\\\]|\\\\.)*?\\_(?:[^_*\\\\]|\\\\.)*?(?=\\*\\*)|(?:[^_\\\\]|\\\\.)+(?=[^_])|[punct*](\\_+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\_+)(?=[punct*\\s]|$)|[punct*\\s](\\_+)(?=[^punct*_\\s])|[\\s](\\_+)(?=[punct*])|[punct*](\\_+)(?=[punct*])/ // ^- Not allowed for _},\r\næ›¿æ¢ä¸º\r\nemStrong: {  // ä»…åŒ¹é… * è€Œä¸åŒ¹é… _  lDelim: /^(?:\\*+(?:([punct*])|[^\\s*]))/,   // ä¿æŒåŸæœ‰çš„ * åŒ¹é…  rDelimAst: /^(?:[^_*\\\\]|\\\\.)*?\\_\\_(?:[^_*\\\\]|\\\\.)*?\\*(?:[^_*\\\\]|\\\\.)*?(?=\\_\\_)|(?:[^*\\\\]|\\\\.)+(?=[^*])|[punct_](\\*+)(?=[\\s]|$)|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[punct_\\s]|$)|[punct_\\s](\\*+)(?=[^punct_\\s])|[\\s](\\*+)(?=[punct_])|[punct_](\\*+)(?=[punct_])|(?:[^punct*_\\s\\\\]|\\\\.)(\\*+)(?=[^punct*_\\s])/,  // ç¦ç”¨å¯¹ä¸‹åˆ’çº¿çš„å³ç•Œå®šç¬¦åŒ¹é…  rDelimUnd: null}\r\nç„¶è€Œåé¢çœ‹åˆ°è¯¥æ–‡ä»¶å¼€å¤´æœ‰è¿™æ ·ä¸€å¥ï¼š\r\n/** * DO NOT EDIT THIS FILE * The code in this file is generated from files in ./src/ */\r\nå¥½å˜›ï¼ŒåŸæ¥è¿™ä¸ªæ–‡ä»¶æ˜¯é€šè¿‡å…¶ä»–æºæ–‡ä»¶ç”Ÿæˆçš„ï¼Œäºæ˜¯åˆè½¬å¤´æ›´æ”¹nodes_modules/marked/src/rules.jsã€‚åŒä¸Šé¢çš„è§„åˆ™æ›´æ”¹emStrongã€‚\r\nç„¶è€Œï¼Œå¹¶æ— åµç”¨ã€‚åŸºæœ¬å®£å‘Šè¿™æ¡è·¯å¤±è´¥ã€‚\r\n\n    \n  \r\n2.æ‰‹åŠ¨escapeï¼ˆæˆåŠŸä½†ä¸‘é™‹ï¼‰\r\næœ€ç®€å•çš„æ–¹æ³•ï¼Œåšä¸»æœ€åˆçš„å¦¥åã€‚\r\nå°±æ˜¯å°†å…¬å¼ä¸­çš„_å‰é¢åŠ ä¸Š\\è¿›è¡Œè½¬ä¹‰ã€‚è¿™æ ·çš„ç»“æœå°±æ˜¯ç½‘ç«™ä¸Šèƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œç„¶è€Œç”¨è‡ªå·±çš„markdownç¼–è¾‘è½¯ä»¶ï¼Œä¸‹æ ‡å°±ä¼šæ¶ˆå¤±ï¼Œå˜æˆçœŸæ­£çš„ä¸‹æ¨ªçº¿ã€‚å¦‚æœå•çº¯åªå¯¹ç½‘ç«™æ›´æ”¹ï¼Œè¿™ä¸ªæ–¹æ³•æ— ç–‘æ˜¯æœ€æ–¹ä¾¿çš„ï¼Œä½†æ˜¯ä½†å‡¡è¦åœ¨æœ¬åœ°ç¼–è¾‘ï¼Œå°±ä¼šå¾ˆéš¾å—ã€‚\r\n3.æ›´æ¢kramedå¼•æ“ï¼ˆæ²¡ç”¨ï¼‰\r\nç›´æ¥å¸è½½æºå¼•æ“ï¼Œæ›´æ¢kramedï¼š\r\nnpm uninstall hexo-renderer-marked --savenpm install hexo-renderer-pandoc --save\r\nç„¶è€Œkramedå¼•æ“è¿˜æ˜¯å­˜åœ¨ç›¸åŒçš„é—®é¢˜ã€‚ï¼ˆæ‰€ä»¥ä¸ºä»€ä¹ˆè¦è®©æˆ‘æ”¹å•Šï¼æ”¹äº†è¿˜å®¹æ˜“æŠ¥ä¸€å †é”™ï¼‰\r\nè¿˜æ˜¯éœ€è¦ä¿®æ”¹node_modules/kramed/lib/rules/inline.jsæ–‡ä»¶ã€‚\r\nå°†\r\nem: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\r\næ›´æ”¹ä¸º\r\nem: /^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\r\nå°†\r\nescape: replace(inline.escape)('])', '~|])')(),\r\næ›´æ”¹ä¸º\r\nescape: replace(inline.escape)('])', '~])')(),\r\nè¿™ä¸æ˜¯å’Œä¸Šé¢ä¸€æ ·çš„å—ï¼Œè€Œä¸”åšä¸»ä¾ç„¶æ²¡æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯ç‰ˆæœ¬è¿­ä»£æ›´æ”¹äº†ç»“æ„ã€‚\r\nè§£å†³æ–¹æ¡ˆ\r\næœ€ç»ˆçš„è§£å†³æ–¹æ¡ˆï¼Œæ˜¯åšä¸»æœ€å¼€å§‹æœ€ä¸æ„¿æ„çš„æ–¹æ¡ˆï¼Œå°±æ˜¯æ›¿æ¢æˆpandocå¼•æ“ã€‚\r\n\r\nå®‰è£…Pandocã€‚\r\nåœ¨å®˜ç½‘Pandoc -\r\nInstalling\r\npandocä¸‹è½½å®‰è£…pandocï¼Œåšä¸»æ˜¯åœ¨windowsä¸Šéƒ¨ç½²çš„åšå®¢ï¼Œç›´æ¥ä¸‹è½½äº†msiå®‰è£…åŒ…è¿›è¡Œå®‰è£…ï¼Œå®‰è£…å®Œæˆåé‡å¯ç”µè„‘åæ‰ç”Ÿæ•ˆã€‚\r\næ›´æ¢å¼•æ“ã€‚\r\nnpm uninstall hexo-renderer-marked --savenpm install hexo-renderer-pandoc --save\r\nmathjaxçš„å®‰è£…å’Œé…ç½®å¯å‚è€ƒç½‘ä¸Šçš„æ•™ç¨‹ã€‚\r\né‡æ–°æ„å»ºã€‚\r\nhexo clhexo d -g\r\n\r\nç„¶ååº”è¯¥å°±èƒ½æ­£å¸¸æ˜¾ç¤ºå…¬å¼äº†ï¼Œè¿™ä¸‹èˆ’æœäº†ã€‚ä¸å¾—ä¸è¯´ï¼Œpandocï¼Œä½ æ˜¯æˆ‘çš„ç¥ï¼\r\n","categories":["åšå®¢æ­å»º"],"tags":["blog","mathjax","marked"]},{"title":"Mujoco - CoACDç®€ç•¥æ•™ç¨‹","url":"/2024/09/29/03-CoACD_notes/","content":"CoACDæ˜¯ä¸€ä¸ªå‡¸åˆ†è§£å·¥å…·ï¼Œå¯ä»¥å°†å‡¹æ¨¡å‹ç²—ç•¥ç²—åˆ†è§£ä¸ºå‡¸å‡ ä½•ä½“çš„å¹¶é›†ã€‚\r\nä¸€ã€æºä»£ç ç¼–è¯‘\r\nå®‰è£…æ•™ç¨‹\r\n(1) å…‹éš†ä»£ç ï¼š\r\ngit clone --recurse-submodules https://github.com/SarahWeiii/CoACD.git\r\n(2) å®‰è£…ä¾èµ–ï¼š\r\ncmake &gt;= 3.24g++ &gt;= 9, &lt; 12\r\n\r\nåœ¨æˆ‘çš„Ubuntu22.04ä¸­ï¼Œapté‡Œçš„cmakeåŒ…ç‰ˆæœ¬æ˜¯3.22ï¼Œä¸èƒ½ç”¨ã€‚ç”¨snapæˆåŠŸå®‰è£…3.30ç‰ˆæœ¬ã€‚ï¼ˆæºç å®‰è£…å¥½åƒä¹Ÿè¡Œï¼Œä¸è¿‡æˆ‘æ‡’å¾—æ·»åŠ ç³»ç»Ÿå˜é‡ï¼Œå°±è¿˜æ˜¯ç”¨snapå®‰è£…äº†ã€‚\r\n\r\n(3) ç¼–è¯‘\r\ncd CoACD \\&amp;&amp; mkdir build \\&amp;&amp; cd build \\\r\nâ€‹ ç„¶åç¼–è¯‘ï¼š\r\ncmake .. -DCMAKE_BUILD_TYPE=Release \\&amp;&amp; make main -j\r\n\r\nè¿™é‡Œå‡ºäº†å¾ˆå¤šwarningï¼Œä½†æ˜¯å¥½åƒä¸å½±å“ä½¿ç”¨ã€‚\r\n\r\n(4) ä½¿ç”¨\r\n./main -i PATH_OF_YOUR_MESH -o PATH_OF_OUTPUT\r\nå‚æ•°è¯´æ˜\r\n\r\n-nm/--no-merge : ç¦ç”¨åˆå¹¶åå¤„ç†ï¼Œé»˜è®¤ä¸ºfalseã€‚\r\n-c/--max-convex-hull :\r\nå‡¸åŒ…ä¸Šé™ï¼Œé»˜è®¤-1è¡¨ç¤ºæ— é™åˆ¶ã€‚ä»…åœ¨å¯ç”¨åˆå¹¶æ—¶æ‰æœ‰æ•ˆã€‚\r\n-ex/--extrude : æ²¿ç€é‡å é¢æŒ¤å‡ºç›¸é‚»çš„å‡¸åŒ…ã€‚\r\n-am/--approximate-mode :\r\nè¿‘ä¼¼å½¢çŠ¶ç±»å‹ï¼ˆâ€œchâ€è¡¨ç¤ºå‡¸åŒ…ï¼Œâ€œboxâ€è¡¨ç¤ºç«‹æ–¹ä½“ï¼‰ã€‚\r\n--seed : éšæœºç§å­ï¼Œé»˜è®¤æ˜¯random()ã€‚\r\n\r\nè¯´æ˜ï¼š\r\n\r\nå¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªéœ€è°ƒæ•´threshold\r\nï¼ˆ0.01~1ï¼‰å³å¯å¹³è¡¡ç»†èŠ‚ç¨‹åº¦å’Œåˆ†è§£æˆåˆ†çš„æ•°é‡ã€‚å€¼è¶Šé«˜ï¼Œç»“æœè¶Šç²—ï¼Œå€¼è¶Šä½ï¼Œç»“æœè¶Šç»†ã€‚\r\né»˜è®¤å‚æ•°æ˜¯å¿«é€Ÿç‰ˆæœ¬ã€‚å¯ä»¥ç‰ºç‰²è¿è¡Œæ—¶é—´è·å–æ›´å¤šç»„ä»¶æ•°é‡ï¼Œå¢åŠ searching depth (-md)\r\nã€\r\nsearching node (-mn)å’Œsearching iteration (-mi)å¯ä»¥è·å¾—æ›´å¥½çš„åˆ‡å‰²ç­–ç•¥ã€‚\r\n\r\näºŒã€PyPI\r\nå®‰è£…\r\npip install coacd\r\nä½¿ç”¨\r\nimport coacdmesh = trimesh.load(input_file, force=&quot;mesh&quot;)mesh = coacd.Mesh(mesh.vertices, mesh.faces)parts = coacd.run_coacd(mesh) # a list of convex hulls.\r\nå‚æ•°\r\nå®˜æ–¹æ–‡æ¡£é‡Œæ²¡æœ‰æåˆ°è¯¦ç»†çš„å‚æ•°åˆ—è¡¨ï¼Œé€šè¿‡ä»¥ä¸‹æŒ‡ä»¤è‡ªå·±æŸ¥è¯¢äº†ä¸‹ï¼š\r\nimport inspectprint(inspect.getsource(coacd.run_coacd))\r\næŸ¥è¯¢åˆ°çš„å‚æ•°å’Œå¯¹åº”çš„è§£é‡Šå¦‚ä¸‹ï¼š\r\n\r\nthreshold (float):\r\nç”¨äºå†³å®šåˆ†è§£ç²¾åº¦çš„é˜ˆå€¼ã€‚è¾ƒä½çš„é˜ˆå€¼æ„å‘³ç€æ›´ç²¾ç¡®çš„åˆ†è§£ï¼Œä½†å¯èƒ½éœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºã€‚é»˜è®¤å€¼ä¸º\r\n0.05ã€‚\r\nmax_convex_hull (int):\r\næœ€å¤§å‡¸åŒ…æ•°é‡ã€‚å¦‚æœä½ å¸Œæœ›é™åˆ¶ç”Ÿæˆçš„å‡¸åŒ…æ•°é‡ï¼Œå¯ä»¥è®¾ç½®æ­¤å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè®¾ç½®ä¸º\r\n5ï¼Œåˆ™æœ€å¤šç”Ÿæˆ 5 ä¸ªå‡¸åŒ…ï¼Œé»˜è®¤å€¼ä¸º -1ï¼Œè¡¨ç¤ºä¸é™åˆ¶ã€‚\r\npreprocess_mode (str):\r\né¢„å¤„ç†æ¨¡å¼ï¼Œ\"on\" å¯ç”¨ï¼Œ\"off\"\r\nç¦ç”¨ï¼Œ\"auto\"\r\nè‡ªåŠ¨é€‰æ‹©ï¼ˆæ¨èï¼‰ã€‚é¢„å¤„ç†å¯èƒ½å½±å“åˆ†è§£çš„é€Ÿåº¦å’Œç»“æœã€‚\r\nresolution (int):\r\nå¤„ç†ç½‘æ ¼çš„åˆ†è¾¨ç‡ï¼Œå€¼è¶Šé«˜ï¼Œç»“æœè¶Šç²¾ç¡®ï¼Œä½†è®¡ç®—é‡ä¹Ÿè¶Šå¤§ã€‚é»˜è®¤å€¼ä¸º\r\n2000ã€‚\r\nmcts_nodes (int):\r\nMCTSï¼ˆè’™ç‰¹å¡æ´›æ ‘æœç´¢ï¼‰ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§æ•°é‡ã€‚å€¼è¶Šå¤§ï¼Œæœç´¢çš„æ·±åº¦è¶Šé«˜ï¼Œå¯èƒ½ä¼šå¢åŠ åˆ†è§£çš„å‡†ç¡®åº¦ï¼Œä½†ä¼šæ¶ˆè€—æ›´å¤šçš„è®¡ç®—èµ„æºã€‚\r\nmcts_iterations (int):\r\nMCTSçš„è¿­ä»£æ¬¡æ•°ï¼Œæ›´å¤šçš„è¿­ä»£æ¬¡æ•°æ„å‘³ç€æ›´é«˜çš„å‡†ç¡®æ€§ï¼Œä½†ä¼šå¢åŠ è®¡ç®—è´Ÿæ‹…ã€‚\r\npca (bool):\r\næ˜¯å¦ä½¿ç”¨ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰æ¥å‡å°‘ç»´åº¦ã€‚True\r\nè¡¨ç¤ºå¯ç”¨ï¼ŒFalse è¡¨ç¤ºç¦ç”¨ã€‚\r\nmerge (bool): æ˜¯å¦åˆå¹¶å°çš„å‡¸åŒ…ã€‚å¦‚æœè®¾ç½®ä¸º\r\nTrueï¼Œå¯èƒ½ä¼šå‡å°‘ç”Ÿæˆçš„å‡¸åŒ…æ•°é‡ã€‚\r\ndecimate (bool):\r\næ˜¯å¦åœ¨ç”Ÿæˆå‡¸åŒ…æ—¶è¿›è¡Œç®€åŒ–ï¼Œå‡å°‘ç½‘æ ¼é¢ç‰‡çš„æ•°é‡ã€‚\r\nmax_ch_vertex (int):\r\næ¯ä¸ªå‡¸åŒ…å…è®¸çš„æœ€å¤§é¡¶ç‚¹æ•°é‡ã€‚\r\nextrude (bool):\r\næ˜¯å¦å¯¹å‡¸åŒ…è¿›è¡Œæ‹‰ä¼¸ã€‚True è¡¨ç¤ºæ‹‰ä¼¸ï¼ŒFalse\r\nè¡¨ç¤ºä¸æ‹‰ä¼¸ã€‚\r\nextrude_margin (float): å¦‚æœ extrude\r\nä¸º Trueï¼Œè®¾ç½®æ‹‰ä¼¸çš„è¾¹è·ã€‚\r\napx_mode (str): è®¾ç½®è¿‘ä¼¼æ–¹å¼ï¼Œ\"ch\"\r\nä»£è¡¨ä½¿ç”¨å‡¸åŒ…ï¼Œ\"box\" è¡¨ç¤ºä½¿ç”¨åŒ…å›´ç›’ã€‚\r\nseed (int):\r\néšæœºç§å­ï¼Œè®¾ç½®å®ƒå¯ä»¥å¸®åŠ©é‡ç°ç›¸åŒçš„ç»“æœã€‚\r\n\r\næ ¹æ®å‚æ•°ï¼Œä¸€ä¸ªç®€è¦çš„åŒ…å«è¾“å‡ºçš„ä»£ç å¦‚ä¸‹ï¼š\r\nimport coacdimport trimeshimport osinput_file = &quot;input.obj&quot;mesh = trimesh.load(input_file, force=&quot;mesh&quot;)mesh = coacd.Mesh(mesh.vertices, mesh.faces)parts = coacd.run_coacd(    mesh,    threshold=0.05,  # ç²¾åº¦é˜ˆå€¼ï¼Œé»˜è®¤: 0.05    max_convex_hull=-1,  # æœ€å¤§å‡¸åŒ…æ•°é‡ï¼Œé»˜è®¤: -1 (æ— é™åˆ¶)    preprocess_mode=&quot;auto&quot;,  # é¢„å¤„ç†æ¨¡å¼ï¼Œé»˜è®¤: &quot;auto&quot;    preprocess_resolution=30,  # é¢„å¤„ç†åˆ†è¾¨ç‡ï¼Œé»˜è®¤: 30    resolution=2000,  # åˆ†è§£åˆ†è¾¨ç‡ï¼Œé»˜è®¤: 2000    mcts_nodes=20,  # MCTSèŠ‚ç‚¹æ•°ï¼Œé»˜è®¤: 20    mcts_iterations=150,  # MCTSè¿­ä»£æ¬¡æ•°ï¼Œé»˜è®¤: 150    mcts_max_depth=3,  # MCTSæœ€å¤§æ·±åº¦ï¼Œé»˜è®¤: 3    pca=False,  # æ˜¯å¦å¯ç”¨PCAé™ç»´ï¼Œé»˜è®¤: False    merge=True,  # æ˜¯å¦åˆå¹¶å°å‡¸åŒ…ï¼Œé»˜è®¤: True    decimate=False,  # æ˜¯å¦ç®€åŒ–å‡¸åŒ…ï¼Œé»˜è®¤: False    max_ch_vertex=256,  # æ¯ä¸ªå‡¸åŒ…çš„æœ€å¤§é¡¶ç‚¹æ•°ï¼Œé»˜è®¤: 256    extrude=False,  # æ˜¯å¦æ‹‰ä¼¸å‡¸åŒ…ï¼Œé»˜è®¤: False    extrude_margin=0.01,  # æ‹‰ä¼¸è¾¹è·ï¼Œé»˜è®¤: 0.01    apx_mode=&quot;ch&quot;,  # è¿‘ä¼¼æ¨¡å¼ï¼Œé»˜è®¤: &quot;ch&quot; (å‡¸åŒ…)    seed=0  # éšæœºç§å­ï¼Œé»˜è®¤: 0)output_dir = &quot;./output_parts/&quot;if not os.path.exists(output_dir):    os.makedirs(output_dir)for i, part in enumerate(parts):    part_mesh = trimesh.Trimesh(vertices=part[0], faces=part[1])    part_mesh.export(os.path.join(output_dir, f&quot;part_&#123;i&#125;.obj&quot;))print(f&quot;Exported &#123;len(parts)&#125; convex parts to &#123;output_dir&#125;&quot;)\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["mujoco","convex","CoACD"]},{"title":"SplatSim è®ºæ–‡è§£è¯»","url":"/2024/11/06/06-SplatSim/","content":"èƒŒæ™¯\r\nSim2Realæ˜¯æœºå™¨äººæŠ€æœ¯ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé—®é¢˜ï¼Œæ¶‰åŠå°†æ¨¡æ‹Ÿç¯å¢ƒä¸­å­¦åˆ°çš„æ§åˆ¶ç­–ç•¥è½¬ç§»åˆ°ç°å®ä¸–ç•Œç¯å¢ƒä¸­ã€‚ç›®å‰çš„æ–¹æ³•åŸºæœ¬éƒ½ä¾èµ–äºæ·±åº¦ã€è§¦è§‰ä¼ æ„Ÿæˆ–ç‚¹äº‘è¾“å…¥ç­‰æ„ŸçŸ¥æ–¹å¼ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒRGB\r\nå›¾åƒå¾ˆå°‘ç”¨ä½œæœºå™¨äººå­¦ä¹ åº”ç”¨ä¸­çš„ä¸»è¦ä¼ æ„Ÿæ–¹å¼ã€‚ä¼˜äº Sim2Real\r\nä¼ è¾“ä¸­çš„å…¶ä»–å¸¸ç”¨æ–¹å¼ã€‚å®ƒä»¬æ•æ‰å…³é”®çš„è§†è§‰ç»†èŠ‚ï¼Œä¾‹å¦‚é¢œè‰²ã€çº¹ç†ã€ç…§æ˜å’Œè¡¨é¢åå°„ç‡ç­‰ï¼Œè¿™å¯¹äºç†è§£å¤æ‚çš„ç¯å¢ƒè‡³å…³é‡è¦ã€‚æ­¤å¤–ï¼ŒRGB\r\nå›¾åƒå¾ˆå®¹æ˜“åœ¨ç°å®ç¯å¢ƒä¸­ä½¿ç”¨ç›¸æœºè·å–ï¼Œå¹¶ä¸”ä¸äººç±»æ„ŸçŸ¥ç´§å¯†ç»“åˆï¼Œä½¿å…¶éå¸¸é€‚åˆè§£é‡ŠåŠ¨æ€å’Œå¤æ‚åœºæ™¯ä¸­çš„å¤æ‚ç»†èŠ‚ã€‚\r\nä¸ºä»€ä¹ˆå¾ˆéš¾å°†ä½¿ç”¨ RGB\r\nä¿¡æ¯è¿›è¡Œæ¨¡æ‹Ÿè®­ç»ƒçš„ç­–ç•¥éƒ¨ç½²åˆ°ç°å®ä¸–ç•Œå‘¢ï¼Ÿæ˜¯å› ä¸ºæœºå™¨äººåœ¨æ¨¡æ‹Ÿå™¨ä¸­è§‚å¯Ÿåˆ°çš„å›¾åƒåˆ†å¸ƒä¸å®ƒåœ¨ç°å®ä¸–ç•Œä¸­çœ‹åˆ°çš„å›¾åƒåˆ†å¸ƒæœ‰å¾ˆå¤§ä¸åŒã€‚æœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°é¢–çš„æ–¹æ³•æ¥å‡å°‘\r\nRGB å›¾åƒçš„ Sim2Real å·®è·ã€‚åˆ©ç”¨ Gaussian Splatting\r\nä½œä¸ºç…§ç‰‡çº§çœŸå®æ„Ÿæ¸²æŸ“ï¼Œä½¿ç”¨ç°æœ‰æ¨¡æ‹Ÿå™¨ä½œä¸ºç‰©ç†ä¸»å¹²ã€‚åˆ©ç”¨ Gaussian\r\nSplatting\r\nä½œä¸ºä¸»è¦æ¸²æŸ“åŸºå…ƒï¼Œå–ä»£ç°æœ‰æ¨¡æ‹Ÿå™¨ä¸­ä¼ ç»Ÿçš„åŸºäºç½‘æ ¼çš„è¡¨ç¤ºï¼Œä»¥æ˜¾è‘—æé«˜æ¸²æŸ“åœºæ™¯çš„ç…§ç‰‡çœŸå®æ„Ÿã€‚\r\næ–¹æ³•\r\n\r\nå…³é”®å‰æï¼šå‡†ç¡®åˆ†å‰²ç°å®åœºæ™¯ä¸­é«˜æ–¯åˆ†å¸ƒè¡¨ç¤ºçš„æ¯ä¸ªåˆšä½“ï¼Œå¹¶è¯†åˆ«å…¶ç›¸å¯¹äºæ¨¡æ‹Ÿå™¨çš„ç›¸åº”çš„é½æ¬¡å˜æ¢ã€‚é‚£ä¹ˆå°±å¯ä»¥æ¸²æŸ“æ–°å§¿åŠ¿ä¸‹çš„åˆšä½“ã€‚\r\nåº•å±‚è¡¨ç¤ºï¼šä¸ä½¿ç”¨ç½‘æ ¼å›¾å…ƒï¼Œè€Œæ˜¯ä½¿ç”¨é«˜æ–¯å›¾ä½œä¸ºåº•å±‚è¡¨ç¤ºã€‚\r\n\r\nA. é—®é¢˜æè¿°\r\n\r\nè¡¨ç¤ºçœŸå®åœºæ™¯çš„Gaussian Splatã€‚ \r\nè¡¨ç¤ºåœºæ™¯ä¸­ç¬¬kä¸ªobjectçš„Gaussian Splatã€‚\r\nç›®æ ‡æ˜¯ä¸ºä»»ä½•æ¨¡æ‹Ÿå™¨ä¸­çš„æœºå™¨äººï¼Œä½¿ç”¨  æ¥ç”ŸæˆçœŸå®çš„æ¸²æŸ“ \r\nã€‚ç„¶ååœ¨è¿™æ ·çš„è¡¨ç¤ºä¸‹ï¼Œæ”¶é›†ä¸“å®¶çš„æ¼”ç¤º â€‹â€‹ æ¥ç”¨äºè®­ç»ƒåŸºäºRGBçš„ç­–ç•¥ã€‚\r\nä¸“å®¶  ç”Ÿæˆç”±çŠ¶æ€-åŠ¨ä½œå¯¹ç»„æˆçš„è½¨è¿¹\r\n ã€‚æ¯ä¸ªæ—¶é—´æ­¥  çš„çŠ¶æ€å®šä¹‰ä¸º \r\nã€‚å…¶ä¸­ \r\nä»£è¡¨æœºå™¨äººçš„å…³èŠ‚è§’åº¦ã€‚ è¡¨ç¤ºç¬¬  ä¸ª object çš„ä½ç½®  å’Œæ–¹å‘  ã€‚å¯¹åº”çš„åŠ¨ä½œ  æŒ‡æœ«ç«¯æ‰§è¡Œå™¨çš„ä½ç½®\r\n å’Œæ–¹å‘\r\n ã€‚\r\næ¸²æŸ“å›¾  ï¼Œç”±æ¨¡æ‹ŸçŠ¶æ€\r\n æ¨å¯¼è€Œæ¥ï¼Œä½œä¸ºè¾“å…¥è®­ç»ƒç­–ç•¥\r\n\r\nã€‚æµ‹è¯•æ—¶ï¼Œè¯¥ç­–ç•¥åªä¾èµ–äºç°å®ä¸–ç•Œçš„RGBå›¾åƒ  ã€‚\r\nB. åæ ‡ç³»å®šä¹‰å’Œå˜æ¢\r\nï¼šçœŸå®ä¸–ç•Œåæ ‡ç³» -\r\nä¸»è¦å‚è€ƒç³»ã€‚\r\nï¼šçœŸå®ä¸–ç•Œæœºå™¨äººåæ ‡ç³»ã€‚\r\nï¼šæ¨¡æ‹Ÿå™¨åæ ‡ç³»ã€‚\r\n å’Œ  éƒ½ä¼šä¸ \r\nè¿›è¡Œå¯¹é½ï¼Œä»¥ç¡®ä¿æ¨¡æ‹Ÿå™¨ä¸­æœºå™¨äººåº•åº§å’Œç°å®ä¸–ç•Œå…±äº«ç›¸åŒçš„åæ ‡ç³»ã€‚\r\nC. æœºå™¨äºº Splat æ¨¡å‹\r\n\r\né¦–å…ˆåˆ›å»ºåœºæ™¯çš„é«˜æ–¯åˆ†å¸ƒï¼ˆå…¶ä¸­æœºå™¨äººä½äºå…¶åŸå§‹ä½ç½®ï¼‰ï¼Œåœ¨é™æ€åœºæ™¯ä¸­å¯¹æœºå™¨äººè¿›è¡Œå¯è§†åŒ–ã€‚ä½¿ç”¨\r\nICP\r\nç®—æ³•æ‰‹åŠ¨åˆ†å‰²æœºå™¨äººçš„ç‚¹äº‘å¹¶ä¸æ ‡å‡†æœºå™¨äººæ¡†æ¶å¯¹é½ã€‚ç„¶åå¯¹æ¯ä¸ªæœºå™¨äººå…³èŠ‚è¿›è¡Œåˆ†æ®µï¼Œå¹¶åº”ç”¨æ­£å‘è¿åŠ¨å­¦å˜æ¢ï¼Œä»è€Œèƒ½å¤Ÿä»¥ä»»æ„å…³èŠ‚é…ç½®æ¸²æŸ“æœºå™¨äººã€‚\r\nD. Object Splatæ¨¡å‹\r\nä¸æœºå™¨äººæ¸²æŸ“ç±»ä¼¼ï¼Œä½¿ç”¨ ICP æ¥å¯¹é½æ¯ä¸ªå¯¹è±¡çš„ 3D é«˜æ–¯ â€‹â€‹\r\nåˆ°å…¶æ¨¡æ‹Ÿçš„çœŸå®ç‚¹äº‘ã€‚ \r\nE. è¿æ¥çš„ç‰©ä½“\r\n\r\nè™½ç„¶ CAD\r\nè½´å¯¹é½çš„è¾¹ç•Œæ¡†å…è®¸å¯¹æœºå™¨äººè¿æ†è¿›è¡Œç›´æ¥åˆ†å‰²ï¼Œä½†æŸäº›ç‰©ä½“ï¼ˆä¾‹å¦‚å¹³è¡Œé’³å£å¤¹å…·ï¼‰ç”±äºä¸æ ‡å‡†è½´æœªå¯¹å‡†è€Œå¸¦æ¥äº†æŒ‘æˆ˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä»…ä½¿ç”¨è¾¹ç•Œæ¡†æ— æ³•å°†å¤¹å…·è¿æ†æ•´é½åœ°åˆ†å‰²å‡ºæ¥ã€‚æ–‡ç« ä½¿ç”¨åŸºäº\r\nKNN çš„åˆ†ç±»å™¨å¯¹å¹³è¡Œé¢šå¼å¤¹å…·ç­‰é“°æ¥ç‰©ä½“çš„é“¾æ¥è¿›è¡Œåˆ†æ®µã€‚\r\nF. ä½¿ç”¨ SplatSim\r\næ¸²æŸ“æ¨¡æ‹Ÿè½¨è¿¹\r\næ—¢ç„¶å·²ç»èƒ½å¤Ÿåœ¨åœºæ™¯ä¸­æ¸²æŸ“å•ä¸ªåˆšä½“ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨å®ƒæ¥è¡¨ç¤ºä»»ä½•æ¨¡æ‹Ÿè½¨è¿¹\r\n\r\nã€‚ç”¨è¿™äº›åŸºäºçŠ¶æ€çš„è½¬æ¢å’ŒCã€Dé‡Œæåˆ°çš„æ–¹æ³•ï¼Œè·å¾—æ¼”ç¤ºï¼Œä»è€Œè®©ç­–ç•¥ä» \r\nè¿›è¡Œå­¦ä¹ ã€‚\r\nG. ç­–ç•¥è®­ç»ƒå’Œéƒ¨ç½²\r\nä¸ºäº†åœ¨æ¨¡æ‹Ÿå™¨ä¸­ä»ç”Ÿæˆçš„æ¼”ç¤º â€‹ ä¸­å­¦ä¹ \r\nï¼Œé‡‡ç”¨æ‰©æ•£ç­–ç•¥ã€‚å°½ç®¡è®ºæ–‡çš„æ–¹æ³•æ˜¾è‘—ç¼©å°äº† Sim2Real\r\nè§†è§‰ä¸Šçš„å·®è·ï¼Œä½†æ¨¡æ‹Ÿç¯å¢ƒå’Œç°å®ç¯å¢ƒä¹‹é—´çš„å·®å¼‚ä»ç„¶å­˜åœ¨ã€‚ä¾‹å¦‚ï¼Œæ¨¡æ‹Ÿåœºæ™¯ç¼ºä¹é˜´å½±ï¼Œåˆšä½“çš„å‡è®¾ä¼šå¯¼è‡´æœºå™¨äººç”µç¼†ç­‰å¯åŠ¨éƒ¨ä»¶çš„æ¸²æŸ“ä¸å½“ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œè®ºæ–‡åœ¨ç­–ç•¥è®­ç»ƒæœŸé—´ç»“åˆäº†å›¾åƒå¢å¼ºï¼Œå…¶ä¸­åŒ…æ‹¬æ·»åŠ é«˜æ–¯å™ªå£°ã€éšæœºæ“¦é™¤ä»¥åŠè°ƒæ•´å›¾åƒçš„äº®åº¦å’Œå¯¹æ¯”åº¦ã€‚è¿™äº›å¢å¼ºæ˜¾è‘—å¢å¼ºäº†ç­–ç•¥çš„ç¨³å¥æ€§å¹¶æé«˜äº†å…¶åœ¨å®é™…éƒ¨ç½²è¿‡ç¨‹ä¸­çš„æ€§èƒ½ã€‚\r\nå®éªŒ\r\nA. ç°å®ä¸–ç•Œå’Œæ¨¡æ‹Ÿä¸­çš„æ¼”ç¤º\r\n\r\nåœ¨ç°å®ä¸–ç•Œä¸­ï¼Œæ¯é¡¹ä»»åŠ¡çš„æ¼”ç¤ºéƒ½æ˜¯ç”±äººç±»ä¸“å®¶æ‰‹åŠ¨æ”¶é›†çš„ã€‚\r\nç›¸æ¯”ä¹‹ä¸‹ï¼Œæ¨¡æ‹Ÿå™¨é€šè¿‡é‡‡ç”¨åŸºäºç‰¹æƒä¿¡æ¯çš„è¿åŠ¨è§„åˆ’å™¨ç®€åŒ–äº†è¿™ä¸€è¿‡ç¨‹ï¼Œè¿åŠ¨è§„åˆ’å™¨åˆ©ç”¨ç‰¹æƒä¿¡æ¯è‡ªåŠ¨ç”Ÿæˆæ•°æ®ï¼Œä¾‹å¦‚åœºæ™¯ä¸­æ¯ä¸ªåˆšä½“çš„ä½ç½®å’Œæ–¹å‘ã€‚\r\nåœ¨æœ‰äººç±»ä¸“å®¶å‚ä¸çš„æƒ…å†µä¸‹ï¼Œæ¨¡æ‹Ÿå™¨ä¸ä»…èƒ½åœ¨æ¼”ç¤ºä¹‹é—´è‡ªåŠ¨é‡ç½®ï¼Œä»è€Œå‡å°‘å·¥ä½œé‡ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå®ƒåˆ©ç”¨è¿åŠ¨è§„åˆ’å™¨ï¼Œå®Œå…¨æ¶ˆé™¤äº†äººç±»å¹²é¢„çš„éœ€è¦ã€‚è¿™æ ·ï¼Œåªéœ€æå°‘çš„äººå·¥è¾“å…¥ï¼Œå°±èƒ½ç”Ÿæˆå¤§è§„æ¨¡ã€é«˜è´¨é‡çš„æ¼”ç¤ºæ•°æ®é›†ã€‚\r\nå› æ­¤ï¼Œæ¨¡æ‹Ÿå™¨å¤§å¤§å‡å°‘äº†æ•°æ®æ”¶é›†æ‰€éœ€çš„æ—¶é—´å’Œç²¾åŠ›ã€‚ å¦‚è¡¨ I\r\næ‰€ç¤ºï¼Œåœ¨ç°å®ä¸–ç•Œä¸­æ”¶é›†æ¼”ç¤ºæ•°æ®éœ€è¦çº¦ 20.5 ä¸ªå°æ—¶ï¼Œè€Œåœ¨æ¨¡æ‹Ÿå™¨ä¸­åªéœ€ 3\r\nä¸ªå°æ—¶å°±èƒ½å®ŒæˆåŒæ ·çš„ä»»åŠ¡ï¼Œè¿™å……åˆ†ä½“ç°äº†æ–¹æ³•çš„é«˜æ•ˆæ€§å’Œå¯æ‰©å±•æ€§ã€‚\r\nB. é›¶æ ·æœ¬ç­–ç•¥éƒ¨ç½²ç»“æœ\r\n\r\nä»¥ä»»åŠ¡æˆåŠŸç‡ä¸ºä¸»è¦æŒ‡æ ‡ï¼Œè¯„ä¼°äº†ç­–ç•¥åœ¨å››ä¸ªæ¥è§¦ä¸°å¯Œçš„çœŸå®ä¸–ç•Œä»»åŠ¡ä¸­çš„éƒ¨ç½²æƒ…å†µã€‚\r\nå¦‚è¡¨ I æ‰€ç¤ºï¼Œæ–¹æ³•å®ç°äº† 86.25% çš„ Sim2Real\r\nä¼ è¾“å¹³å‡æˆåŠŸç‡ï¼Œè€Œç›´æ¥åœ¨çœŸå®ä¸–ç•Œæ•°æ®ä¸Šè®­ç»ƒçš„ç­–ç•¥æˆåŠŸç‡ä¸º\r\n97.5%ï¼Œè¿™å‡¸æ˜¾äº†æ–¹æ³•çš„æœ‰æ•ˆæ€§ã€‚ æ‰€æœ‰å®éªŒå‡ä½¿ç”¨é…å¤‡äº† Robotiq 2F-85 æŠ“æ‰‹å’Œ\r\n2 ä¸ªè‹±ç‰¹å°” Realsense D455 æ‘„åƒå¤´çš„ UR5 æœºå™¨äººï¼Œå¹¶åœ¨è‹±ä¼Ÿè¾¾ RTX 3080Ti GPU\r\nä¸Šéƒ¨ç½²äº†æ‰©æ•£ç­–ç•¥ã€‚\r\n\r\nT-Push ä»»åŠ¡ï¼š T-Push ä»»åŠ¡ç”± Diffusion\r\nPolicyæ¨å¹¿ï¼Œå¯æ•æ‰éè§¦è§‰æ“ä½œçš„åŠ¨æ€ï¼Œå…¶ä¸­æ¶‰åŠæ§åˆ¶ç‰©ä½“ç§»åŠ¨å’Œæ¥è§¦åŠ›ã€‚\r\nåœ¨è®­ç»ƒä¸­ï¼Œäººç±»ä¸“å®¶ä½¿ç”¨ Gello teleoper-ationï¼Œåœ¨æ¨¡æ‹Ÿä¸­æ”¶é›†äº† 160 æ¬¡æ¼”ç¤ºã€‚\r\næµ‹è¯•æ—¶ï¼Œæœºå™¨äººä»éšæœºä½ç½®å‡ºå‘ï¼Œåœ¨é›¶æ ·æœ¬ Sim2Real ä¼ è¾“ä¸­å–å¾—äº† 90%\r\nçš„æˆåŠŸç‡ï¼ˆ36/40 æ¬¡è¯•éªŒï¼‰ï¼Œå¦‚è¡¨ I æ‰€ç¤ºã€‚\r\nè¿™ä¸€ç»“æœè¡¨æ˜ï¼Œæ¡†æ¶åœ¨çœŸå®ä¸–ç•Œçš„æ¼”ç¤ºä¸­æ— éœ€å¾®è°ƒå°±èƒ½æœ‰æ•ˆå¤„ç†æ¨åŠ¨çš„åŠ¨æ€è¿‡ç¨‹ã€‚\r\næ­¤å¤–ï¼Œæ–¹æ³•ä¸ Real2Realï¼ˆ40/40ï¼‰å’Œ Sim2Simï¼ˆ40/40ï¼‰çš„æ€§èƒ½ç›¸å½“ã€‚\r\nPick-Up-Apple ä»»åŠ¡ï¼š Pick-Up-Apple\r\nä»»åŠ¡æ¶‰åŠåœ¨ä¸‰ç»´ç©ºé—´ä¸­æŠ“å–å’Œæ“çºµç‰©ä½“çš„å®Œæ•´å§¿æ€ï¼ˆå³ä½ç½®å’Œæ–¹å‘ï¼‰ã€‚\r\nè¯¥ä»»åŠ¡æ—¨åœ¨è¯„ä¼°æœºå™¨äººåœ¨ä½¿ç”¨è®ºæ–‡çš„æ¨¡æ‹Ÿæ¸²æŸ“åœºæ™¯è¿›è¡Œè®­ç»ƒæ—¶çš„æŠ“å–èƒ½åŠ›ã€‚\r\nè¿åŠ¨è§„åˆ’å™¨åˆ©ç”¨æ¨¡æ‹Ÿå™¨ä¸­çš„ç‰¹æƒçŠ¶æ€ä¿¡æ¯ï¼ˆåœºæ™¯ä¸­æ¯ä¸ªåˆšä½“çš„å‡†ç¡®ä½ç½®å’Œæ–¹å‘ï¼‰ï¼Œç”Ÿæˆäº†\r\n400 ä¸ªå…·æœ‰éšæœºæœ«ç«¯æ‰§è¡Œå™¨ä½ç½®å’Œæ–¹å‘çš„æ¼”ç¤ºã€‚ å¦‚è¡¨ I\r\næ‰€ç¤ºï¼Œåœ¨çœŸå®ä¸–ç•Œçš„è¯•éªŒä¸­ï¼Œç­–ç•¥åœ¨é›¶æ ·æœ¬ Sim2Real ä¼ è¾“ä¸­å–å¾—äº† 95%\r\nçš„æˆåŠŸç‡ï¼ˆ38/40 æ¬¡è¯•éªŒï¼‰ã€‚\r\nOrange on Plate ä»»åŠ¡ï¼š\r\nåœ¨è¿™é¡¹ä»»åŠ¡ä¸­ï¼Œæœºå™¨äººå¿…é¡»æ¡èµ·ä¸€ä¸ªæ©˜å­å¹¶å°†å…¶æ”¾åœ¨ç›˜å­é‡Œã€‚\r\nåœ¨æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­ï¼Œè¿åŠ¨è§„åˆ’å™¨è·å–äº†ç‰¹æƒä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆäº† 400 æ¬¡æ¼”ç¤ºã€‚\r\nåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæœ«ç«¯æ‰§è¡Œå™¨çš„ä½ç½®å’Œåˆå§‹æŠ“æ‰‹çŠ¶æ€æ˜¯éšæœºçš„ã€‚\r\næµ‹è¯•æœŸé—´ï¼Œæœºå™¨äººæ€»æ˜¯ä»åŸç‚¹å¼€å§‹ã€‚ è®ºæ–‡åœ¨ Sim2Real çš„é›¶ç‚¹è½¬ç§»ä¸­å–å¾—äº† 90%\r\nçš„æˆåŠŸç‡ï¼ˆ36/40 æ¬¡è¯•éªŒï¼‰ã€‚\r\nAssembly ä»»åŠ¡ï¼š\r\nåœ¨è¿™é¡¹ä»»åŠ¡ä¸­ï¼Œæœºå™¨äººå¿…é¡»å°†ä¸€ä¸ªé•¿æ–¹ä½“å—æ”¾åœ¨å¦ä¸€ä¸ªé•¿æ–¹ä½“å—çš„é¡¶éƒ¨ã€‚\r\næœºå™¨äººä»åŸç‚¹å¼€å§‹æŠ“å–ç»¿è‰²ç«‹æ–¹ä½“ï¼Œå¹¶å°†å…¶æ”¾åˆ°çº¢è‰²ç«‹æ–¹ä½“çš„é¡¶éƒ¨ã€‚\r\nè¿™é¡¹ä»»åŠ¡ç‰¹åˆ«è‰°å·¨ï¼Œå› ä¸ºæœºå™¨äººå¿…é¡»ç²¾ç¡®æ”¾ç½®ï¼Œå¦åˆ™ç«‹æ–¹ä½“å°±ä¼šæ‰è½ï¼Œå¯¼è‡´å¤±è´¥ã€‚\r\nè®ºæ–‡çš„ Sim2Real ç­–ç•¥åœ¨è¿™é¡¹ä»»åŠ¡ä¸­çš„è¡¨ç°ä¸º 70%ï¼ˆ28/40 æ¬¡è¯•éªŒï¼‰ï¼Œè€Œ Sim2Sim\r\nçš„è¡¨ç°ä¸º 95%ï¼ŒReal2Real çš„è¡¨ç°ä¸º 90%ã€‚\r\n\r\nC. é‡åŒ–æœºå™¨äººæ¸²æŸ“\r\né€šè¿‡ä¸çœŸå®ä¸–ç•Œçš„å›¾åƒè¿›è¡Œæ¯”è¾ƒï¼Œè®ºæ–‡å®šé‡è¯„ä¼°äº†åœ¨ä¸åŒå…³èŠ‚é…ç½®ä¸‹æ¸²æŸ“çš„æœºå™¨äººå›¾åƒçš„å‡†ç¡®æ€§ã€‚\r\nè®ºæ–‡è¯„ä¼°äº† 300 ä¸ªä¸åŒæœºå™¨äººå…³èŠ‚è§’åº¦ä¸‹çš„æœºå™¨äººæ¸²æŸ“è´¨é‡ã€‚\r\nä¸ºäº†è¡¡é‡æ¸²æŸ“å›¾åƒä¸çœŸå®ä¸–ç•Œå›¾åƒä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œè®ºæ–‡é‡‡ç”¨äº†å›¾åƒæ¸²æŸ“è¯„ä¼°ä¸­å¸¸ç”¨çš„ä¸¤ä¸ªæŒ‡æ ‡ï¼š\r\nå³°å€¼ä¿¡å™ªæ¯”ï¼ˆPSNRï¼‰å’Œç»“æ„ç›¸ä¼¼æ€§æŒ‡æ•°ï¼ˆSSIMï¼‰ã€‚\r\nå°½ç®¡å…³èŠ‚é…ç½®å„ä¸ç›¸åŒï¼Œä½†æ¸²æŸ“å›¾åƒçš„å¹³å‡ PSNR å’Œ SSIM åˆ†åˆ«è¾¾åˆ°äº† 22.62 å’Œ\r\n0.7845ï¼Œè¡¨æ˜æ¨¡æ‹Ÿå›¾åƒéå¸¸æ¥è¿‘çœŸå®ä¸–ç•Œ RGB è§‚å¯Ÿå›¾åƒçš„è§†è§‰è´¨é‡ã€‚\r\nD. æ•°æ®å¢å¼ºçš„æ•ˆæœ\r\nä¸ºäº†é‡åŒ–æ•°æ®å¢å¼ºå¯¹ç­–ç•¥åœ¨æ¨¡æ‹Ÿä¸çœŸå®ç¯å¢ƒä¸­æ€§èƒ½çš„å½±å“ï¼Œè®ºæ–‡å¯¹ç»è¿‡è®­ç»ƒçš„ç­–ç•¥è¿›è¡Œäº†æœ‰å¢å¼ºå’Œæ— å¢å¼ºçš„å¯¹æ¯”å®éªŒã€‚\r\nè™½ç„¶åœ¨ä¸€è‡´çš„ç¯å¢ƒï¼ˆå¦‚ Sim2Sim æˆ– Real2Real\r\nåœºæ™¯ï¼‰ä¸­ï¼Œæ‰©æ•£ç­–ç•¥åœ¨æ²¡æœ‰å¢å¼ºçš„æƒ…å†µä¸‹ä¹Ÿèƒ½æœ‰æ•ˆæ‰§è¡Œï¼Œä½†å°†åœ¨æ¨¡æ‹Ÿç¯å¢ƒä¸­è®­ç»ƒçš„ç­–ç•¥è½¬ç§»åˆ°çœŸå®ä¸–ç•Œæ—¶ï¼Œç”±äºæ¸²æŸ“æ— æ³•æ•æ‰åŠ¨æ€ç»†èŠ‚ï¼ˆå¦‚ä¸æ–­å˜åŒ–çš„åå°„å’Œé˜´å½±ï¼‰ï¼Œå› æ­¤ä¼šå¼•å…¥é¢†åŸŸåç§»ï¼Œä»è€Œéœ€è¦é¢å¤–çš„é²æ£’æ€§ã€‚\r\nè®ºæ–‡åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­åŠ å…¥äº†éšæœºå™ªéŸ³æ·»åŠ ã€è‰²å½©æŠ–åŠ¨å’Œéšæœºæ“¦é™¤ç­‰å¢å¼ºåŠŸèƒ½ï¼Œä»¥åº”å¯¹è¿™äº›å˜åŒ–ã€‚\r\nåœ¨ B èŠ‚çš„å››é¡¹ä»»åŠ¡ä¸­ï¼Œè¿™äº›å¢å¼ºæªæ–½å°†è¯¥ç­–ç•¥çš„æ€§èƒ½ä» 21% æé«˜åˆ°\r\n86.25%ã€‚\r\nç»“è®º\r\nåœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œè®ºæ–‡åˆ©ç”¨é«˜æ–¯æ³¼æº…æŠ€æœ¯ï¼ˆGaussian\r\nSplattingï¼‰ä½œä¸ºä¸€ç§é€¼çœŸçš„æ¸²æŸ“æŠ€æœ¯ï¼Œå¹¶ä¸ç°æœ‰çš„åŸºäºç‰©ç†äº¤äº’çš„æ¨¡æ‹Ÿå™¨é›†æˆï¼Œä»è€Œç¼©å°äº†åŸºäº\r\nRGB çš„æ“ä½œç­–ç•¥çš„æ¨¡æ‹Ÿä¸çœŸå®ä¹‹é—´çš„å·®è·ã€‚\r\nè®ºæ–‡çš„æ¡†æ¶å®ç°äº†åœ¨æ¨¡æ‹Ÿä¸­è®­ç»ƒå¥½çš„åŸºäº RGB\r\nçš„æ“ä½œç­–ç•¥åˆ°çœŸå®ç¯å¢ƒä¸­çš„é›¶æ ·æœ¬è½¬ç§»ã€‚\r\nè™½ç„¶è®ºæ–‡çš„æ¡†æ¶æ¨åŠ¨äº†å½“å‰æœ€å…ˆè¿›æŠ€æœ¯çš„å‘å±•ï¼Œä½†å®ƒä»å±€é™äºåˆšä½“æ“çºµï¼Œæ— æ³•å¤„ç†å¸ƒã€æ¶²ä½“æˆ–æ¤ç‰©ç­‰å¤æ‚ç‰©ä½“ã€‚\r\næœªæ¥è®¡åˆ’å°†ç°æœ‰çš„æ¡†æ¶ä¸åŸºäºå¼ºåŒ–å­¦ä¹ çš„æ–¹æ³•ç›¸ç»“åˆï¼Œä»¥è·å¾—æ›´å¤šåŠ¨æ€æŠ€èƒ½ã€‚è¿˜å°†è¿›ä¸€æ­¥æ”¹è¿›ç³»ç»Ÿï¼Œä»¥ä¾¿åœ¨ç°å®ä¸–ç•Œä¸­è®­ç»ƒå’Œéƒ¨ç½²æœºå™¨äººæ‰§è¡Œé«˜åº¦å¤æ‚å’Œæ¥è§¦ä¸°å¯Œçš„ä»»åŠ¡ã€‚\r\n","categories":["ä¸‰ç»´é‡å»º"],"tags":["3DGS","Sim2Real"]},{"title":"NeRF Studioç®€è¦æ•™ç¨‹","url":"/2024/11/12/08-NeRF_Studio/","content":"å‡†å¤‡å·¥ä½œ\r\nå®‰è£…NeRF Studio\r\nå®˜æ–¹ä»“åº“\r\nå†™çš„æ•™ç¨‹å·²ç»å¾ˆè¯¦å°½äº†ã€‚\r\ngit clone https://github.com/nerfstudio-project/nerfstudio.gitcd nerfstudiopip install --upgrade pip setuptoolspip install -e .\r\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œopen3dåº“åªæ”¯æŒpython 3.8-3.11ï¼Œåšä¸»æ˜¯ç”¨python 3.10å®‰è£…çš„ä¾èµ–ã€‚åé¢ç§Ÿäº†ä¸ªæœåŠ¡å™¨ç”¨python 3.12ï¼Œç»“æœæ‰¾ä¸åˆ°ç›¸åº”ç‰ˆæœ¬çš„open3dï¼Œå»ºè®®è¿˜æ˜¯æŒ‰æ¨èé…ç½®æ¥ã€‚\r\nå®‰è£…tiny-cuda-nn\r\nåœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œç»ˆç«¯å‡ºç°äº†å¦‚ä¸‹çš„warningï¼š\r\nWARNING: Using a slow implementation for the SHEncoding module. ğŸƒ ğŸƒ Install tcnn for speedups ğŸƒ ğŸƒpip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torchWARNING: Using a slow implementation for the NeRFEncoding module. ğŸƒ ğŸƒ Install tcnn for speedups ğŸƒ ğŸƒpip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torchWARNING: Using a slow implementation for the MLPWithHashEncoding module. ğŸƒ ğŸƒ Install tcnn for speedups ğŸƒ ğŸƒpip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torchWARNING: Using a slow implementation for the MLP module. ğŸƒ ğŸƒ Install tcnn for speedups ğŸƒ ğŸƒpip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torchWARNING: Using a slow implementation for the HashEncoding module. ğŸƒ ğŸƒ Install tcnn for speedups ğŸƒ ğŸƒpip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch\r\næç¤ºä½ å¯ä»¥ç”¨tcnnè¿›è¡ŒåŠ é€Ÿã€‚æ ¹æ®å®ƒçš„æç¤ºè¾“å…¥æŒ‡ä»¤ï¼š\r\npip install git+https://github.com/NVlabs/tiny-cuda-nn/#subdirectory=bindings/torch\r\nä¸å‡ºæ„å¤–çš„è¯å°±è¦å‡ºæ„å¤–äº†ï¼š\r\n\r\nå…ˆæ˜¯æŸ¥çœ‹äº†ä¸‹æ–‡æ¡£ï¼Œè¯´æ˜¯è¦æ±‚ g++ &lt; 11 ï¼Œäºæ˜¯å®‰è£…äº†g++-9ï¼š\r\nsudo apt install g++-9\r\nç„¶ååˆ‡æ¢ç‰ˆæœ¬ï¼š\r\nsudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-9 20\r\nå¦‚æœæœ‰å¤šä¸ªç‰ˆæœ¬å¥½åƒè¿˜å¾—æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤åˆ‡æ¢ï¼š sudo update-alternatives --config g++\r\nå‘ç°è¿˜æ˜¯ä¸è¡Œï¼Œçœ‹æŠ¥é”™é‡Œæœ‰è¿™æ ·ä¸€å¥ï¼š\r\n\r\nè¯´æ˜é—®é¢˜å‡ºåœ¨lcudaï¼Œg++æ‰¾ä¸åˆ°lcudaã€‚å› ä¸ºåšä¸»ä½¿ç”¨çš„WSLï¼Œcudaåº“å­˜æ”¾åœ¨/usr/lib/wsl/libä¸­ï¼Œå°†å®ƒå¤åˆ¶å‡ºæ¥å³å¯ï¼š\r\nsudo cp /usr/lib/wsl/lib/* /usr/lib\r\nç„¶åå†æ¬¡æ‰§è¡Œå®‰è£…å°±æˆåŠŸäº†ã€‚\r\nå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨å®‰è£…tcnnä¹‹å‰ï¼Œåšä¸»ç”¨nerfactoè®­ç»ƒ30000ä¸ªstepç”¨äº†ä¸¤å°æ—¶ï¼Œè€Œå®‰è£…ä¹‹åä»…éœ€20åˆ†é’Ÿï¼Œè¿™ä¸ªæå‡è¿˜æ˜¯è›®å¯è§‚çš„ã€‚\r\næŠ¥é”™åŠè§£å†³æ–¹æ¡ˆ\r\nä½¿ç”¨splatfactoè®­ç»ƒæŠ¥é”™\r\n1. No CUDA toolkit found.\r\nåœ¨ä½¿ç”¨splatfactoè¿›è¡Œè®­ç»ƒæ—¶æŠ¥é”™ï¼š\r\n\r\næ˜¾ç¤ºCUDA Tookitæ‰¾ä¸åˆ°ï¼Œç„¶è€Œæˆ‘çš„ç”¨æˆ·ç›®å½•é‡Œæ˜¯æœ‰çš„ã€‚\r\nåœ¨githubçš„issueé‡Œæ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼šNo CUDA\r\ntoolkit found. gsplat will be disabled. Â· Issue #249 Â·\r\nnerfstudio-project/gsplat\r\nå³ï¼Œå°†pathæ·»åŠ è¿›å»ï¼š\r\nexport PATH=/usr/local/cuda-12.6/bin$&#123;PATH:+:$&#123;PATH&#125;&#125;\r\nå¯ä»¥å°†è¿™å¥æ·»åŠ åˆ°~/.bashrcé‡Œï¼Œæ¯æ¬¡æ‰“å¼€terminalå°±ä¸ç”¨å†è¾“å…¥ä¸€éäº†ã€‚\r\n2. ninja: build stopped:\r\nsubcommand failed.\r\nè§£å†³ä¸Šä¸ªé—®é¢˜åç»“æœè¿˜æ˜¯æŠ¥é”™ï¼š\r\n\r\næŸ¥é˜…å‘ç°æ˜¯å†…å­˜ä¸å¤Ÿï¼Œè¿›ç¨‹ç›´æ¥è¢«killäº†ã€‚è‡ªå·±çš„WSLè™šæ‹Ÿæœºå†…å­˜å¤ªå°‘äº†ã€‚å°è¯•ç§ŸæœåŠ¡å™¨ï¼Œè§£å†³ã€‚\r\nä½¿ç”¨nerfbustersè®­ç»ƒæŠ¥é”™ï¼ˆæœªå®Œå…¨è§£å†³ï¼‰\r\n1.\r\nModuleNotFoundError: No module named\r\n'nerfstudio.fields.visibility_field'\r\nåœ¨ä½¿ç”¨nerfbustersæ–¹æ³•æ—¶ï¼Œæ ¹æ®æ–‡æ¡£ä¸­çš„æ•™ç¨‹å®‰è£…nerfbusterä¹‹åï¼Œç®€å•çš„ä½¿ç”¨--helpä¹Ÿä¼šå‡ºç°å¦‚ä¸‹çš„æŠ¥é”™ï¼š\r\nModuleNotFoundError: No module named &#x27;nerfstudio.fields.visibility_field&#x27;\r\nåˆ‡æ¢å…¶ä»–åŸºäºNeRFçš„æ–¹æ³•ï¼Œæœ‰çš„ä¾ç„¶ä¼šå‡ºç°è¿™ä¸ªæŠ¥é”™ã€‚\r\nç„¶ååœ¨issueä¸­æ‰¾åˆ°äº†ç›¸ä¼¼çš„æƒ…å†µï¼š\r\nWhere's\r\nnerfstudio VisibilityFIeld come from? Â· Issue #17 Â·\r\nethanweber/nerfbusters\r\nfrom\r\nnerfstudio.fields.visibility_field import VisibilityField\r\nModuleNotFoundError: No module named\r\n'nerfstudio.fields.visibility_field' Â· Issue #3185 Â·\r\nnerfstudio-project/nerfstudio\r\nVisibility\r\nField from Nerfbusters by ethanweber Â· Pull Request #2264 Â·\r\nnerfstudio-project/nerfstudio\r\nå…¶ä¸­æåˆ°ï¼Œä»–ä»¬å½“å‰ä½¿ç”¨çš„branchæ˜¯nerfbusters-changesï¼Œå¹¶æ²¡æœ‰è®¡åˆ’æŠŠä»–åˆå¹¶åˆ°main\r\nbranchã€‚\r\næ‰€ä»¥éœ€è¦å…‹éš†ä»–ä»¬çš„nerfbusters-changes branchï¼š\r\ngit clone -b nerfbusters-changes https://github.com/nerfstudio-project/nerfstudio.git\r\nç„¶ååœ¨æ ¹ç›®å½•æ‰§è¡Œå®‰è£…ï¼š\r\npip install -e .\r\nè¿™æ ·å°±å¯ä»¥äº†ã€‚\r\n2. `numpy` has\r\nno attribute `bool8`. Did you mean: `bool`?\r\nè¿™æ˜¯å› ä¸ºnumpyåœ¨1.24æ›´æ–°åå°†bool8æ›´åä¸ºäº†boolï¼Œé™çº§numpyç‰ˆæœ¬å³å¯ï¼š\r\npip install numpy==1.23\r\n3. The viewer\r\nbridge server subprocess failed.\r\n\r\nåˆ‡æ¢åˆ†æ”¯åè¿è¡ŒåŸæœ‰çš„æ–¹æ³•éƒ½ä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ã€‚è¯´æ˜¯viewerçš„æœåŠ¡å¯åŠ¨å¤±è´¥äº†ï¼Œé€šè¿‡--viewer.websocket-portæ›´æ”¹çª—å£ä¾ç„¶æ˜¯ç›¸åŒçš„æŠ¥é”™ï¼Œäºæ˜¯æ ¹æ®æç¤ºæŸ¥çœ‹äº†logï¼š\r\n\r\nå¥½å˜›ï¼Œç»™æˆ‘åŸæ¥çš„moduleææ²¡äº†ï¼Œæˆ‘åˆå›åŸæ¥çš„åˆ†æ”¯é‡æ–°pip install -e .ï¼Œç„¶åå†è¿è¡Œã€‚\r\n\r\né—¹é¬¼äº†ï¼Œæˆ‘ä¸ç©äº†è¡Œå§ï¼Œnerfbustersç»™åŠ³èµ„æ»šï¼ğŸ˜ \r\nä½¿ç”¨zipnerfæŠ¥é”™\r\n1.\r\nERROR: Failed building wheel for cuda_backend æˆ–è€… No module named\r\n'_cuda_backend'\r\nåœ¨ä½¿ç”¨\r\npip install git+https://github.com/SuLvXiangXin/zipnerf-pytorch#subdirectory=extensions/cuda\r\nå®‰è£…ä¾èµ–çš„æ—¶å€™ï¼Œå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š\r\n\r\nå¼€å§‹æ²¡æœ‰ç®¡ä»–ï¼Œç›´åˆ°æœ€åè®­ç»ƒçš„æ—¶å€™åˆå¼¹å‡ºæŠ¥é”™ï¼š\r\n\r\n\r\nimage-20241126233117488\r\n\r\nçœ‹æ ·å­æ˜¯é€ƒä¸æ‰äº†ã€‚\r\n2.\r\nAssertionError: pipeline.datamanager.dataparser...\r\n\r\nç¬¬ä¸€æ¬¡å‡ºç°è¿™é•¿ä¸²æŠ¥é”™æ˜¯å› ä¸ºå‚æ•°æ²¡è¾“å¯¹ï¼Œç¬¬äºŒæ¬¡é—®gptè¯´æ˜¯ä¸\r\ntyro ç‰ˆæœ¬æœ‰å…³ï¼Œå°è¯•å‡çº§ tyro\r\nåº“ä»¥åŠç›¸å…³ä¾èµ–ï¼š\r\npip install --upgrade tyro\r\nç„¶åçœ‹åˆ°erroræ€‚äº†ï¼š\r\n\r\näºæ˜¯åˆæ”¹å›äº†æ¨èçš„ç‰ˆæœ¬ï¼š\r\npip install tyro==2.13.3\r\nç„¶åå†è¿è¡Œå°±å¯ä»¥äº†ã€‚\r\n3.\r\nAssertionError: Colmap path data/processed_truck/sparse/0 does not\r\nexist.\r\nè¿™ä¸ªåŸå› æ˜¯zipnerfç”¨çš„æ•°æ®é›†æ ¼å¼å’Œnerfstudioå¥½åƒä¸å®Œå…¨ä¸€è‡´ï¼Œæˆ‘ç”¨äº†ä¸‹tandtçš„æ•°æ®é›†å‘ç°å¯è¡Œï¼Œä½†æ˜¯å®ƒä¼šå¯¹å›¾åƒå…ˆè¿›è¡Œä¸€æ¬¡ä¸‹é‡‡æ ·ã€‚\r\n(nerf2mesh) root@I1dc2923c3f00801cdf:~/3D-Reconstruction/nerf2mesh# python main.py nerfstudio/poster/ --workspace trial_syn_poster/ -O --bound 1 --scale 0.8 --dt_gamma 0 --stage 0 --lambda_tv 1e-8Warning:Unable to load the following plugins:        libio_e57.so: libio_e57.so does not seem to be a Qt Plugin.Cannot load library /usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/pymeshlab/lib/plugins/libio_e57.so: (/usr/lib/x86_64-linux-gnu/libp11-kit.so.0: undefined symbol: ffi_type_pointer, version LIBFFI_BASE_7.0)Loading train data: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 225/225 [00:08&lt;00:00, 25.09it/s][INFO] max_epoch 134, eval every 26, save every 2.[INFO] Trainer: ngp_stage0 | 2024-11-26_15-12-23 | cuda | fp16 | trial_syn_poster/[INFO] #parameters: 18367240Namespace(path=&#x27;nerfstudio/poster/&#x27;, O=True, workspace=&#x27;trial_syn_poster/&#x27;, seed=0, stage=0, ckpt=&#x27;latest&#x27;, fp16=True, sdf=False, tcnn=False, progressive_level=False, test=False, test_no_video=False, test_no_mesh=False, camera_traj=&#x27;&#x27;, data_format=&#x27;nerf&#x27;, train_split=&#x27;train&#x27;, preload=True, random_image_batch=True, downscale=1, bound=1.0, scale=0.8, offset=[0, 0, 0], mesh=&#x27;&#x27;, enable_cam_near_far=False, enable_cam_center=False, min_near=0.05, enable_sparse_depth=False, enable_dense_depth=False, iters=30000, lr=0.01, lr_vert=0.0001, pos_gradient_boost=1, cuda_ray=True, max_steps=1024, update_extra_interval=16, max_ray_batch=4096, grid_size=128, mark_untrained=True, dt_gamma=0.0, density_thresh=10, diffuse_step=1000, diffuse_only=False, background=&#x27;random&#x27;, enable_offset_nerf_grad=False, n_eval=5, n_ckpt=50, num_rays=4096, adaptive_num_rays=True, num_points=262144, lambda_density=0, lambda_entropy=0, lambda_tv=1e-08, lambda_depth=0.1, lambda_specular=1e-05, lambda_eikonal=0.1, lambda_rgb=1, lambda_mask=0.1, wo_smooth=False, lambda_lpips=0, lambda_offsets=0.1, lambda_lap=0.001, lambda_normal=0, lambda_edgelen=0, contract=False, patch_size=1, trainable_density_grid=False, color_space=&#x27;srgb&#x27;, ind_dim=0, ind_num=500, mcubes_reso=512, env_reso=256, decimate_target=300000.0, mesh_visibility_culling=True, visibility_mask_dilation=5, clean_min_f=8, clean_min_d=5, ssaa=2, texture_size=4096, refine=True, refine_steps_ratio=[0.1, 0.2, 0.3, 0.4, 0.5, 0.7], refine_size=0.01, refine_decimate_ratio=0.1, refine_remesh_size=0.02, vis_pose=False, gui=False, W=1000, H=1000, radius=5, fovy=50, max_spp=1, refine_steps=[3000, 6000, 9000, 12000, 15000, 21000])NeRFNetwork(  (encoder): GridEncoder: input_dim=3 num_levels=16 level_dim=1 resolution=16 -&gt; 2048 per_level_scale=1.3819 params=(6119864, 1) gridtype=hash align_corners=False interpolation=linear  (sigma_net): MLP(    (net): ModuleList(      (0): Linear(in_features=19, out_features=32, bias=False)      (1): Linear(in_features=32, out_features=1, bias=False)    )  )  (encoder_color): GridEncoder: input_dim=3 num_levels=16 level_dim=2 resolution=16 -&gt; 2048 per_level_scale=1.3819 params=(6119864, 2) gridtype=hash align_corners=False interpolation=linear  (color_net): MLP(    (net): ModuleList(      (0): Linear(in_features=35, out_features=64, bias=False)      (1): Linear(in_features=64, out_features=64, bias=False)      (2): Linear(in_features=64, out_features=6, bias=False)    )  )  (specular_net): MLP(    (net): ModuleList(      (0): Linear(in_features=6, out_features=32, bias=False)      (1): Linear(in_features=32, out_features=3, bias=False)    )  ))[INFO] Loading latest checkpoint ...[WARN] No checkpoint found, abort loading latest model.Loading val data: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 1/1 [00:00&lt;00:00, 21.10it/s][mark untrained grid] 9364 from 2097152==&gt; Start Training Epoch 1, lr=0.000100 ...... ...loss=0.091703 (0.104557) lr=0.004555: : 100% 225/225 [00:03&lt;00:00, 69.94it/s]==&gt; Finished Epoch 133, loss = 0.078408.==&gt; Start Training Epoch 134, lr=0.001006 ...loss=0.075468 (0.078282) lr=0.000988: : 100% 225/225 [00:04&lt;00:00, 52.46it/s]==&gt; Finished Epoch 134, loss = 0.078282.[INFO] training takes 10.078925 minutes.Setting up [LPIPS] perceptual loss: trunk [vgg], v[0.1], spatial [off]/usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/torchvision/models/_utils.py:208: UserWarning: The parameter &#x27;pretrained&#x27; is deprecated since 0.13 and may be removed in the future, please use &#x27;weights&#x27; instead.  warnings.warn(/usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/torchvision/models/_utils.py:223: UserWarning: Arguments other than a weight enum or `None` for &#x27;weights&#x27; are deprecated since 0.13 and may be removed in the future. The current behavior is equivalent to passing `weights=VGG16_Weights.IMAGENET1K_V1`. You can also use `weights=VGG16_Weights.DEFAULT` to get the most up-to-date weights.  warnings.warn(msg)Downloading: &quot;https://download.pytorch.org/models/vgg16-397923af.pth&quot; to /root/.cache/torch/hub/checkpoints/vgg16-397923af.pth100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 528M/528M [35:11&lt;00:00, 262kB/s]Loading model from: /usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/lpips/weights/v0.1/vgg.pth++&gt; Evaluate at epoch 134 ...loss=0.213495 (0.213495): : 100% 1/1 [00:00&lt;00:00,  1.07it/s]PSNR = 6.706122LPIPS (vgg) = 0.767062++&gt; Evaluate epoch 134 Finished, loss = 0.213495==&gt; Start Test, save results to trial_syn_poster/results100% 11/11 [00:03&lt;00:00,  3.40it/s]Traceback (most recent call last):  File &quot;/root/3D-Reconstruction/nerf2mesh/main.py&quot;, line 263, in &lt;module&gt;    trainer.test(test_loader, write_video=True) # test and save video  File &quot;/root/3D-Reconstruction/nerf2mesh/nerf/utils.py&quot;, line 1005, in test    imageio.mimwrite(os.path.join(save_path, f&#x27;&#123;name&#125;_rgb.mp4&#x27;), all_preds, fps=24, quality=8, macro_block_size=1)  File &quot;/usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/imageio/v2.py&quot;, line 494, in mimwrite    with imopen(uri, &quot;wI&quot;, **imopen_args) as file:  File &quot;/usr/local/miniconda3/envs/nerf2mesh/lib/python3.10/site-packages/imageio/core/imopen.py&quot;, line 281, in imopen    raise err_type(err_msg)ValueError: Could not find a backend to open `trial_syn_poster/results/ngp_stage0_ep0134_rgb.mp4`` with iomode `wI`.Based on the extension, the following plugins might add capable backends:  FFMPEG:  pip install imageio[ffmpeg]  pyav:  pip install imageio[pyav]100% 11/11 [00:04&lt;00:00,  2.67it/s]\r\nè¿è¡Œç»“æœ\r\nnerfactoå’Œsplatfactoæ¸²æŸ“æ•ˆæœå¯¹æ¯”\r\nç”±äºèƒŒæ™¯åœºæ™¯å¤ªè¿‡æ‚ä¹±ï¼Œåœ¨å¯¼å‡ºçš„æ—¶å€™é€‰æ‹©äº†cropä¸€ä¸‹ï¼Œåªä¿ç•™äº†ä¸»ä½“ã€‚\r\nå¯¹äºåŸºäºNeRFçš„æ–¹æ³•nerfactoï¼Œå¯ä»¥é€‰æ‹©å¯¼å‡ºç‚¹äº‘æˆ–è€…ç½‘æ ¼ã€‚å¯¼å‡ºçš„ç½‘æ ¼åœ¨meshlabè¿›è¡Œå¯è§†åŒ–ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\r\n\r\nå¯ä»¥çœ‹åˆ°ï¼Œposterçš„å†…å®¹æ˜¯æ¯”è¾ƒæ¸…æ™°åœ°è¿˜åŸå‡ºæ¥äº†ï¼Œç„¶è€Œæ¤…å­çš„å½¢çŠ¶ç»“æ„å´æœ‰äº›æŸåï¼Œå°¤å…¶æ˜¯è¶Šé è¿‘ä¸­å¿ƒç¼ºæŸè¶Šä¸¥é‡ã€‚\r\nè€Œå¯¹äºåŸºäº3DGSçš„æ–¹æ³•splatfactoï¼Œå®ƒåªèƒ½é€‰æ‹©å¯¼å‡ºgaussian\r\nsplatã€‚ä¸ºäº†å¯¹å…¶è¿›è¡Œå¯è§†åŒ–ï¼Œé€‰æ‹©ä½¿ç”¨äº† supersplat\r\nè¿™ä¸ªå·¥å…·ï¼š\r\n\r\nå¯ä»¥çœ‹åˆ°ï¼Œé™¤äº†ä¸­å¿ƒçš„ä¸»ä½“å¤–ï¼Œä¸ºäº†æ¸²æŸ“å‡ºèƒŒæ™¯ï¼Œåœ¨å³ä¾¿æ˜¯å¾ˆè¿œçš„åœ°æ–¹ä¹Ÿç”Ÿæˆäº†å¾ˆå¤šä¸ªgaussian\r\nsplatã€‚\r\n\r\nå°†æ‘„åƒå¤´æ‹‰è¿‘åˆ°ä¸»ä½“ï¼Œå‘ç°è¿™ä¸ªé‡æ„æ•ˆæœè¿˜æ˜¯è›®å¥½çš„ã€‚ç„¶è€Œå¦‚ä½•å°†gaussian\r\nsplatè½¬åŒ–ä¸ºç½‘æ ¼å½¢å¼ï¼Œè¿™æ˜¯åç»­å·¥ä½œçš„é‡ç‚¹ã€‚\r\nMeshå¯¼å‡º\r\nåœ¨NeRF Studioä¸­å¯ä»¥å¯¹è®­ç»ƒç»“æœè¿›è¡Œå¯è§†åŒ–çš„å¯¼å‡ºã€‚æ”¯æŒ3D gaussian,\r\npoint cloudå’Œmesh\r\nï¼Œä½†æ˜¯å¯¹äºä¸åŒçš„æ–¹æ³•ï¼Œå¯¼å‡ºçš„æ ¼å¼ä¸åŒã€‚å¦‚åŸºäºNeRFçš„æ–¹æ³•åªèƒ½å¯¼å‡ºç‚¹äº‘å’Œç½‘æ ¼ï¼Œè€ŒåŸºäº3DGSçš„æ–¹æ³•åªèƒ½å¯¼å‡ºä¸‰ç»´é«˜æ–¯ã€‚\r\nè®­ç»ƒä»£ç ç¤ºä¾‹ï¼š\r\nns-train nerfacto --data data/processed_truck/ --output-dir outputs/truck_100000 --max-num-iterations 100000\r\nå¯ä»¥å…ˆå¯¹è®­ç»ƒç»“æœè¿›è¡Œå¯è§†åŒ–ï¼š\r\nns-viewer --load-config path/to/your/trainresult/config.yml\r\nç„¶ååœ¨ç½‘é¡µçš„exportæ å¯ä»¥é€‰æ‹©å¯¼å‡ºå‚æ•°ï¼Œå¹¶å¤åˆ¶å¯¼å‡ºæŒ‡ä»¤ï¼Œä»¥possionçš„å¯¼å‡ºä¸ºä¾‹ï¼š\r\nns-export poisson --load-config outputs/truck_100000/processed_truck/nerfacto/2024-11-26_142623/config.yml --output-dir exports/mesh/truck_100000iter_50000face --target-num-faces 50000 --num-pixels-per-side 2048 --num-points 1000000 --remove-outliers True --normal-method open3d --obb_center 0.0000000000 0.0000000000 0.0000000000 --obb_rotation 0.0000000000 0.0000000000 0.0000000000 --obb_scale 1.0000000000 1.0000000000 1.0000000000\r\nè¿˜å¯ä»¥é€‰æ‹©å…¶ä»–çš„å¯¼å‡ºæ–¹å¼ï¼Œå¦‚tsdfï¼š\r\nns-export tsdf --load-config outputs/truck_100000/processed_truck/nerfacto/2024-11-26_142623/config.yml --output-dir exports/mesh/truck_100000iter_50000face_tsdf --target-num-faces 50000 --num-pixels-per-side 2048\r\næˆ–è€…marching-cubesï¼š\r\nns-export marching-cubes --load-config outputs/truck_100000/processed_truck/nerfacto/2024-11-26_142623/config.yml --output-dir exports/mesh/truck_100000iter_50000face_tsdf --target-num-faces 50000 --num-pixels-per-side 2048\r\nï¼ˆå¥½åƒnerfactoçš„ç»“æœä¸èƒ½ç”¨marching-cubesï¼‰\r\nä¸‹é¢ç›´è§‚å±•ç¤ºä¸‹å¯¼å‡ºmeshçš„æ•ˆæœï¼ˆå‰å››ç§æ˜¯nerfactoï¼Œæœ€åä¸€ä¸ªæ˜¯ç”¨2DGSæ–¹æ³•ç”Ÿæˆçš„ç»“æœï¼‰ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\npossion (30k iters, 50k faces)\r\n\r\n\r\n\r\n\r\n\r\npossion (100k iters, 50k\r\nfaces)\r\n\r\n\r\n\r\npossion (100k iters, 100k\r\nfaces)\r\n\r\n\r\n\r\ntsdf (100k iters, 50k\r\nfaces)\r\n\r\n\r\n\r\n2DGS (2m faces)\r\n\r\n\r\n\r\n\r\nå¯ä»¥çœ‹åˆ°ï¼Œtsdfæå–çš„ç½‘æ ¼è´¨é‡è¿‡ä½ï¼Œè€Œpossionæå–çš„ç½‘æ ¼ç›¸è¾ƒè€Œè¨€åˆ™æ›´ç²¾ç¡®ã€‚æ€»ä½“è€Œè¨€ï¼Œå¯¹äºnerfactoæ–¹æ³•æ¥è¯´ï¼Œiterationçš„æå‡è²Œä¼¼æ²¡æœ‰å¯¹æœ€ç»ˆçš„ç½‘æ ¼äº§ç”Ÿæ¯”è¾ƒå¤§çš„æ”¹å–„ï¼Œ30kçš„è¿­ä»£æ¬¡æ•°å·²ç»è¶³å¤Ÿï¼Œè€Œfaceçš„å¢åŠ å…¶å®ä¹Ÿæ˜¾å¾—ä¸æ˜¯å¾ˆå¿…è¦ï¼Œ50kçš„é¢æ•°å·²ç»è¶³å¤Ÿè¡¨è¾¾ä¸€ä¸ªå¤æ‚çš„ç»“æ„ä½“äº†ã€‚å¯¹äº2DGSï¼Œç”±äºå®ƒæ²¡æœ‰æ•´åˆåˆ°NeRF Studioé‡Œï¼Œå®ƒçš„é‡å»ºæ²¡æœ‰å›ºå®šé¢æ•°ï¼Œæœ€ç»ˆç”Ÿæˆäº†2mçš„é¢ï¼Œè™½ç„¶é‡å»ºæ•ˆæœå¥½å¾ˆå¤šï¼Œä½†æ˜¯å¯¹è®¡ç®—è´Ÿè½½çš„å‹åŠ›æ›´å¤§ã€‚\r\n","categories":["ä¸‰ç»´é‡å»º"],"tags":["NeRF","3DGS"]},{"title":"NeRFå’Œ3DGSå¯¹æ¯”","url":"/2024/10/30/04-NeRFvs3DGS/","content":"NeRF\r\nåŸç†\r\nNeRFï¼ˆNeural Radiance\r\nFieldsï¼‰æ˜¯ä¸€ç§æ–°å‹çš„3Dåœºæ™¯è¡¨ç¤ºæ–¹æ³•ï¼Œé€šè¿‡ç¥ç»ç½‘ç»œæ¥ç”Ÿæˆé€¼çœŸçš„3Dåœºæ™¯ã€‚NeRF\r\nçš„æ ¸å¿ƒæ€æƒ³æ˜¯åˆ©ç”¨ç¥ç»ç½‘ç»œæ¥è¡¨ç¤ºä¸€ä¸ªåœºæ™¯çš„ä½“ç´ ï¼Œä»è€Œå¯ä»¥å®ç°ä»ä¸åŒè§’åº¦å¯¹åœºæ™¯è¿›è¡Œæ¸²æŸ“ï¼Œç”Ÿæˆé«˜è´¨é‡çš„å›¾åƒã€‚\r\nç‰¹ç‚¹ï¼š\r\n\r\nNeRFä¸­ä¸‰ç»´æ¨¡å‹çš„ä¿¡æ¯æ˜¯ä»¥â€œéšå¼â€çš„æ–¹æ³•å­˜å‚¨ï¼Œè€Œéç‚¹äº‘ã€ä½“ç´ ã€ç½‘æ ¼ç­‰æ˜¾å¼çš„è¡¨è¾¾æ–¹å¼ã€‚\r\nNeRFä½¿ç”¨ç±»ä¼¼å…‰çº¿è¿½è¸ªçš„æ–¹å¼åˆ›å»ºæ–°è§†è§’çš„å›¾åƒã€‚è¾“å…¥æ˜¯é‡‡æ ·ç‚¹å’Œè§‚æµ‹çš„æ–¹å‘ï¼Œè¾“å‡ºæ˜¯å¯¹åº”çš„RGBå€¼å’Œä¸é€æ˜åº¦ã€‚\r\n\r\næµç¨‹\r\n\r\n\r\nè¾“å…¥ä¿¡æ¯ï¼šNeRF\r\nå°†3Dç©ºé—´ä¸­çš„ç‚¹ï¼ˆä¾‹å¦‚æ‘„åƒæœºçš„ä½ç½®ï¼‰å’Œè§‚å¯Ÿæ–¹å‘ä½œä¸ºè¾“å…¥ã€‚\r\nç¥ç»ç½‘ç»œæ˜ å°„ï¼šé€šè¿‡ä¸€ä¸ªMLPï¼ˆå¤šå±‚æ„ŸçŸ¥å™¨ï¼‰ç¥ç»ç½‘ç»œï¼Œå°†æ¯ä¸ª3Dåæ ‡ç‚¹å’Œè§‚å¯Ÿæ–¹å‘æ˜ å°„åˆ°é¢œè‰²å’Œä½“ç´ å¯†åº¦ã€‚ç½‘ç»œçš„è¾“å‡ºåŒ…å«é¢œè‰²ï¼ˆRGBï¼‰å’Œä½“å¯†åº¦ï¼ˆè¡¡é‡å…‰çº¿ç©¿è¿‡è¯¥ç‚¹çš„é€æ˜åº¦ï¼‰ã€‚\r\nä½“æ¸²æŸ“æŠ€æœ¯ï¼šNeRF\r\nä½¿ç”¨ä½“æ¸²æŸ“å…¬å¼ï¼Œå³å…‰çº¿ç©¿è¿‡åœºæ™¯çš„è¿‡ç¨‹ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒæ²¿ç€å…‰çº¿æ–¹å‘å¯¹å¤šä¸ªç‚¹è¿›è¡Œé‡‡æ ·ï¼Œå¹¶æ ¹æ®ä½“å¯†åº¦å’Œé¢œè‰²è®¡ç®—æ¯ä¸ªç‚¹çš„è´¡çŒ®ï¼Œè¿›è€Œå¾—å‡ºæœ€ç»ˆçš„åƒç´ å€¼ã€‚\r\næŸå¤±å‡½æ•°ï¼šé€šè¿‡å¤šè§†å›¾ç›‘ç£è¿›è¡Œè®­ç»ƒï¼ŒNeRFä¼šåœ¨åœºæ™¯ä¸­ä»å¤šä¸ªè§†è§’æ•è·å›¾åƒï¼Œå°†æ¸²æŸ“çš„åƒç´ å€¼ä¸çœŸå®å›¾åƒè¿›è¡Œå¯¹æ¯”ï¼Œå¹¶é€šè¿‡ä¼˜åŒ–æŸå¤±å‡½æ•°ä¸æ–­è°ƒæ•´ç½‘ç»œå‚æ•°ï¼Œé€æ­¥é€¼è¿‘çœŸå®åœºæ™¯ã€‚\r\nç”Ÿæˆæ–°è§†è§’ï¼šè®­ç»ƒå®Œæˆåï¼ŒNeRF\r\nèƒ½å¤Ÿåœ¨æœªè§è¿‡çš„è§†è§’ä¸Šç”Ÿæˆå›¾åƒï¼Œå®ç°è‡ªç”±çš„3Dè§†è§’åˆ‡æ¢å’Œé€¼çœŸçš„åœºæ™¯åˆæˆã€‚\r\n\r\nç½‘ç»œç»“æ„\r\n\r\n\r\nä¸é€æ˜åº¦åªå’Œç©ºé—´ä½ç½®æœ‰å…³ï¼Œé¢œè‰²ä¸ç©ºé—´ä½ç½®å’Œè§†è§’æœ‰å…³ã€‚\r\n\r\nå®ç°ç»†èŠ‚\r\nMLPç½‘ç»œ\r\n\r\nå±‚æ•°ï¼šNeRFçš„ç½‘ç»œç”±10ä¸ªéšè—å±‚ç»„æˆï¼Œå‰9å±‚åŒ…å«256ä¸ªç¥ç»å…ƒï¼Œæœ€åä¸€å±‚åŒ…å«128ä¸ªç¥ç»å…ƒã€‚\r\nåˆ†æ”¯ç»“æ„ï¼šNeRFçš„MLPæœ‰ä¸€ä¸ªç‰¹å®šçš„åˆ†æ”¯ç»“æ„ã€‚å‰8å±‚ç”¨äºå¤„ç†ç©ºé—´ä½ç½®ä¿¡æ¯(x,y,z)ï¼Œç”Ÿæˆäº†éšå˜é‡ï¼ˆlatent\r\nfeaturesï¼‰ã€‚è¿™äº›ç‰¹å¾è¢«ç”¨æ¥é¢„æµ‹ä½“å¯†åº¦ï¼ˆdensityï¼‰ï¼Œä»¥è¡¨ç¤ºè¯¥ç‚¹åœ¨åœºæ™¯ä¸­çš„ä¸é€æ˜åº¦ã€‚\r\nè·³è·ƒè¿æ¥ï¼šä½ç½®ç¼–ç åçš„è¾“å…¥ä¼šä¸ç½‘ç»œä¸­é—´å±‚ï¼ˆç¬¬5å±‚ï¼‰ç›¸è¿ï¼Œä½œä¸ºè·³è·ƒè¿æ¥ï¼ˆskip\r\nconnectionï¼‰ï¼Œå¸®åŠ©ç½‘ç»œåœ¨æ·±å±‚ç»“æ„ä¸­ä¿æŒç©ºé—´ä¿¡æ¯çš„ç»†èŠ‚ã€‚\r\n\r\nä½ç½®ç¼–ç \r\n\r\nNeRF\r\nä½¿ç”¨äº†å‚…é‡Œå¶ç‰¹å¾æ¥å°†è¾“å…¥çš„3Dåæ ‡å’Œè§†è§’æ–¹å‘è¿›è¡Œç¼–ç ï¼Œè¿™ç§æ–¹å¼ç§°ä¸ºä½ç½®ç¼–ç ï¼ˆPositional\r\nEncodingï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå°†è¾“å…¥æ‰©å±•åˆ°é«˜é¢‘ç‡ç©ºé—´ï¼Œè¿™æ ·ç½‘ç»œå°±èƒ½å¤Ÿå­¦ä¹ æ›´ç»†è…»çš„ç»†èŠ‚ã€‚\r\nå¯¹äºåæ ‡ (x,y,z)(x, y, z)(x,y,z) å’Œæ–¹å‘\r\n(Î¸,Ï•)ï¼Œæ¯ä¸ªè¾“å…¥ç»´åº¦ä¼šç”Ÿæˆå¤šä¸ªä¸åŒé¢‘ç‡çš„æ­£ä½™å¼¦ç‰¹å¾ï¼Œä»¥æ•æ‰åœºæ™¯ä¸­çš„å¤æ‚ç©ºé—´ç»“æ„ã€‚\r\n\r\nä½“æ¸²æŸ“\r\nâ€‹\r\nä»ç„¦ç‚¹åˆ°ä¸€ä¸ªåƒç´ ä¸Šè¿çš„å°„çº¿ä¸ºr(t)=o+tdï¼Œå…¶ä¸­å…¶ä¸­oæ˜¯åŸç‚¹ï¼Œtæ˜¯è·ç¦»ã€‚è·ç¦»èµ·ç‚¹ï¼ˆnear\r\nboundï¼‰å’Œè·ç¦»ç»ˆç‚¹ï¼ˆfar boundï¼‰ä¸ºtnå’Œtfã€‚\r\nâ€‹ è·å¾—åƒç´ é¢œè‰²çš„å…¬å¼ï¼š\r\nâ€‹ \r\nâ€‹ è¿™ä¸ªå¼å­ç§¯åˆ†é‡Œé¢æ˜¯T(t)\r\nã€å¯†åº¦ Ïƒ(r(t))å’Œé¢œè‰²c(r(t),d)çš„ä¹˜ç§¯ï¼Œå…¶ä¸­T(t)æ˜¯ç´¯ç§¯é€å…‰ç‡ï¼Œè¡¨ç¤ºå…‰çº¿å°„åˆ°è¿™â€œè¿˜å‰©å¤šå°‘å…‰â€ã€‚å®é™…æ¸²æŸ“è¿‡ç¨‹æ˜¯æŠŠå°„çº¿å¹³å‡åˆ†æˆNä¸ªå°åŒºé—´ï¼Œæ¯ä¸ªåŒºé—´éšæœºé‡‡æ ·ä¸€ä¸ªç‚¹ï¼Œå¯¹é‡‡æ ·å¾—åˆ°çš„ç‚¹çš„é¢œè‰²è¿›è¡ŒæŸç§åŠ æƒæ±‚å’Œã€‚\r\nç›¸å…³å·¥ä½œ\r\nNeRF2Mesh\r\n\r\næœ€å·¦ä¾§çš„ç«‹æ–¹ä½“å°±æ˜¯Nerfæ‰€æ„å»ºçš„ä¸‰ç»´æ•°æ®ï¼Œå®ƒåŒ…å«ç¦»æ•£ç‚¹çš„ä¸‰ç»´åæ ‡ã€ä¸é€æ˜åº¦ï¼ˆdensityï¼‰ä»¥åŠrgbè‰²å½©ã€‚\r\nNerf2Meshçš„æ•´ä½“ç»“æ„ä¹Ÿåƒå›¾ä¸­åˆ†ä¸ºä¸Šä¸‹ä¸¤ä¸ªåˆ†æ”¯ï¼š\r\n\r\nå¯†åº¦åˆ†æ”¯ (Density\r\nfield)ï¼šé¦–å…ˆåˆ©ç”¨NeRFç”Ÿæˆçš„å¯†åº¦åœºåˆ’åˆ†å‡ºä½“ç´ ï¼Œå†ç”¨Marching\r\nCubesç”Ÿæˆä¸‰è§’ç½‘æ ¼ï¼Œå†è¿›è¡Œä¼˜åŒ–ã€‚\r\nå¤–è§‚åˆ†æ”¯ (Appearance\r\nField)ï¼šNerfè¾“å‡ºçš„å†…å®¹ï¼ˆRGBï¼‰ç»è¿‡MLP1æå–ç‰¹å¾ï¼Œç„¶ååˆ†æˆä¸¤ä¸ªåˆ†æ”¯åˆ†åˆ«æå–æ¼«åå°„å’Œé•œé¢åå°„ï¼ˆé•œé¢åå°„ä¼šå¤šç»è¿‡ä¸€ä¸ªMLPå±‚ï¼‰çš„åˆ†é‡ã€‚\r\n\r\n3D Gaussian Splatting\r\nåŸç†\r\n3D Gaussian Splatting çš„æ ¸å¿ƒæ€æƒ³æ˜¯ç”¨é«˜æ–¯åˆ†å¸ƒæ¥è¡¨ç¤º 3D\r\nç©ºé—´ä¸­çš„ç‚¹äº‘ï¼Œå°†åœºæ™¯ä¸­çš„ç‚¹ç”¨ 3D\r\né«˜æ–¯å‡½æ•°è¡¨ç¤ºã€‚è¿™äº›é«˜æ–¯å‡½æ•°å³â€œé«˜æ–¯çƒâ€ï¼Œé€šè¿‡ä¸€ç»„å‚æ•°ï¼ˆå‡å€¼ã€åæ–¹å·®çŸ©é˜µç­‰ï¼‰æ¥æè¿°ä½ç½®ã€æ–¹å‘ã€å¤§å°å’Œå½¢çŠ¶ã€‚ç›¸æ¯”äºå•çº¯çš„ç‚¹äº‘ï¼Œä½¿ç”¨é«˜æ–¯åˆ†å¸ƒå¯ä»¥æ›´å¥½åœ°å¯¹ç‚¹çš„ä½ç½®å’Œå½¢çŠ¶è¿›è¡Œé€¼çœŸåœ°è¡¨è¾¾ï¼Œä½¿å¾—ç»“æœæ›´å¹³æ»‘å¹¶ä¸”æŠ—å™ªæ€§æ›´å¥½ã€‚\r\nåœ¨æ¸²æŸ“è¿‡ç¨‹ä¸­ï¼Œåœºæ™¯ä»¥ç›¸æœºè§†è§’æ¥è§‚å¯Ÿè¿™äº›é«˜æ–¯åˆ†å¸ƒçš„ç‚¹ï¼Œç”Ÿæˆä¸€ä¸ªå›¾åƒã€‚æ¯ä¸ªåƒç´ çš„é¢œè‰²å’Œé€æ˜åº¦æ˜¯é€šè¿‡èšåˆæ²¿è§†çº¿æ–¹å‘çš„é«˜æ–¯çƒä¿¡æ¯æ¥è®¡ç®—çš„ã€‚è¿™äº›é«˜æ–¯åˆ†å¸ƒäº§ç”Ÿçš„é‡å åŒºåŸŸï¼Œé€šè¿‡æ•°å­¦ä¸Šçš„åŠ æƒå¹³å‡å¯ä»¥å¾ˆå¥½åœ°å‘ˆç°å‡ºè‡ªç„¶çš„æ¨¡ç³Šè¾¹ç¼˜ï¼Œé¿å…äº†ä¼ ç»Ÿç‚¹äº‘ä¸­é¢—ç²’çŠ¶çš„è§†è§‰é—®é¢˜ã€‚\r\næµç¨‹\r\n\r\n\r\nç‚¹äº‘é‡‡æ ·ï¼šä½¿ç”¨SfMä»ä¸€ç»„å›¾åƒä¸­ä¼°è®¡å‡ºç‚¹äº‘ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨\r\nCOLMAP\r\nåº“æ“ä½œ\r\né«˜æ–¯åˆ†å¸ƒï¼šå°†æ¯ä¸ªç‚¹åˆ†é…ä¸€ä¸ªé«˜æ–¯åˆ†å¸ƒã€‚åˆå§‹é«˜æ–¯åˆ†å¸ƒé€šè¿‡ä½ç½®ã€é¢œè‰²ã€é€æ˜åº¦å’Œåæ–¹å·®çŸ©é˜µç­‰å‚æ•°æ¥å®šä¹‰ã€‚\r\næŠ•å½±å˜æ¢ï¼šé€šè¿‡æŠ•å½±æ“ä½œå°† 3D\r\né«˜æ–¯åˆ†å¸ƒæ˜ å°„åˆ°ç›¸æœºè§†è§’ä¸‹çš„ 2D å›¾åƒå¹³é¢ã€‚\r\nå…‰æ …åŒ–ï¼šå¯¹æŠ•å½±åçš„é«˜æ–¯åˆ†å¸ƒè¿›è¡Œæ¸²æŸ“ã€‚\r\nä¼˜åŒ–ï¼šé€šè¿‡è®¡ç®—å›¾åƒä¸ç›®æ ‡å›¾åƒä¹‹é—´çš„æŸå¤±ï¼Œåå‘ä¼ æ’­æ¢¯åº¦ï¼ˆGradient\r\nFlowï¼‰æ¥è°ƒæ•´é«˜æ–¯å‚æ•°ã€‚ä»¥åŠè‡ªé€‚åº”åœ°è°ƒæ•´é«˜æ–¯åˆ†å¸ƒçš„å¯†åº¦ã€‚\r\n\r\nå®ç°ç»†èŠ‚\r\nä¸‰ç»´é«˜æ–¯å±æ€§\r\nç”¨ä¸‰ç»´é«˜æ–¯åˆ†å¸ƒæ„å»ºåŸºç¡€å…ƒç´ ï¼Œå±æ€§æœ‰ä¸­å¿ƒÎ¼ã€ä¸é€æ˜åº¦Î±ã€ä¸‰ç»´åæ–¹å·®çŸ©é˜µï¼ˆè¡¨ç¤ºç¼©æ”¾ç¨‹åº¦ï¼‰Î£å’Œé¢œè‰²cã€‚å…¶ä¸­é¢œè‰²cä¸è§†è§’æœ‰å…³ï¼Œç”±çƒè°å‡½æ•°è¡¨ç¤ºã€‚\r\nçƒè°å‡½æ•°çš„ç¤ºä¾‹ï¼š\r\n\r\nï¼ˆå›¾æºï¼š3DGSç»¼è¿°ä»¥åŠå¯¹3DGSçš„ç†è§£ï¼šA\r\nSurvey on 3D Gaussian Splatting - çŸ¥ä¹ï¼‰\r\nè‡ªé€‚åº”å¯†åº¦æ§åˆ¶\r\n\r\n\r\nUnder-Reconstruction:\r\nå¤åˆ¶ä¸€ä¸ªå½“å‰é«˜æ–¯åˆ†å¸ƒçš„å‰¯æœ¬ï¼Œç„¶åæ²¿ç€ä½ç½®æ¢¯åº¦æ–¹å‘ç§»åŠ¨å®ƒã€‚\r\nOver-Reconstruction:\r\nå°†å½“å‰é«˜æ–¯åˆ†å¸ƒåˆ†å‰²æˆä¸¤ä¸ªè¾ƒå°çš„é«˜æ–¯åˆ†å¸ƒï¼Œå†å¯¹å…¶è¿›è¡Œç§»åŠ¨ã€‚\r\n\r\nç‚¹çš„å‰ªæ\r\nå¯¹äºå†—ä½™çš„é«˜æ–¯åˆ†å¸ƒï¼Œåœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¼šé€æ¸æ¶ˆé™¤ã€‚ä¸é€æ˜åº¦å¤ªä½çš„é«˜æ–¯åˆ†å¸ƒå’Œè¿‡å¤§çš„é«˜æ–¯åˆ†å¸ƒéƒ½ä¼šåœ¨è¿­ä»£ä¸­é€æ¸æ¶ˆé™¤ã€‚ä»¥èŠ‚çœèµ„æºã€‚\r\nTile\r\nä¸ºäº†é™ä½è¿ç®—æˆæœ¬ï¼Œ3DGSå°†å›¾åƒåˆ†å‰²ä¸ºæ•°ä¸ªä¸é‡å çš„patchï¼Œç§°ä¸ºtileï¼Œæ¯ä¸ªtileä¸º16Ã—16åƒç´ ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼Œ3DGSè®¡ç®—æŠ•å½±åçš„é«˜æ–¯ä¸tileçš„ç›¸äº¤æƒ…å†µã€‚ç”±äºé«˜æ–¯å¯èƒ½ä¸å¤šä¸ªtileç›¸äº¤ï¼Œæ‰€ä»¥å¯¹å…¶è¿›è¡Œäº†å¤åˆ¶ï¼Œå¹¶ä¸ºå…¶åˆ†é…tileçš„æ ‡è¯†ç¬¦ã€‚ä¸åŒçš„tileå¯ä»¥åœ¨ä¸åŒçš„çº¿ç¨‹æˆ–\r\nGPU æ ¸å¿ƒä¸ŠåŒæ—¶è®¡ç®—ï¼Œé¿å…äº†å¯¹åŒä¸€åƒç´ çš„ç«äº‰ã€‚\r\nå¯¹æ¯”\r\nåœºæ™¯ç»˜åˆ¶\r\n\r\nNeRFä½¿ç”¨å…‰çº¿è¿½è¸ªæ¥åˆ›å»ºæ–°è§†ç‚¹çš„å›¾åƒã€‚é€šè¿‡æ¨¡æ‹Ÿä»åƒç´ ä½ç½®å‘å°„çš„å…‰çº¿æ¥è®¡ç®—å›¾åƒä¸­æ¯ä¸ªåƒç´ çš„é¢œè‰²ï¼Œè¿è¡Œé€Ÿåº¦è¾ƒæ…¢ã€‚ä½†æ¸²æŸ“æ›´çœŸå®ã€‚\r\n3DGS\r\nä½¿ç”¨å…‰æ …åŒ–æ¥åˆ›å»ºæ–°è§†ç‚¹çš„å›¾åƒï¼Œé€šè¿‡Splattingè¿›è¡Œæ¸²æŸ“ï¼Œè¿ç®—é€Ÿåº¦æ›´å¿«ï¼Œä½†3DGSåˆ›å»ºäº†æ•°ç™¾ä¸‡ä¸ªgaussionï¼Œå ç”¨çš„å†…å­˜æ¯”NeRFå¤šæ•°å€ã€‚\r\n\r\n3Dé‡å»º\r\n\r\nNeRFçš„è¾“å‡ºéœ€è¦å€ŸåŠ©å…¶ä»–æ–¹æ³•è½¬ä¸ºæ˜¾å¼è¾“å‡ºï¼Œå¦‚NeRF2Meshã€‚\r\n3DGSè®­ç»ƒåæœ€ç»ˆå¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ªé«˜æ–¯çš„é«˜æ–¯å‚æ•°åˆ—è¡¨ï¼Œä¾‹å¦‚ä½ç½®ã€å¤§å°ã€é¢œè‰²å’Œé€æ˜åº¦ã€‚3DGSçš„è¾“å‡ºæ˜¯æ¯”è¾ƒæ˜¾å¼çš„è¡¨è¾¾ã€‚\r\n\r\nåœ¨CSDNä¸Šæœ‰ä¸€ä¸ª3DGSå’ŒNeRFçš„å¯¹æ¯”è¡¨æ ¼ï¼Œä½†æ•°æ®æ¥æºå¹¶æœªæ ‡æ˜ï¼Œå¯é æ€§å­˜ç–‘ï¼ˆè€Œä¸”ä»–çš„3DGSæ€ä¹ˆæ˜¯3D\r\nGeometry Sensingçš„ç¼©å†™ï¼Œè™½ç„¶ä»–ç»™çš„ç»“æ„å›¾ç¡®å®æ˜¯3Dé«˜æ–¯çš„ï¼‰ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nå¯¹æ¯”ç»´åº¦\r\n3DGS (3D Geometry Sensing)\r\nNeRF (Neural Radiance Fields)\r\n\r\n\r\n\r\n\r\nåŸºæœ¬åŸç†\r\nåŸºäºå‡ ä½•æ¨æ–­ï¼Œé€šè¿‡å¤šè§†è§’å›¾åƒã€æ·±åº¦ä¼ æ„Ÿå™¨ã€LiDARç­‰è·å–æ˜¾å¼3Då‡ ä½•ä¿¡æ¯ã€‚\r\nåŸºäºç¥ç»ç½‘ç»œæ‹Ÿåˆä½“ç§¯è¾å°„åœºï¼Œé€šè¿‡å¤šè§†è§’å›¾åƒå­¦ä¹ éšå¼è¡¨ç¤ºï¼Œæ¸²æŸ“å‡ºåœºæ™¯ã€‚\r\n\r\n\r\nè¾“å…¥æ•°æ®\r\nå¤šè§†è§’å›¾åƒã€æ·±åº¦ä¿¡æ¯ï¼ˆLiDARã€ToFç›¸æœºï¼‰ã€ä½å§¿æ•°æ®ã€ç‚¹äº‘ã€‚\r\nå¤šè§†è§’å›¾åƒï¼ˆé€šå¸¸åŒ…æ‹¬ç›¸æœºä½å§¿ï¼‰ï¼Œä¸éœ€è¦æ˜¾å¼çš„å‡ ä½•ä¿¡æ¯ã€‚\r\n\r\n\r\nè¾“å‡ºç»“æœ\r\nç‚¹äº‘ã€ç½‘æ ¼ã€ä¸‰è§’å½¢æ¨¡å‹ã€æ·±åº¦å›¾ã€çº¹ç†æ˜ å°„ç­‰æ˜¾å¼å‡ ä½•ç»“æ„ã€‚\r\né€šè¿‡ä½“ç§¯æ¸²æŸ“ç”Ÿæˆé€¼çœŸå›¾åƒï¼ˆè§†è§’ç›¸å…³ï¼‰ï¼Œä¸ç›´æ¥è¾“å‡ºå‡ ä½•æ¨¡å‹ã€‚\r\n\r\n\r\næ•°æ®å¤„ç†æ–¹å¼\r\nä½¿ç”¨å‡ ä½•å…³ç³»ï¼ˆå¦‚ä¸‰è§’æµ‹é‡ã€ç«‹ä½“è§†è§‰ç­‰ï¼‰æ¥æ˜¾å¼é‡å»ºåœºæ™¯ç»“æ„ã€‚\r\nä½¿ç”¨ç¥ç»ç½‘ç»œéšå¼å»ºæ¨¡é¢œè‰²å’Œå¯†åº¦ï¼Œé€šè¿‡ä½“ç§¯æ¸²æŸ“ç”Ÿæˆå›¾åƒã€‚\r\n\r\n\r\nå‡ ä½•ä¿¡æ¯\r\næ˜¾å¼è·å–3Då‡ ä½•ä¿¡æ¯ï¼Œå¯ä»¥ç²¾ç¡®æµ‹é‡ç‰©ä½“çš„è·ç¦»å’Œå½¢çŠ¶ã€‚\r\néšå¼æ¨æ–­å‡ ä½•ä¿¡æ¯ï¼Œä¸»è¦ç”¨äºå›¾åƒæ¸²æŸ“ï¼Œå‡ ä½•ç»“æ„ä¸ç›´æ¥è¾“å‡ºã€‚\r\n\r\n\r\næ¸²æŸ“æ•ˆæœ\r\nä¾èµ–äºé‡å»ºçš„å‡ ä½•ç»“æ„ï¼Œæ¸²æŸ“æ•ˆæœæœ‰é™ï¼Œå°¤å…¶åœ¨å¤æ‚å…‰çº¿åœºæ™¯ä¸‹æ•ˆæœä¸€èˆ¬ã€‚\r\næ¸²æŸ“æ•ˆæœéå¸¸é€¼çœŸï¼Œå°¤å…¶åœ¨åå°„ã€é®æŒ¡ã€æŠ˜å°„ç­‰å¤æ‚å…‰ç…§åœºæ™¯è¡¨ç°ä¼˜å¼‚ã€‚\r\n\r\n\r\nè®¡ç®—èµ„æºéœ€æ±‚\r\néœ€è¦è¾ƒå¼ºçš„å‡ ä½•è®¡ç®—èƒ½åŠ›ï¼Œæ•°æ®è·å–é€šå¸¸ä¾èµ–äºå¤šä¼ æ„Ÿå™¨ç³»ç»Ÿï¼ˆLiDARç­‰ï¼‰ã€‚\r\néœ€è¦é«˜è®¡ç®—èµ„æºï¼Œç‰¹åˆ«æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œçš„è¿‡ç¨‹è®¡ç®—é‡å¤§ï¼Œé€šå¸¸ä¾èµ–äºGPUã€‚\r\n\r\n\r\næ¸²æŸ“é€Ÿåº¦\r\nå®æ—¶æ€§è¾ƒå¥½ï¼Œç‰¹åˆ«æ˜¯æœ‰æ·±åº¦ä¼ æ„Ÿå™¨æ—¶å¯å®ç°å¿«é€Ÿé‡å»ºã€‚\r\næ¸²æŸ“é€Ÿåº¦è¾ƒæ…¢ï¼Œå°¤å…¶åœ¨è®­ç»ƒé˜¶æ®µè€—æ—¶é•¿ï¼Œä½†æœ‰å³æ—¶æ¸²æŸ“ç‰ˆæœ¬ã€‚\r\n\r\n\r\nåº”ç”¨åœºæ™¯\r\nè‡ªåŠ¨é©¾é©¶ã€æœºå™¨äººå¯¼èˆªã€å·¥ä¸šæ£€æµ‹ã€3Då»ºæ¨¡ã€AR/VRã€ç²¾å¯†æµ‹é‡ã€‚\r\nç”µå½±è§†è§‰ç‰¹æ•ˆã€è™šæ‹Ÿæ—…æ¸¸ã€è™šæ‹Ÿç°å®å†…å®¹ç”Ÿæˆã€å¤æ‚å…‰ç…§åœºæ™¯çš„æ¸²æŸ“ã€‚\r\n\r\n\r\nä¼˜ç‚¹\r\nå¯ä»¥æ˜¾å¼å»ºæ¨¡ã€ç²¾ç¡®å‡ ä½•æµ‹é‡ã€é€‚ç”¨äºå®æ—¶åº”ç”¨ï¼›æ·±åº¦ä¼ æ„Ÿå™¨è¾…åŠ©æ—¶é‡å»ºç²¾åº¦é«˜ã€‚\r\næ¸²æŸ“è´¨é‡æé«˜ï¼Œèƒ½å¤„ç†å¤æ‚çš„å…‰ç…§ã€é®æŒ¡é—®é¢˜ï¼›ä¸éœ€è¦æ˜‚è´µçš„æ·±åº¦ä¼ æ„Ÿå™¨ã€‚\r\n\r\n\r\nç¼ºç‚¹\r\nåœ¨å¤„ç†å¤æ‚å…‰ç…§ï¼ˆå¦‚é€æ˜ç‰©ä½“ã€åå°„é¢ï¼‰æ—¶æ•ˆæœä¸ä½³ï¼Œä¾èµ–æ˜‚è´µçš„ä¼ æ„Ÿå™¨æ•°æ®ã€‚\r\næ¸²æŸ“é€Ÿåº¦æ…¢ï¼Œè®­ç»ƒæ—¶é—´é•¿ï¼Œåˆå§‹è®¾è®¡ä¸æ“…é•¿ç”Ÿæˆæ˜ç¡®çš„å‡ ä½•ä¿¡æ¯ã€‚\r\n\r\n\r\nå‡ ä½•å»ºæ¨¡ç²¾åº¦\r\né«˜ï¼Œé€‚åˆç”¨äºéœ€è¦ç²¾ç¡®å‡ ä½•ä¿¡æ¯çš„åœºæ™¯ï¼ˆå¦‚æµ‹é‡ã€å¯¼èˆªã€ç‰©ç†æ¨¡æ‹Ÿç­‰ï¼‰ã€‚\r\nå‡ ä½•å»ºæ¨¡æ˜¯éšå¼çš„ï¼Œä¸»è¦ä¾èµ–äºç¥ç»ç½‘ç»œæ¨æ–­ï¼Œä¸é€‚åˆç”¨äºæµ‹é‡ç­‰ä»»åŠ¡ã€‚\r\n\r\n\r\nå…‰ç…§å¤„ç†\r\nå¤„ç†å¤æ‚å…‰çº¿æ¡ä»¶è¾ƒå›°éš¾ï¼Œé€šå¸¸éœ€è¦é¢å¤–çš„ç®—æ³•æ¥åº”å¯¹å…‰çº¿åå°„å’ŒæŠ˜å°„ã€‚\r\nå¯¹å¤æ‚å…‰ç…§åœºæ™¯å¤„ç†æ•ˆæœå‡ºè‰²ï¼Œèƒ½å¤Ÿå¤„ç†åå°„ã€æŠ˜å°„ã€é®æŒ¡ç­‰é—®é¢˜ã€‚\r\n\r\n\r\nå®æ—¶æ€§\r\nå®æ—¶æ€§è¾ƒå¼ºï¼Œç‰¹åˆ«æ˜¯åœ¨é…åˆLiDARç­‰ä¼ æ„Ÿå™¨æ—¶ã€‚\r\néœ€è¦è¾ƒé•¿çš„æ—¶é—´è¿›è¡Œè®­ç»ƒå’Œæ¸²æŸ“ï¼Œä¸é€‚åˆå®æ—¶åº”ç”¨ï¼ˆåŠ é€Ÿç‰ˆæœ¬é™¤å¤–ï¼‰ã€‚\r\n\r\n\r\næ•°æ®è·å–æˆæœ¬\r\né«˜ï¼Œéœ€è¦å¤šè§†è§’ç›¸æœºæˆ–æ˜‚è´µçš„æ·±åº¦ä¼ æ„Ÿå™¨ï¼ˆå¦‚LiDARï¼‰ã€‚\r\nä½ï¼Œä»…éœ€å¤šè§†è§’å›¾åƒæ•°æ®ï¼Œä¸ä¾èµ–äºä¸“é—¨çš„ä¼ æ„Ÿå™¨ã€‚\r\n\r\n\r\n\r\nï¼ˆè¡¨æºï¼šã€3dgsã€‘3DGSä¸NeRFå¯¹æ¯”_nerfå’Œ3dgsåŒºåˆ«-CSDNåšå®¢ï¼‰\r\n","categories":["ä¸‰ç»´é‡å»º"],"tags":["NeRF","3DGS"]},{"title":"Photometric Stereo","url":"/2024/12/09/10-PhotometricStereo/","content":"1. Experiment Purpose\r\nThe goal of this experiment is to implement the Photometric Stereo\r\nalgorithm, which uses multiple images under different lighting\r\ndirections to estimate the surface normal vectors and albedo, and then\r\nre-render the image under a specified lighting direction.\r\n\r\nNormal Vector Calculation: According to the\r\nLambertian model formula ,\r\nwhere  is the albedo,  is the normal vector,\r\nand  is the\r\nlighting direction. The albedo \r\nand lighting direction  can be uniquely\r\ndetermined when at least three images with known lighting directions are\r\nprovided.\r\nShadow and Highlight Processing: Shadows and\r\nhighlights break the linear Lambertian model. A simple solution is to\r\nsort all the observations for each pixel and discard a certain\r\npercentage of the brightest and darkest pixels to remove shadows and\r\nhighlights.\r\n\r\n2. Experiment Principle\r\n\r\nAccording to the Lambertian model (a purely diffuse reflection\r\nmodel), for each point on the surface, there is a fixed albedo , and the intensity of the\r\nreflected light  depends only on\r\nthe albedo  and the angle\r\n of the incident light (the\r\nangle between the light direction and the normal vector). The formula is\r\nas follows: \r\n\r\nWhen we have images under different lighting directions, we can use\r\nthe Lambertian model to analyze each pixel individually. With three\r\nlighting angles, we can express the Lambertian model equation in matrix\r\nform as:  Since the reflected light intensity  and the lighting directions  are known, we can\r\nuniquely determine the albedo  and normal vector  through matrix inversion\r\nwhen three different lighting directions are available.\r\nWith the albedo and normal vectors, re-rendering the image under a\r\nspecified lighting direction is easy; we just apply the Lambertian model\r\nto calculate the light intensity at each pixel.\r\n3. Experiment Content\r\nIn the provided code framework, the primary task is to implement the\r\nmyPMS.m file.\r\n\r\nFirst, I modified the original function declarations because the\r\nfinal output requires three images: the normal map, albedo map, and\r\nre-rendered image, while the original framework only output the normal\r\nmap. So, I added the albedo map and re-rendered image to the function's\r\nreturn. The input now also includes a new parameter\r\nshadow_removal_percentage, which specifies the percentage\r\nof the brightest and darkest pixels to be discarded when handling\r\nshadows and highlights (e.g., if the value is 20, then the darkest 20%\r\nand the brightest 20% pixels are discarded).\r\nIn the data preprocessing phase, N, albedo,\r\nand re_rendered_img represent the normal map, albedo map,\r\nand re-rendered image, respectively. They are all three-channel images.\r\nI is used to temporarily store the light intensities for\r\neach channel.\r\n\r\nThrough simple loops, the original images were first processed with a\r\nmask to extract the subject and avoid the influence of the\r\nbackground. Then, for each RGB channel, the given\r\nlight_intensity was used to divide the original image,\r\nretrieving the true light intensity I for each channel.\r\n\r\nThen, for each pixel, the light intensities of all the images were\r\nsorted, and the brightest and darkest pixels of the given percentage\r\nwere discarded, storing the results in I_col_filtered.\r\nBased on the formula ,\r\nwe can first compute  by using\r\nthe least squares method on the filtered light directions\r\ns_filtered and light intensities\r\nI_col_filtered. The norm of the result gives the albedo\r\nvalue, and dividing the result by the albedo gives the unit normal\r\nvector.\r\n\r\nWith this information, re-rendering becomes straightforward. Simply\r\ntraverse the pixels and apply the Lambertian model formula for each\r\npixel. Since the assignment did not require the RGB components of the\r\nincident light, I assumed them to be 1 by default.\r\nThus, the main function for Photometric Stereo is complete. Below are\r\nsome small modifications to the Baseline:\r\n\r\nThe function call now includes the modified inputs and outputs. The\r\nshadow and highlight removal percentage is set to 20, meaning the\r\ndarkest 20% and the brightest 20% pixels are discarded. To make the\r\nfinal re-rendered image more visually appealing, it is also\r\nnormalized.\r\nHere is the full code for Photometric Stereo (expand to view):\r\n(On my GitHub repository ComputerVision/Homework\r\n1 you can also find the code)\r\n\n    Folding Click to view more \n    \n      function [N, albedo, re_rendered_img] = L2_PMS(data, m, shadow_removal_percentage)    num_images = size(data.s, 1);    [height, width, ~] = size(data.imgs{1});        N = zeros(height, width, 3);    albedo = zeros(height, width, 3);    re_rendered_img = zeros(height, width, 3);    I = zeros(num_images, length(m), 3);        % Extract pixel intensities for each image    for c = 1:3        for i = 1:num_images            img = double(data.imgs{i});            img = img(m);            img = img / data.L(i, c);            I(i, :, c) = img;        end    end        for c = 1:3    % Remove shadows and highlights, compute normals and albedo        for i = 1:length(m)            I_col = I(:, i, c);                        % Sort intensities and remove shadows/highlights            [sorted_I, idx] = sort(I_col);            num_to_remove = round(length(sorted_I) * shadow_removal_percentage / 100);            valid_idx = idx(num_to_remove+1:end-num_to_remove);                        % Filter light source directions and intensities            s_filtered = data.s(valid_idx, :);            I_col_filtered = sorted_I(num_to_remove+1:end-num_to_remove);                        % Solve for normal and albedo            A = s_filtered \\ I_col_filtered;            albedo_val = norm(A);            norm_A = A / albedo_val;            [row, col] = ind2sub([height, width], m(i));            N(row, col, :) = norm_A';            albedo(row, col, c) = albedo_val;        end    end    % Re-render the image using recovered normals and albedo    viewing_direction = [0, 0, 1];    for c = 1:3        for i = 1:height            for j = 1:width                normal = squeeze(N(i, j, :));                if norm(normal) &gt; 0                    re_rendered_img(i, j, c) = max(0, dot(normal, viewing_direction)) * albedo(i, j, c);                end            end        end    end    end    \r\n\n    \n  \r\n4. Experiment Results\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nNormal Map\r\nAlbedo Map\r\nRe-rendered Picture\r\n\r\n\r\n\r\n\r\nbear\r\n\r\n\r\n\r\n\r\n\r\nbuddha\r\n\r\n\r\n\r\n\r\n\r\ncat\r\n\r\n\r\n\r\n\r\n\r\npot\r\n\r\n\r\n\r\n\r\n\r\n\r\n","categories":["ç ”ç©¶ç”Ÿè¯¾ç¨‹","è®¡ç®—æœºè§†è§‰"],"tags":["Photometric Stereo"]},{"title":"Genesisç®€è¦ä»‹ç»ä¸æ ·ä¾‹å±•ç¤º","url":"/2024/12/19/12-GenesisIntroduction/","content":"Introduction\r\nGenesis\r\næ˜¯ä¸€ä¸ªç‰©ç†å¹³å°ï¼Œä¸“ä¸ºé€šç”¨æœºå™¨äºº/åµŒå…¥å¼äººå·¥æ™ºèƒ½/ç‰©ç†äººå·¥æ™ºèƒ½åº”ç”¨è€Œè®¾è®¡ã€‚å®ƒåŒæ—¶æ˜¯å¤šç§äº‹ç‰©ï¼š\r\n\r\nä»å¤´å¼€å§‹é‡å»ºçš„é€šç”¨ç‰©ç†å¼•æ“ï¼Œèƒ½å¤Ÿæ¨¡æ‹Ÿå„ç§ææ–™å’Œç‰©ç†ç°è±¡ã€‚\r\nä¸€ä¸ªè½»é‡çº§ã€è¶…å¿«é€Ÿã€Pythonic ä¸”ç”¨æˆ·å‹å¥½çš„æœºå™¨äººä»¿çœŸå¹³å°ã€‚\r\nå¼ºå¤§ä¸”å¿«é€Ÿçš„é€¼çœŸæ¸²æŸ“ç³»ç»Ÿã€‚\r\nä¸€ç§ç”Ÿæˆæ•°æ®å¼•æ“ï¼Œå¯å°†ç”¨æˆ·æç¤ºçš„è‡ªç„¶è¯­è¨€æè¿°è½¬æ¢ä¸ºå„ç§æ•°æ®å½¢å¼ã€‚\r\n\r\nExamples\r\nåˆ†åˆ«æµ‹è¯•ç°æœ‰çš„examplesä¸­çš„åœºæ™¯ï¼Œç»“æœå¦‚ä¸‹ï¼š\r\n1. Simulation\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nFile\r\nResult\r\n\r\n\r\n\r\n\r\ncloth_on_rigid.py\r\n\r\n\r\n\r\ncut_dragon.py\r\n\r\n\r\n\r\nflush_cubes.py\r\n\r\n\r\n\r\ngrasp_soft_cube.py\r\n\r\n\r\n\r\nsand_wheel.py\r\n\r\n\r\n\r\nsph_mpm.py\r\n\r\n\r\n\r\nsph_rigid.py\r\n\r\n\r\n\r\nwater_wheel.py\r\n\r\n\r\n\r\n\r\n(ç›®å‰å°±æ‰¾åˆ°è¿™äº›)\r\n2. Training\r\n(1). drone (hover)\r\n\r\n(2). locomotion (go2)\r\n\r\n(3). modified locomotion (go2)\r\næœ¬æ¥å°è¯•å¯¹go2_envå¢åŠ ä¸€ä¸ªmeshçš„éšœç¢ï¼Œä½†æ˜¯è®­ç»ƒä¸­å‘ç°go2ç›´æ¥ç©¿æ¨¡äº†ã€‚äºæ˜¯ç”¨æœ€ç®€å•çš„Boxä»£æ›¿ï¼Œåšäº†ä¸ªç®€å•çš„å›´å¢™ï¼š\r\n\r\nå¯¹å…¶è¿›è¡Œäº†10000ä¸ªiterationçš„è®­ç»ƒï¼š\r\n\r\nçœ‹çœ‹è®­ç»ƒç»“æœï¼š\r\n\r\nErrors &amp; Solutions\r\n1.\r\nOpenGL.error.Error: Attempt to retrieve context when no valid\r\ncontext\r\nåœ¨Windowsçš„WSLè™šæ‹Ÿæœºä¸­å®‰è£…äº†Ubuntuç³»ç»Ÿï¼Œåœ¨ç›´æ¥è¿è¡Œæµ‹è¯•æ ·ä¾‹æ—¶ä¼šå‡ºç°å¦‚ä¸‹çš„æŠ¥é”™ï¼š\r\n\r\nåœ¨Githubä¸Šé¢æœ‰ç±»ä¼¼çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆã€‚\r\nåŸå› ï¼šUbuntu çš„æœ€æ–°ç‰ˆæœ¬å·²é»˜è®¤åˆ‡æ¢ä¸ºä½¿ç”¨ Wayland\r\nå›¾å½¢åè®®ï¼ˆæ¥è‡ª Xorgï¼‰ã€‚ç›®å‰ï¼Œpyglet ä¸æ”¯æŒ Waylandã€‚è™½ç„¶å•ç‹¬ä½¿ç”¨ pyglet\r\nä»ç„¶æœ‰æ•ˆï¼ˆæ„Ÿè°¢ xWaylandï¼‰ï¼Œä½†ä½¿ç”¨ pyimgui-pyglet ä¼šå¯¼è‡´ PyOpenGL\r\né€‰æ‹©ä¸æ­£ç¡®çš„å›¾å½¢åç«¯ã€‚\r\nè§£å†³æ–¹æ¡ˆï¼šåœ¨è¿è¡Œå‰å¼ºåˆ¶æŒ‡å®šPyOpenGLä½¿ç”¨Xorgï¼š\r\nexport PYOPENGL_PLATFORM=&#x27;glx&#x27;\r\nUnsolved Problems\r\n1. Decomposition\r\ndeactivates collision\r\nåœ¨genesisä¸­å¯¼å…¥çš„meshï¼Œåœ¨å¯¼å…¥æ—¶å¯ä»¥è®¾ç½®å‚æ•°è¿›è¡Œå‡¸åˆ†è§£ã€‚åº•å±‚è¿˜æ˜¯è°ƒç”¨çš„CoACDå·¥å…·ã€‚è¯•å›¾åœ¨genesiså¯¹meshç›´æ¥è¿›è¡Œå‡¸åˆ†è§£ï¼Œä½†æ˜¯å‘ç°å‡¸åˆ†è§£ä¹‹åå¶å°”ä¼šå¯¼è‡´ç¢°æ’å¤±æ•ˆã€‚\r\nå‚æ•°è®¾ç½®ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nä¸è¿›è¡Œå‡¸åˆ†è§£\r\nå‡¸åˆ†è§£\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nåœ¨genesisçš„Meshç±»ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ä¸å‡¸åˆ†è§£æœ‰å…³ï¼š\r\n\r\nconvexify:\r\næ­¤å‚æ•°ç”¨äºæ§åˆ¶æ˜¯å¦å°†Meshç›´æ¥è¿›è¡Œå‡¸åŒ…è¿ç®—ï¼Œå³ç­‰åŒäºmujocoä¸­çš„é»˜è®¤ç®—æ³•ï¼Œå°†Meshæ±‚ä¸ªå‡¸åŒ…ã€‚å®é™…ç¢°æ’çš„ä½“ç§¯ä¸æ¸²æŸ“å‡ºæ¥çš„å®é™…å½¢çŠ¶ä¼šæœ‰å·®å¼‚ã€‚\r\ndecompose_nonconvex:\r\næ­¤å‚æ•°ä»…åœ¨convexifyä¸ºFalseæ—¶æœ‰æ•ˆï¼Œè¡¨ç¤ºæ˜¯å¦ä½¿ç”¨CoACDå¯¹Meshè¿›è¡Œå‡¸åˆ†è§£ã€‚\r\n\r\nç»“æœæ¯”å¯¹ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nä¸è¿›è¡Œå‡¸åˆ†è§£\r\nå‡¸åˆ†è§£\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nåœ¨å®é™…è¿è¡Œä¸­ï¼Œå½“å¯¹å¤æ‚æ¨¡å‹è¿›è¡Œå‡¸åˆ†è§£ï¼ˆå³decompose_nonconvexè®¾ä¸ºTrueï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´ç©¿æ¨¡çš„æƒ…å†µã€‚æ›´æ¢æ¨¡å‹åï¼Œå‘ç°åˆæˆåŠŸäº†ï¼š\r\n\r\nAnywayï¼Œç›®å‰è¿˜ä¸æ¸…æ¥šé—®é¢˜å‡ºåœ¨CoACDè¿˜æ˜¯genesisã€‚\r\n2. MJCF Import Failure\r\ngenesisä¸­å¯¼å…¥mujocoçš„åœºæ™¯xmlæ—¶ï¼Œå¾ˆå®¹æ˜“å‡ºç°æ¶ˆå¤±çš„æƒ…å†µã€‚åœ¨issue#603å’Œ#287é‡Œæœ‰æåˆ°ã€‚\r\nå¦‚æœéœ€è¦å°†xmlæˆåŠŸå¯¼å…¥ï¼Œéœ€è¦ç»™geomè®¾ç½®conaffinityå’Œcontypeå‚æ•°ä¸º0ã€‚ä½†æ˜¯è¿™æ ·å°±é¿å…äº†ç‰©ä½“é—´çš„ç¢°æ’ã€‚\r\næŸ¥é˜…genesisçš„æºç ï¼Œç›®å‰çš„æ¨æµ‹æ˜¯ï¼Œgenesisé‡Œçš„ä¸€ä¸ªEntityæ˜¯ä¸€ä¸ªå•ç‹¬çš„å•ä½ï¼Œè¦å¯¹ä»–è¿›è¡Œmaterialå’Œtextureç­‰çš„è®¾ç½®ï¼Œæ‰€ä»¥é»˜è®¤é¿å…äº†å•ä¸ªEntityå¯¼å…¥å¤šä¸ªç‰©ä»¶ã€‚\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["genesis"]},{"title":"ä¸»æµä¸‰ç»´é‡å»ºæ–¹æ³•å¯¹æ¯”","url":"/2024/11/18/09-Reconstruction/","content":"MeshAnything\r\n\r\né—®é¢˜èƒŒæ™¯\r\nå½“å‰ç½‘æ ¼æå–æ–¹æ³•ç”Ÿæˆçš„ç½‘æ ¼æ˜æ˜¾ä¸å¦‚è‰ºæœ¯å®¶åˆ›å»ºçš„ç½‘æ ¼ (AM,\r\nArtist-Created\r\nMeshes)ï¼Œå³ç”±äººç±»è‰ºæœ¯å®¶åˆ›å»ºçš„ç½‘æ ¼ã€‚å…·ä½“æ¥è¯´ï¼Œå½“å‰çš„ç½‘æ ¼æå–æ–¹æ³•ä¾èµ–äºå¯†é›†çš„é¢å¹¶å¿½ç•¥å‡ ä½•ç‰¹å¾ï¼Œå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€åå¤„ç†å¤æ‚ä¸”è¡¨ç¤ºè´¨é‡è¾ƒä½ç­‰é—®é¢˜ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œè®ºæ–‡å¼•å…¥äº†\r\nMeshAnything\r\nï¼Œè¯¥æ¨¡å‹å°†ç½‘æ ¼æå–è§†ä¸ºç”Ÿæˆé—®é¢˜ï¼Œç”Ÿæˆä¸æŒ‡å®šå½¢çŠ¶å¯¹é½çš„ AMã€‚\r\n\r\nä¸Šå›¾æ˜¯å¯¹çœŸå®å½¢çŠ¶ä½¿ç”¨Marching Cubeså’ŒMeshAnythingï¼Œç„¶åå¯¹ä¸åŒvoxel sizeçš„Marching Cubesè¿›è¡Œremeshçš„ç»“æœã€‚ç°æœ‰æ–¹æ³•ä»¥é‡æ„æ–¹å¼æå–ç½‘æ ¼ï¼Œå¿½ç•¥äº†å¯¹è±¡çš„å‡ ä½•ç‰¹å¾å¹¶äº§ç”Ÿæ‹“æ‰‘è¾ƒå·®çš„å¯†é›†ç½‘æ ¼ã€‚è¿™äº›æ–¹æ³•ä»æ ¹æœ¬ä¸Šæ— æ³•æ•æ‰é”åˆ©çš„è¾¹ç¼˜å’Œå¹³å¦çš„è¡¨é¢ï¼Œå¦‚æ”¾å¤§å›¾æ‰€ç¤ºã€‚\r\næ ¸å¿ƒæ–¹æ³•\r\n\r\né‡æ–°å®šä¹‰é—®é¢˜ï¼š\r\n\r\nå°†ç½‘æ ¼æå–çœ‹ä½œä¸€ä¸ªç”Ÿæˆä»»åŠ¡ï¼Œè€Œéé‡å»ºä»»åŠ¡ã€‚\r\nç›®æ ‡æ˜¯ç”Ÿæˆä¸ç»™å®šå½¢çŠ¶å¯¹é½çš„é«˜æ•ˆæ‹“æ‰‘ç½‘æ ¼ï¼ˆAMsï¼‰ï¼Œä½¿å…¶æ›´æ¥è¿‘äººå·¥è®¾è®¡ã€‚\r\n\r\næ¨¡å‹æ¶æ„ï¼š\r\n\r\nä½¿ç”¨ VQ-VAE å­¦ä¹ ç½‘æ ¼çš„â€œè¯æ±‡â€ï¼ˆç½‘æ ¼ç¼–ç ï¼‰ã€‚\r\nåŸºäºâ€œè¯æ±‡â€è®­ç»ƒä¸€ä¸ªä»…è§£ç è‡ªå›å½’Transformerï¼Œä»¥å½¢çŠ¶æ¡ä»¶ä¸ºè¾“å…¥ï¼Œç”Ÿæˆç½‘æ ¼ã€‚\r\nå¢å¼ºäº†\r\nVQ-VAEè§£ç å™¨ï¼Œä½¿å…¶æŠ—å™ªï¼Œèƒ½å¤Ÿå¤„ç†ä½è´¨é‡çš„ä»¤ç‰Œåºåˆ—ï¼Œå¹¶åˆ©ç”¨å½¢çŠ¶ä¿¡æ¯è¾…åŠ©è§£ç ã€‚\r\n\r\nå½¢çŠ¶æ¡ä»¶çš„è®¾è®¡ï¼š\r\n\r\né€‰æ‹©ç‚¹äº‘ä½œä¸ºè¾“å…¥å½¢çŠ¶æ¡ä»¶ï¼Œå› å…¶å…·æœ‰è¿ç»­è¡¨ç¤ºæ€§ä¸”æ˜“äºç¼–ç ã€‚\r\nåœ¨è®­ç»ƒæ—¶é€šè¿‡å¯¹çœŸå®ç½‘æ ¼è¿›è¡Œé™è´¨ï¼ˆå¦‚ä½¿ç”¨Marching\r\nCubesç”Ÿæˆç²—ç½‘æ ¼ï¼‰æ¥ç¼©å°è®­ç»ƒä¸æ¨ç†çš„åŸŸå·®è·ã€‚\r\n\r\nä¼˜åŒ–è®­ç»ƒï¼š\r\n\r\nåœ¨VQ-VAEè®­ç»ƒå®Œæˆåï¼Œé¢å¤–ç»†è°ƒè§£ç å™¨ï¼Œæ¨¡æ‹Ÿæ¨ç†ä¸­å¯èƒ½ç”Ÿæˆçš„ä½è´¨é‡ä»¤ç‰Œåºåˆ—ï¼Œå¹¶æé«˜å¯¹å™ªå£°çš„é²æ£’æ€§ã€‚\r\n\r\nå®éªŒç»“æœ\r\n\r\nç”Ÿæˆæ•ˆç‡ï¼š MeshAnything\r\nç”Ÿæˆçš„ç½‘æ ¼é¢æ•°æ¯”ä¼ ç»Ÿæ–¹æ³•å‡å°‘æ•°ç™¾å€ï¼ŒåŒæ—¶ä¿ç•™è¾ƒé«˜çš„å½¢çŠ¶å¯¹é½è´¨é‡ã€‚\r\næ‹“æ‰‘è´¨é‡ï¼š\r\nåœ¨ç”¨æˆ·ç ”ç©¶ä¸­ï¼ŒMeshAnythingçš„å½¢çŠ¶å’Œæ‹“æ‰‘è´¨é‡æ˜¾è‘—ä¼˜äºç°æœ‰æ–¹æ³•ï¼Œè¡¨æ˜å…¶ç”Ÿæˆçš„ç½‘æ ¼æ›´æ¥è¿‘è‰ºæœ¯å®¶æ‰‹å·¥åˆ¶ä½œçš„æ ‡å‡†ã€‚\r\næ³›åŒ–èƒ½åŠ›ï¼š\r\nèƒ½å¤„ç†æ¥è‡ªå„ç§3Dè¡¨ç¤ºï¼ˆå¦‚ç‚¹äº‘ã€ä½“ç´ ã€NeRFç­‰ï¼‰çš„è¾“å…¥ï¼Œæ”¯æŒå¹¿æ³›çš„3Dèµ„äº§ç”Ÿäº§ç®¡çº¿ã€‚\r\n\r\nå­˜åœ¨é—®é¢˜\r\nç¬¬ä¸€çœ¼è§è¿™ä¸ªå·¥ä½œçš„æ—¶å€™ï¼Œæœ‰è¢«éœ‡æ’¼åˆ°ã€‚ä»¥ä¸ºè¿™ä¸ªå·¥ä½œå°†å¤šç§ä¸‰ç»´é‡å»ºæ–¹å¼æ•´åˆèµ·æ¥äº†ã€‚ä»å®ƒçš„æ¼”ç¤ºä¸­ï¼Œçœ‹è§å®ƒå¯ä»¥ä»ä¸‰ç»´é«˜æ–¯ã€å›¾åƒã€æ–‡æœ¬ç›´æ¥ç”Ÿæˆå‡ ä½•å½¢çŠ¶å®Œæ•´ä½†é¢æ•°è¾ƒç²¾ç®€çš„ç½‘æ ¼ã€‚ç„¶è€Œè‡ªå·±éƒ¨ç½²è¿è¡Œä¹‹åå‘ç°å¥½åƒå¹¶ä¸æ˜¯è¿™æ ·ã€‚\r\nåœ¨æŸ¥é˜…ä»£ç ä»“åº“çš„readmeæ—¶ï¼Œå‘ç°æ‰€ç»™çš„ç¤ºä¾‹ä»£ç å…¨æ˜¯ä»ç‚¹äº‘æˆ–è€…ç½‘æ ¼è¿›è¡Œè½¬åŒ–çš„ä»£ç ã€‚æ­£ç–‘æƒ‘å¦‚ä½•å°†å…¶ä»–è¡¨è¾¾æ–¹å¼è¿›è¡Œè½¬åŒ–ï¼Œäºæ˜¯çœ‹äº†ä¸‹issuesï¼š\r\n\r\nå…³äº3D Gaussianè½¬ä¸ºmeshï¼š\r\nAbout 3D\r\nGaussians Â· Issue #29 Â· buaacyw/MeshAnything\r\n\r\nWe suggest converting the 3D Gaussians into a mesh before inputting\r\nthem into our method.\r\n\r\nä½œè€…ç›´æ¥å»ºè®®å°†3D Gaussianè½¬ä¸ºmeshå†ä½œä¸ºè¯¥æ–¹æ³•çš„è¾“å…¥ã€‚ï¼ˆè¿·æƒ‘ï¼‰\r\nHow to\r\nconvert 3D gaussian splatting to mesh? Â· Issue #6 Â·\r\nbuaacyw/MeshAnything\r\n\r\nHi, I use SUGAR to get\r\nhigh quality mesh from GS and then sample point cloud on the 3D GS.\r\nOther methods like 2DGS should\r\nalso work well. I suggest you run these methods directly in their repos\r\nand use the results as inputs for our method.\r\n\r\nå¦ä¸€ä¸ªissueé‡Œï¼Œä½œè€…æåˆ°äº†ä¸¤ä¸ªæ–¹æ³•æ¥è¿›è¡Œè¿™ç§è½¬åŒ–ï¼šSuGaRå’Œ2DGSã€‚\r\nå…³äºå¤§è§„æ¨¡ç‚¹äº‘è½¬meshï¼š\r\nlarge\r\nscale pointCloud Â· Issue #9 Â· buaacyw/MeshAnything\r\nMeshAnythingç›®å‰é™åˆ¶åœ¨800ä¸ªfaceï¼Œå¯¹å¤æ‚meshæˆ–å¤§è§„æ¨¡ç‚¹äº‘å¯èƒ½æ— æ³•æ¯”è¾ƒå¥½åœ°è½¬åŒ–ã€‚\r\nå…³äºimageå’Œtextè½¬meshï¼š\r\nHow to do\r\ntext and images? Â· Issue #4 Â· buaacyw/MeshAnything\r\n\r\nThe image/text to mesh is achieved by combining with 3D generation\r\nmethods. We first obtain dense meshes from 3D generation methods and use\r\nthem as input to our methods. Note that the shape quality of dense\r\nmeshes should be high enough. Thus, feed-forward 3D generation methods\r\nmay often produce bad results due to insufficient shape quality. We\r\nsuggest using results from SDS-based pipelines (like DreamCraft3D) as\r\nthe input of MeshAnything as they produce better shape quality.\r\n\r\næ„æ€å°±æ˜¯ï¼Œé€šè¿‡å…¶ä»–æ–¹æ³•ç”Ÿæˆdense meshï¼Œç„¶åå†ä½œä¸ºè¯¥æ–¹æ³•çš„è¾“å…¥å‘—ï¼Ÿ\r\n\r\nå¤§æ¦‚æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼Œè¿™ä¸ªæ–¹æ³•åªæ˜¯å°†å·²æœ‰çš„Meshè½¬åŒ–ä¸ºArtist-Created Meshesè€Œå·²ï¼ŒåŒ…æ‹¬ä¹‹å‰æåˆ°çš„3DGSã€imageã€textè½¬meshï¼Œæ ¹æœ¬å°±æ˜¯é€šè¿‡åˆ«çš„æ–¹æ³•å®ç°çš„ã€‚å®ƒæ˜¯å°†ç²¾åº¦é«˜çš„å¯†meshåœ¨ä¿ç•™å¤§éƒ¨åˆ†å‡ ä½•ç‰¹å¾çš„æƒ…å†µä¸‹è¿›è¡Œçš„â€œç®€åŒ–â€å’Œâ€œä¼˜åŒ–â€ï¼Œè®©é¢ç‰‡æ•°æ›´ç²¾ç®€ä¸”æ‹“æ‰‘ç»“æ„æ›´ç¬¦åˆäººç±»ç›´è§‰ã€‚\r\nï¼ˆåæ§½ä¸€å¥ï¼Œæˆ‘æ„Ÿè§‰è¿™ä¸ªæ ‡é¢˜è¿˜æœ‰æœ€å¼€å§‹çš„æ¼”ç¤ºï¼Œæœ‰ç§æ ‡é¢˜å…šçš„æ„å‘³ã€‚è¿˜ä»¥ä¸ºçœŸçš„æ˜¯mesh\r\nanythingï¼‰\r\nSuGaR\r\n\r\né—®é¢˜èƒŒæ™¯\r\n3D Gaussian Splatting æ˜¯ä¸€ç§é«˜æ•ˆçš„ 3D\r\nåœºæ™¯æ¸²æŸ“æ–¹æ³•ï¼Œä½†å…¶ä¼˜åŒ–åç”Ÿæˆçš„å¤§é‡æ— ç»“æ„çš„ 3D Gaussians\r\nä¸ä¾¿äºç”Ÿæˆå¯ç¼–è¾‘çš„ç½‘æ ¼ï¼ˆMeshï¼‰ã€‚\r\nå½“å‰ä½¿ç”¨ Neural SDF\r\næå–ç½‘æ ¼çš„æ–¹æ³•è®¡ç®—é‡å¤§ï¼Œéœ€å¤šGPUè®­ç»ƒï¼Œä¸”è€—æ—¶è¾ƒé•¿ï¼ˆé€šå¸¸éœ€24å°æ—¶ä»¥ä¸Šï¼‰ã€‚\r\næ ¸å¿ƒæ–¹æ³•\r\nè¡¨é¢å¯¹é½æ­£åˆ™åŒ–ï¼š\r\n\r\nå¼•å…¥ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹ï¼Œå¼ºåˆ¶ä¼˜åŒ–åçš„ 3D Gaussians\r\nåˆ†å¸ƒäºåœºæ™¯è¡¨é¢ï¼Œä»è€Œæ›´å¥½åœ°æ•è·åœºæ™¯å‡ ä½•ä¿¡æ¯ã€‚\r\né€šè¿‡ä¼˜åŒ– Signed Distance Function (SDF)ï¼Œä½¿ Gaussians\r\nå¹³å¦åŒ–ï¼Œå¹¶æ²¿ç€è¡¨é¢åˆ†å¸ƒã€‚\r\n\r\né«˜æ•ˆç½‘æ ¼æå–ï¼š\r\n\r\nåŸºäºä¼˜åŒ–åçš„ Gaussiansï¼Œé‡‡æ ·æ°´å¹³é›†ä¸Šçš„ç‚¹ï¼Œä½¿ç”¨ Poisson\r\né‡å»ºç®—æ³•ç”Ÿæˆä¸‰è§’å½¢ç½‘æ ¼ã€‚ç›¸æ¯”äº Marching Cubes\r\nç®—æ³•ï¼Œè¯¥æ–¹æ³•å¯¹ç¨€ç–æ•°æ®æ›´é²æ£’ï¼Œä¸”è®¡ç®—æ›´é«˜æ•ˆã€‚\r\n\r\nç»‘å®š Gaussians åˆ°ç½‘æ ¼ï¼š\r\n\r\nå°†ä¼˜åŒ–åçš„ Gaussians ä¸ç”Ÿæˆçš„ç½‘æ ¼è¡¨é¢ç»‘å®šï¼Œè¿›ä¸€æ­¥ä¼˜åŒ– Gaussians\r\nå’Œç½‘æ ¼ï¼Œé€šè¿‡ Gaussian Splatting æ¸²æŸ“ï¼Œæå‡æ¸²æŸ“è´¨é‡ã€‚\r\nè¿™ç§ç»‘å®šä½¿å¾—å¯ä»¥é€šè¿‡ç¼–è¾‘ç½‘æ ¼æ¥å®ç°å¯¹åœºæ™¯çš„ä¿®æ”¹ã€‚\r\n\r\nå®éªŒç»“æœ\r\n\r\né€Ÿåº¦ï¼šSuGaR æ–¹æ³•åœ¨å• GPU\r\nä¸Šä»…éœ€å‡ åˆ†é’Ÿå³å¯æå–å‡ºé«˜è´¨é‡ç½‘æ ¼ï¼Œè¿œå¿«äºåŸºäº SDF çš„æ–¹æ³•ã€‚\r\nè´¨é‡ï¼šåœ¨å¤šä¸ªæ•°æ®é›†ä¸Šçš„å®šé‡è¯„ä¼°æ˜¾ç¤ºï¼ŒSuGaR\r\nçš„æ¸²æŸ“è´¨é‡ï¼ˆPSNRã€SSIMã€LPIPSï¼‰ä¼˜äºå…¶ä»–åŸºäºç½‘æ ¼çš„æ–¹æ³•ï¼Œå¹¶ä¸ä»…å…³æ³¨æ¸²æŸ“è´¨é‡çš„é¡¶å°–æ–¹æ³•æ¥è¿‘ã€‚\r\nå¯ç¼–è¾‘æ€§ï¼šç”Ÿæˆçš„ç½‘æ ¼ä¸ç»‘å®šçš„ Gaussians\r\nå¯ä»¥ç›´æ¥ç”¨äºåŠ¨ç”»ã€é‡å…‰ç…§ã€é›•åˆ»ç­‰æ“ä½œï¼Œæä¾›äº†æ›´é«˜çš„çµæ´»æ€§ã€‚\r\n\r\nè¸©å‘è®°å½•\r\n\r\nenvironment.yml åˆ›å»ºç¯å¢ƒ\r\nfailï¼šåˆ›å»ºç©ºç¯å¢ƒä¸€æ­¥ä¸€æ­¥å®‰è£…ä¾èµ–ã€‚\r\npytorchæ‰¾ä¸åˆ°åŒ…ï¼šä½¿ç”¨å›½å†…é•œåƒï¼ˆéœ€è¦æ³¨æ„æ˜¯ä½¿ç”¨-fè€Œä¸æ˜¯--index-urlï¼‰ï¼š\r\npip install torch==2.0.1 torchvision==0.15.2 torchaudio==2.0.2 -f https://mirrors.aliyun.com/pytorch-wheels/cu118\r\npytorch3dæ‰¾ä¸åˆ°åŒ…ï¼šå»Anacondaå®˜ç½‘æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬çš„å®‰è£…åŒ…å¤åˆ¶é“¾æ¥å†installï¼š\r\nconda install https://anaconda.org/pytorch3d/pytorch3d/0.7.4/download/linux-64/pytorch3d-0.7.4-py39_cu118_pyt201.tar.bz2\r\nå…¶ä»– conda åŒ…æ‰¾ä¸åˆ°ï¼šç›´æ¥pip\r\ninsatllã€‚ï¼ˆæ¢äº†å›½å†…æºéƒ½æ²¡è§£å†³æ‰ï¼Œåªèƒ½å‡ºæ­¤ä¸‹ç­–ï¼‰\r\nCUDA-capable device(s) is/are busy or\r\nunavailableï¼šä¸ä¼šè§£å†³äº†ï¼Œæ¢å›AutoDLäº†ã€‚åœ¨AutoDLé…ç¯å¢ƒæ²¡é‡åˆ°è¿™ä¹ˆå¤šé—®é¢˜ã€‚\r\nå¡åœ¨ 'computing mesh...' : åœ¨ issue\r\nçœ‹åˆ°äº†ä¸€æ¨¡ä¸€æ ·çš„æƒ…å†µï¼Œç›®å‰è¿˜æ²¡è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\r\n\r\n2DGS\r\né—®é¢˜èƒŒæ™¯\r\nåœ¨è®¡ç®—æœºå›¾å½¢å­¦å’Œè§†è§‰é¢†åŸŸï¼Œè§†è§’ä¸€è‡´çš„å‡ ä½•é‡å»ºä¸çœŸå®æ„Ÿçš„æ–°è§†è§’åˆæˆï¼ˆNVSï¼‰ä¸€ç›´æ˜¯é‡è¦çš„ç ”ç©¶ç›®æ ‡ã€‚è¿‘å¹´æ¥ï¼ŒåŸºäº\r\n3D Gaussian Splatting (3DGS)\r\nçš„æ˜¾å¼æ–¹æ³•å› å…¶å®æ—¶æ¸²æŸ“èƒ½åŠ›è€Œå—åˆ°å…³æ³¨ã€‚ç„¶è€Œï¼Œ3DGS\r\nåœ¨ä»¥ä¸‹æ–¹é¢å­˜åœ¨æ˜¾è‘—é—®é¢˜ï¼š\r\n\r\nè¡¨é¢å‡ ä½•ä¸ç²¾ç¡®ï¼š3Dé«˜æ–¯çš„ä½“ç§¯è¡¨ç¤ºä¸ç‰©ä½“çš„è–„è¡¨é¢ç‰¹æ€§å†²çªï¼Œå¯¼è‡´è¡¨é¢é‡å»ºè´¨é‡è¾ƒä½ã€‚\r\nå¤šè§†è§’ä¸ä¸€è‡´æ€§ï¼š3DGS\r\nåœ¨ä¸åŒè§†è§’ä¸‹è®¡ç®—äº¤ç‚¹æ—¶ï¼Œç”±äºæŠ•å½±å¹³é¢å˜åŒ–ï¼Œäº§ç”Ÿæ·±åº¦å’Œæ³•çº¿çš„ä¸ä¸€è‡´æ€§ã€‚\r\n\r\nä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ç§æ–°çš„æ˜¾å¼å»ºæ¨¡æ–¹æ³•â€”â€”2D Gaussian\r\nSplatting\r\n(2DGS)ï¼Œä»¥æé«˜å‡ ä½•é‡å»ºçš„ç²¾åº¦å’Œè§†è§’ä¸€è‡´æ€§ï¼ŒåŒæ—¶ä¿ç•™å¿«é€Ÿæ¸²æŸ“èƒ½åŠ›ã€‚\r\næ ¸å¿ƒæ–¹æ³•\r\n\r\næ–¹æ³•æ¦‚è¿°\r\n\r\n\r\né€šè¿‡äºŒç»´é«˜æ–¯å¹³é¢ï¼ˆå³äºŒç»´æ¤­åœ†ç›˜ï¼‰æ¥æ›¿ä»£ä¸‰ç»´é«˜æ–¯çƒä½“ï¼Œå°†åœºæ™¯å»ºæ¨¡ä¸ºä¸€ç»„äºŒç»´é«˜æ–¯åˆ†å¸ƒçš„é›†åˆã€‚\r\nè¿™äº›äºŒç»´é«˜æ–¯ç›˜é€šè¿‡æ˜¾å¼çš„å…‰çº¿ä¸å¹³é¢äº¤ç‚¹è®¡ç®—ï¼Œå®ç°å‡ ä½•è¡¨é¢å’Œå…‰ç…§çš„é«˜æ•ˆè¡¨ç¤ºã€‚\r\nç»“åˆæ¢¯åº¦ä¼˜åŒ–ï¼Œä»ç¨€ç–ç‚¹äº‘å’Œå¤šè§†è§’å›¾åƒä¸­åŒæ—¶ä¼˜åŒ–å¤–è§‚ä¸å‡ ä½•ã€‚\r\n\r\n\r\nå…³é”®æŠ€æœ¯\r\n\r\n\r\né€è§†å‡†ç¡®çš„äºŒç»´é«˜æ–¯æ¸²æŸ“ï¼šåˆ©ç”¨å…‰çº¿ä¸äºŒç»´é«˜æ–¯äº¤ç‚¹çš„æ˜¾å¼è®¡ç®—ï¼Œé¿å…ä¼ ç»Ÿè¿‘ä¼¼æ–¹æ³•å¸¦æ¥çš„é€è§†è¯¯å·®ã€‚\r\næ­£åˆ™åŒ–æŸå¤±ï¼š\r\n\r\næ·±åº¦å¤±çœŸæŸå¤±ï¼šé€šè¿‡çº¦æŸäºŒç»´é«˜æ–¯æ²¿å…‰çº¿åˆ†å¸ƒçš„ç´§å¯†æ€§ï¼Œç¡®ä¿å‡ ä½•è¡¨é¢ç¨³å®šã€‚\r\næ³•çº¿ä¸€è‡´æ€§æŸå¤±ï¼šçº¦æŸäºŒç»´é«˜æ–¯è¡¨é¢çš„æ³•çº¿æ–¹å‘ä¸æ·±åº¦å›¾æ¢¯åº¦å¯¹é½ï¼Œä¿è¯è¡¨é¢å¹³æ»‘æ€§ã€‚\r\n\r\né«˜æ•ˆå®ç°ï¼šåŸºäºCUDAçš„è‡ªå®šä¹‰å†…æ ¸åŠ é€Ÿè®­ç»ƒå’Œå®æ—¶æ¸²æŸ“ã€‚\r\n\r\n\r\nä¼˜åŒ–æµç¨‹\r\n\r\n\r\nåˆå§‹åŒ–ç¨€ç–ç‚¹äº‘å¹¶ç»“åˆå¤šè§†è§’RGBå›¾åƒï¼Œä¼˜åŒ–äºŒç»´é«˜æ–¯å‚æ•°ï¼ˆä½ç½®ã€ç¼©æ”¾ã€æ–¹å‘ï¼‰ã€‚\r\nä½¿ç”¨æ­£åˆ™åŒ–æŸå¤±å‡å°‘å™ªå£°ï¼Œå¢å¼ºå‡ ä½•è¡¨é¢å’Œè§†è§’ä¸€è‡´æ€§ã€‚\r\n\r\nå®éªŒç»“æœ\r\n\r\nå®éªŒè®¾ç½®\r\n\r\n\r\næ•°æ®é›†ï¼šDTUã€Tanks and Temples å’Œ\r\nMip-NeRF360ï¼Œæ¶µç›–ä¸åŒåœºæ™¯å’Œåˆ†è¾¨ç‡ã€‚\r\næ¯”è¾ƒæ–¹æ³•ï¼šéšå¼è¡¨å¾æ–¹æ³•ï¼ˆå¦‚NeRFã€NeuSï¼‰ä¸æ˜¾å¼æ–¹æ³•ï¼ˆå¦‚3DGSã€SuGaRï¼‰ã€‚\r\n\r\n\r\nä¸»è¦å®éªŒç»“æœ\r\n\r\n\r\nå‡ ä½•é‡å»ºï¼š\r\n\r\nåœ¨DTUæ•°æ®é›†ä¸Šï¼ŒChamferè·ç¦»ä¼˜äºç°æœ‰æ–¹æ³•ï¼Œç‰¹åˆ«æ˜¯åœ¨ç»†èŠ‚æ•æ‰å’Œå™ªå£°æ¶ˆé™¤æ–¹é¢ã€‚\r\næ¯”éšå¼æ–¹æ³•å¿«100å€çš„è®­ç»ƒé€Ÿåº¦ï¼Œæ¯”å…¶ä»–æ˜¾å¼æ–¹æ³•ï¼ˆå¦‚SuGaRï¼‰å¿«3å€ä»¥ä¸Šã€‚\r\n\r\næ–°è§†è§’åˆæˆï¼š\r\n\r\nåœ¨Mip-NeRF360æ•°æ®é›†ä¸Šï¼Œæ–°è§†è§’æ¸²æŸ“è´¨é‡æ¥è¿‘3DGSï¼Œä¸”åŒæ—¶æä¾›äº†æ›´é«˜çš„å‡ ä½•ç²¾åº¦ã€‚\r\n\r\næ¶ˆèå®éªŒï¼š\r\n\r\néªŒè¯äº†æ­£åˆ™åŒ–é¡¹çš„æœ‰æ•ˆæ€§ï¼šç¼ºå¤±æ³•çº¿ä¸€è‡´æ€§ä¼šå¯¼è‡´è¡¨é¢æ–¹å‘å™ªå£°ï¼Œç¼ºå¤±æ·±åº¦å¤±çœŸæŸå¤±ä¼šå¯¼è‡´è¡¨é¢æ¨¡ç³Šã€‚\r\n\r\n\r\n\r\nå®šé‡ä¸å®šæ€§è¡¨ç°\r\n\r\n\r\nå®šé‡ç»“æœï¼šåœ¨DTUæ•°æ®é›†ä¸Šï¼Œ2DGSçš„Chamferè·ç¦»å’ŒPSNRå‡è¾¾åˆ°å½“å‰æœ€ä¼˜ï¼ŒåŒæ—¶æ˜¾è‘—å‡å°‘äº†è®­ç»ƒæ—¶é—´å’Œæ¨¡å‹å­˜å‚¨éœ€æ±‚ã€‚\r\nå®šæ€§ç»“æœï¼šç›¸æ¯”3DGSå’ŒSuGaRï¼Œ2DGSåœ¨å¤æ‚å‡ ä½•å’Œç»†èŠ‚æ•æ‰ä¸Šè¡¨ç°æ›´ä¼˜ï¼Œèƒ½æ›´å¥½åœ°é‡å»ºå™ªå£°è¾ƒå°‘çš„è¡¨é¢ã€‚\r\n\r\né‡å»ºæ•ˆæœ\r\n\r\nä¸Šå›¾æ˜¯è®­ç»ƒ30000ä¸ªiterationåç”Ÿæˆçš„meshã€‚å¯ä»¥çœ‹å‡º2DGSç”Ÿæˆçš„meshè¿˜æ˜¯æ¯”è¾ƒç²¾ç¡®çš„ã€‚\r\nGOF\r\næœªå®Œå¾…ç»­...\r\n","categories":["ä¸‰ç»´é‡å»º"],"tags":["NeRF","3DGS","2DGS"]},{"title":"Scene Recognition with Bag of Words","url":"/2025/01/09/14-SceneRecognition/","content":"1. Setting\r\n1.1 Objective\r\n\r\nThe goal of this project is to give you a basic introduction to image\r\nrecognition. Specifically, we will examine the task of scene recognition\r\nstarting with a very simple method, e.g., tiny images and nearest\r\nneighbor classification, and then move on to bags of quantized local\r\nfeatures.\r\n\r\nThe dataset consists of images from 15 different categories. Each\r\ncategory contains multiple images, and the task is to classify these\r\nimages into their respective categories.\r\n1.2 Environment\r\n\r\nOS: Linux (Ubuntu 22.04)\r\nLib: Python 3, scikit-learn, OpenCV, NumPy.\r\n\r\n2. Algorithm\r\n2.1 Tiny Image + KNN\r\nThe Tiny Image + KNN method works by resizing images\r\nto a small fixed size and flattening the pixel values into a vector.\r\nThis vector is used as a feature representation for the image, which is\r\nthen classified using the k-Nearest Neighbors algorithm.\r\n\r\nSteps:\r\n\r\nResize the images to a smaller size (e.g., 32x32 pixels).\r\n\r\nFlatten the resized image into a 1D vector of pixel\r\nintensities.\r\n\r\nUse KNN to classify the image based on the distance between feature\r\nvectors.\r\n\r\n\r\nThis method is simple but may not capture high-level patterns or\r\nfeatures in the image, as it relies purely on raw pixel intensities.\r\n2.2 Bag of SIFT + KNN\r\nThe Bag of SIFT + KNN method involves several key\r\nsteps:\r\n\r\nSIFT Feature Extraction: Key points are detected in\r\neach image, and descriptors are computed for those key points.\r\nClustering: SIFT descriptors are clustered into a\r\npredefined number of clusters (vocabulary size).\r\nFeature Representation: Each image is represented\r\nby a histogram of the number of occurrences of each visual word (cluster\r\ncenter).\r\nKNN Classification: The image's histogram is\r\ncompared to the histograms of training images, and the class with the\r\nmost neighbors is assigned to the image.\r\n\r\nIn my code, SIFT features are extracted and clustered into visual\r\nwords using k-means clustering. The resulting vocabulary size is tested\r\nwith different numbers of clusters (10, 30, 50, 70, 100).\r\n3. Experiments\r\n3.1 Results\r\nThe following table summarizes the classification accuracy for both\r\nthe Tiny Image + KNN method and the Bag of SIFT\r\n+ KNN method with different visual vocabulary sizes.\r\n\r\n\r\n\r\nMethod\r\nVocabulary Size\r\nAverage Accuracy\r\n\r\n\r\n\r\n\r\nTiny Image + KNN\r\nN/A\r\n0.2236\r\n\r\n\r\nBag of SIFT + KNN\r\n10\r\n0.2624\r\n\r\n\r\nBag of SIFT + KNN\r\n30\r\n0.3354\r\n\r\n\r\nBag of SIFT + KNN\r\n50\r\n0.3550\r\n\r\n\r\nBag of SIFT + KNN\r\n70\r\n0.3568\r\n\r\n\r\nBag of SIFT + KNN\r\n100\r\n0.3578\r\n\r\n\r\n\r\n3.2 Accuracy Details\r\nHere are the detailed accuracy results for each category in the\r\ndataset.\r\nTiny Image + KNN Results\r\n\r\n\r\n\r\nCategory\r\nAccuracy\r\n\r\n\r\n\r\n\r\ncoast\r\n0.4154\r\n\r\n\r\nforest\r\n0.1053\r\n\r\n\r\nhighway\r\n0.5375\r\n\r\n\r\ninsidecity\r\n0.0673\r\n\r\n\r\nmountain\r\n0.1606\r\n\r\n\r\noffice\r\n0.1826\r\n\r\n\r\nopencountry\r\n0.3581\r\n\r\n\r\nstreet\r\n0.5000\r\n\r\n\r\nsuburb\r\n0.3546\r\n\r\n\r\ntallbuilding\r\n0.1719\r\n\r\n\r\nbedroom\r\n0.1638\r\n\r\n\r\nindustrial\r\n0.0900\r\n\r\n\r\nkitchen\r\n0.0818\r\n\r\n\r\nlivingroom\r\n0.1376\r\n\r\n\r\nstore\r\n0.0279\r\n\r\n\r\n\r\nBag of SIFT\r\n+ KNN Results (Different Vocabulary Sizes)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nCategory\r\nVocabulary Size = 10\r\nVocabulary Size = 30\r\nVocabulary Size = 50\r\nVocabulary Size = 70\r\nVocabulary Size = 100\r\n\r\n\r\n\r\n\r\ncoast\r\n0.3308\r\n0.3423\r\n0.3846\r\n0.3769\r\n0.3654\r\n\r\n\r\nforest\r\n0.7237\r\n0.7763\r\n0.8289\r\n0.8377\r\n0.8026\r\n\r\n\r\nhighway\r\n0.1938\r\n0.2812\r\n0.2938\r\n0.3125\r\n0.3375\r\n\r\n\r\ninsidecity\r\n0.1394\r\n0.2452\r\n0.2788\r\n0.3029\r\n0.2740\r\n\r\n\r\nmountain\r\n0.2080\r\n0.3723\r\n0.4562\r\n0.4051\r\n0.4307\r\n\r\n\r\noffice\r\n0.2696\r\n0.2174\r\n0.3304\r\n0.3478\r\n0.3130\r\n\r\n\r\nopencountry\r\n0.1871\r\n0.2516\r\n0.1839\r\n0.2290\r\n0.1935\r\n\r\n\r\nstreet\r\n0.2812\r\n0.3229\r\n0.3073\r\n0.2812\r\n0.2448\r\n\r\n\r\nsuburb\r\n0.5106\r\n0.7021\r\n0.7730\r\n0.7376\r\n0.8014\r\n\r\n\r\ntallbuilding\r\n0.1758\r\n0.2852\r\n0.3086\r\n0.3242\r\n0.3438\r\n\r\n\r\nbedroom\r\n0.1379\r\n0.2241\r\n0.1121\r\n0.1638\r\n0.1466\r\n\r\n\r\nindustrial\r\n0.1090\r\n0.1611\r\n0.1801\r\n0.2370\r\n0.1848\r\n\r\n\r\nkitchen\r\n0.1455\r\n0.2091\r\n0.1636\r\n0.1182\r\n0.1818\r\n\r\n\r\nlivingroom\r\n0.2487\r\n0.2963\r\n0.2487\r\n0.2275\r\n0.2487\r\n\r\n\r\nstore\r\n0.2744\r\n0.3442\r\n0.4744\r\n0.4512\r\n0.4977\r\n\r\n\r\n\r\n4. Conclusion\r\n\r\nThe Tiny Image + KNN method results in lower\r\naccuracy (0.2236 on average) because it relies solely on raw pixel\r\nvalues, which do not capture the complex features and patterns of the\r\nimages effectively.\r\nBag of SIFT + KNN performs much better, with the\r\naccuracy improving as the vocabulary size increases. The highest\r\naccuracy was obtained with a vocabulary size of 100, yielding an average\r\naccuracy of 0.3578.\r\nIncreasing the visual vocabulary size improves the\r\nmodelâ€™s ability to classify images by capturing more detailed and\r\ndistinct features from the SIFT descriptors.\r\n\r\nIn conclusion, Bag of SIFT + KNN is a more effective\r\nmethod for image classification compared to Tiny Image +\r\nKNN, especially when a larger vocabulary is used.\r\n","categories":["ç ”ç©¶ç”Ÿè¯¾ç¨‹","è®¡ç®—æœºè§†è§‰"],"tags":["Scene Recognition"]},{"title":"Genesisåˆ†æ","url":"/2025/01/11/15-GenesisAnalysis/","content":"Taichi\r\n@ti.func &amp; @ti.kernel\r\n\r\nWhen writing compute-intensive tasks, users can leverage Taichi's\r\nhigh performance computation by following a set of extra rules, and\r\nmaking use of the two decorators @ti.func and\r\n@ti.kernel. These decorators instruct Taichi to take over\r\nthe computation tasks and compile the decorated functions to machine\r\ncode using its just-in-time (JIT) compiler. As a result, calls to these\r\nfunctions are executed on multi-core CPUs or GPUs and can achieve\r\nacceleration by 50x~100x compared to native Python code.\r\nåœ¨ç¼–å†™è®¡ç®—å¯†é›†å‹ä»»åŠ¡æ—¶ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡éµå¾ªä¸€ç»„é¢å¤–è§„åˆ™å¹¶ä½¿ç”¨ä¸¤ä¸ªè£…é¥°å™¨\r\n@ti.func å’Œ @ti.kernel æ¥åˆ©ç”¨ Taichi\r\nçš„é«˜æ€§èƒ½è®¡ç®—ã€‚è¿™äº›è£…é¥°å™¨æŒ‡ç¤º Taichi æ¥ç®¡è®¡ç®—ä»»åŠ¡ï¼Œå¹¶ä½¿ç”¨å…¶å³æ—¶ (JIT)\r\nç¼–è¯‘å™¨å°†è£…é¥°å‡½æ•°ç¼–è¯‘ä¸ºæœºå™¨ä»£ç ã€‚å› æ­¤ï¼Œå¯¹è¿™äº›å‡½æ•°çš„è°ƒç”¨åœ¨å¤šæ ¸ CPU æˆ– GPU\r\nä¸Šæ‰§è¡Œï¼Œä¸åŸç”Ÿ Python ä»£ç ç›¸æ¯”ï¼Œå¯ä»¥å®ç° 50 å€~100 å€çš„åŠ é€Ÿã€‚\r\n\r\n@ti.kernel: ç”¨\r\n@ti.kernel ä¿®é¥°çš„å‡½æ•°ç§°ä¸º Taichi\r\nå†…æ ¸æˆ–ç®€ç§°ä¸ºå†…æ ¸ã€‚è¿™äº›å‡½æ•°æ˜¯Taichiè¿è¡Œæ—¶æ¥ç®¡ä»»åŠ¡çš„å…¥å£ç‚¹ï¼Œå®ƒä»¬å¿…é¡»ç”±Pythonä»£ç ç›´æ¥è°ƒç”¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨åŸç”Ÿ\r\nPython\r\næ¥å‡†å¤‡ä»»åŠ¡ï¼Œä¾‹å¦‚ä»ç£ç›˜è¯»å–æ•°æ®å’Œé¢„å¤„ç†ï¼Œç„¶åè°ƒç”¨å†…æ ¸å°†è®¡ç®—å¯†é›†å‹ä»»åŠ¡å¸è½½åˆ°\r\nTaichiã€‚\r\n@ti.func: ç”¨ @ti.func\r\nä¿®é¥°çš„å‡½æ•°ç§°ä¸º Taichi å‡½æ•°ã€‚è¿™äº›å‡½æ•°æ˜¯å†…æ ¸çš„æ„å»ºå—ï¼Œåªèƒ½ç”±å¦ä¸€ä¸ª Taichi\r\nå‡½æ•°æˆ–å†…æ ¸è°ƒç”¨ã€‚ä¸æ™®é€šçš„ Python å‡½æ•°ä¸€æ ·ï¼Œæ‚¨å¯ä»¥å°†ä»»åŠ¡åˆ’åˆ†ä¸ºå¤šä¸ª Taichi\r\nå‡½æ•°ï¼Œä»¥å¢å¼ºå¯è¯»æ€§å¹¶åœ¨ä¸åŒçš„å†…æ ¸ä¸­é‡ç”¨å®ƒä»¬ã€‚\r\nNotes:\r\n\r\nTaichi\r\nè¦æ±‚å†…æ ¸çš„å‚æ•°å’Œè¿”å›å€¼è¿›è¡Œç±»å‹æç¤ºï¼Œé™¤éå®ƒæ—¢æ²¡æœ‰å‚æ•°ä¹Ÿæ²¡æœ‰è¿”å›è¯­å¥ã€‚\r\nå†…æ ¸æˆ– Taichi å‡½æ•°å†…çš„ä»£ç æ˜¯ Taichi èŒƒå›´çš„ä¸€éƒ¨åˆ†ã€‚ Taichi\r\nçš„è¿è¡Œæ—¶åœ¨å¤šæ ¸ CPU æˆ– GPU è®¾å¤‡ä¸Šå¹¶è¡Œç¼–è¯‘å’Œæ‰§è¡Œè¯¥ä»£ç ï¼Œä»¥å®ç°é«˜æ€§èƒ½è®¡ç®—ã€‚\r\nTaichi ä½œç”¨åŸŸç›¸å½“äº CUDA çš„è®¾å¤‡ç«¯ã€‚\r\nTaichi èŒƒå›´ä¹‹å¤–çš„ä»£ç å±äº Python\r\nèŒƒå›´ã€‚è¿™æ®µä»£ç æ˜¯ç”¨åŸç”ŸPythonç¼–å†™çš„ï¼Œå¹¶ç”±Pythonçš„è™šæ‹Ÿæœºæ‰§è¡Œï¼Œè€Œä¸æ˜¯ç”±Taichiçš„è¿è¡Œæ—¶æ‰§è¡Œã€‚\r\nPython ä½œç”¨åŸŸç›¸å½“äº CUDA çš„ä¸»æœºç«¯ã€‚\r\n\r\nKernel Notes\r\n\r\nä¸€ä¸ªå†…æ ¸å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ã€‚ä½†æ˜¯ï¼Œè¯·åŠ¡å¿…æ³¨æ„ï¼Œæ‚¨ä¸èƒ½å°†ä»»æ„ Python\r\nå¯¹è±¡ä¼ é€’ç»™å†…æ ¸ã€‚è¿™æ˜¯å› ä¸º Python å¯¹è±¡å¯ä»¥æ˜¯åŠ¨æ€çš„ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å« Taichi\r\nç¼–è¯‘å™¨æ— æ³•è¯†åˆ«çš„æ•°æ®ã€‚\r\næ ‡é‡ã€ ti.types.matrix() ã€\r\nti.types.vector() å’Œ ti.types.struct()\r\næŒ‰å€¼ä¼ é€’ï¼Œè¿™æ„å‘³ç€å†…æ ¸æ”¶åˆ°å‚æ•°çš„å‰¯æœ¬ã€‚ä½†æ˜¯ï¼Œ\r\nti.types.ndarray() å’Œ ti.template()\r\næ˜¯é€šè¿‡å¼•ç”¨ä¼ é€’çš„ï¼Œè¿™æ„å‘³ç€å¯¹å†…æ ¸å†…éƒ¨å‚æ•°æ‰€åšçš„ä»»ä½•æ›´æ”¹ä¹Ÿä¼šå½±å“åŸå§‹å€¼ã€‚\r\næ‚¨å¯ä»¥ä½¿ç”¨ ti.types.ndarray() ä½œä¸ºç±»å‹æç¤ºï¼Œå°†\r\nndarray ä» NumPy æˆ– tensor ä» PyTorch\r\nä¼ é€’åˆ°å†…æ ¸ã€‚ Taichi\r\nå¯ä»¥è¯†åˆ«è¿™äº›æ•°æ®ç»“æ„çš„å½¢çŠ¶å’Œæ•°æ®ç±»å‹ï¼Œè¿™ä½¿æ‚¨å¯ä»¥åœ¨å†…æ ¸ä¸­è®¿é—®å®ƒä»¬çš„å±æ€§ã€‚\r\næœ€å¤šå…è®¸æœ‰ä¸€ä¸ªè¿”å›å€¼ï¼Œè¯¥è¿”å›å€¼å¯ä»¥æ˜¯æ ‡é‡ã€\r\nti.types.matrix() æˆ– ti.types.vector()\r\nã€‚æ­¤å¤–ï¼Œåœ¨åŸºäº LLVM çš„åç«¯ï¼ˆCPU å’Œ CUDA åç«¯ï¼‰ä¸­ï¼Œè¿”å›å€¼ä¹Ÿå¯ä»¥æ˜¯\r\nti.types.struct() ã€‚\r\nå…¨å±€å˜é‡è§†ä¸ºç¼–è¯‘æ—¶å¸¸é‡ã€‚è¿™æ„å‘³ç€å®ƒåœ¨ç¼–è¯‘æ—¶è·å–å…¨å±€å˜é‡çš„å½“å‰å€¼ï¼Œå¹¶ä¸”ä¹‹åä¸ä¼šè·Ÿè¸ªå®ƒä»¬çš„æ›´æ”¹ã€‚\r\n\r\nFunc Notes:\r\n\r\næ‰€æœ‰çš„ Taichi å‡½æ•°éƒ½è¢«å¼ºåˆ¶å†…è” -&gt; ä¸å…è®¸è¿è¡Œæ—¶é€’å½’ã€‚\r\nTaichi å‡½æ•°å¯ä»¥æ¥å—å¤šä¸ªå‚æ•°ï¼Œå…¶ä¸­å¯èƒ½åŒ…æ‹¬æ ‡é‡ã€\r\nti.types.matrix() ã€ ti.types.vector() ã€\r\nti.types.struct() ã€ ti.types.ndarray() ã€\r\nti.field() ç±»å‹ã€‚\r\nå¯ä»¥æœ‰å¤šä¸ªè¿”å›å€¼ã€‚\r\n\r\nComparison\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nkernel\r\nfunc\r\n\r\n\r\n\r\n\r\nè°ƒç”¨èŒƒå›´\r\nPython ä½œç”¨åŸŸ\r\nTaichi ä½œç”¨åŸŸ\r\n\r\n\r\nå‚æ•°çš„ç±»å‹æç¤º\r\nå¿…éœ€\r\næ¨è\r\n\r\n\r\nè¿”å›å€¼çš„ç±»å‹æç¤º\r\nå¿…éœ€\r\næ¨è\r\n\r\n\r\nè¿”å›ç±»å‹\r\næ ‡é‡ti.types.matrix()ti.types.vector()ti.types.struct()(Only\r\non LLVM-based backends)\r\næ ‡é‡ti.types.matrix()ti.types.vector()ti.types.struct()...\r\n\r\n\r\nå‚æ•°ä¸­å…ƒç´ æ•°é‡ä¸Šé™\r\n32ï¼ˆé€‚ç”¨äº OpenGLï¼‰64ï¼ˆé€‚ç”¨äºå…¶ä»–åç«¯ï¼‰\r\næ— é™åˆ¶\r\n\r\n\r\nreturn è¯­å¥ä¸­è¿”å›å€¼æ•°é‡ä¸Šé™\r\n1\r\næ— é™\r\n\r\n\r\n\r\n@ti.dataclass\r\n@ti.dataclassclass \tSphere:    \tcenter: vec3        \tradius: float\r\nField\r\nTaichi field æ˜¯å…¨å±€æ•°æ®å®¹å™¨ï¼Œä» Python ä½œç”¨åŸŸæˆ–\r\nTaichi ä½œç”¨åŸŸå‡èƒ½è®¿é—®ã€‚\r\nf_2d = ti.field(int, shape=(3, 6))  # A 2D field in the shape (3, 6)\r\n\r\nScalar field: å­˜å‚¨çš„æ˜¯æ ‡é‡ï¼Œæ˜¯æœ€åŸºæœ¬çš„\r\nfieldã€‚\r\n\r\nä¸€ä¸ª0D çš„æ ‡é‡ field æ˜¯å•ä¸ªæ ‡é‡ã€‚\r\nä¸€ä¸ªä¸€ç»´æ ‡é‡ field æ˜¯ç”±æ ‡é‡ç»„æˆçš„ä¸€ä¸ªä¸€ç»´æ•°ç»„ã€‚\r\nä¸€ä¸ªäºŒç»´æ ‡é‡ field\r\næ˜¯ç”±æ ‡é‡ç»„æˆçš„ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œä»¥æ­¤ç±»æ¨ã€‚\r\n\r\n\r\n# Declares a 3x3 vector field comprising 2D vectorsf = ti.Vector.field(n=2, dtype=float, shape=(3, 3))\r\n\r\nVector field:\r\næ¯ä¸ªå…ƒç´ éƒ½æ˜¯Nç»´å‘é‡çš„å‘é‡åœºã€‚\r\n\r\n# Declares a 300x400x500 matrix field, each of its elements being a 3x2 matrixtensor_field = ti.Matrix.field(n=3, m=2, dtype=ti.f32, shape=(300, 400, 500))\r\n\r\nMatrix field: æ¯ä¸ªå…ƒç´ éƒ½æ˜¯çŸ©é˜µã€‚\r\n\r\nçŸ©é˜µè¿ç®—åœ¨ç¼–è¯‘æ—¶å±•å¼€ã€‚\r\nåœ¨è¾ƒå¤§çš„çŸ©é˜µï¼ˆä¾‹å¦‚32x128\r\nï¼‰ä¸Šè¿è¡Œå¯èƒ½ä¼šå¯¼è‡´ç¼–è¯‘æ—¶é—´æ›´é•¿ä¸”æ€§èƒ½è¾ƒå·®ã€‚\r\n\r\n\r\n# Declares a 1D struct field using the ti.Struct.field() methodn = 10particle_field = ti.Struct.field(&#123;        &quot;pos&quot;: ti.math.vec3,        &quot;vel&quot;: ti.math.vec3,        &quot;acc&quot;: ti.math.vec3,        &quot;mass&quot;: float,  &#125;, shape=(n,))\r\n\r\nStruct field: å­˜å‚¨ç”¨æˆ·è‡ªå®šä¹‰çš„ç»“æ„ä½“ã€‚\r\n\r\nTaichi ç¼–è¯‘å™¨èƒ½å¤Ÿè‡ªåŠ¨æ¨æ–­åº•å±‚çš„æ•°æ®å¸ƒå±€å¹¶åº”ç”¨åˆé€‚çš„æ•°æ®è¯»å–é¡ºåºã€‚\r\nè¿™æ˜¯ Taichi ç¼–ç¨‹è¯­è¨€ç›¸è¾ƒå…¶ä»–å¤§å¤šæ•°é€šç”¨ç¼–ç¨‹è¯­è¨€çš„ä¸€å¤§ä¼˜åŠ¿ã€‚\r\nNdarray\r\n\r\nndarray\r\næ€»æ˜¯åˆ†é…ä¸€ä¸ªè¿ç»­çš„å†…å­˜å—ï¼Œä»¥å…è®¸ä¸å¤–éƒ¨åº“è¿›è¡Œç›´æ¥çš„æ•°æ®äº¤æ¢ã€‚\r\nä¸ field ä¸€æ ·ï¼Œndarray åªèƒ½åœ¨ Python\r\nä½œç”¨åŸŸä¸­æ„é€ ï¼Œè€Œä¸èƒ½åœ¨ Taichi ä½œç”¨åŸŸä¸­æ„é€ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸èƒ½åœ¨ Taichi\r\nå†…æ ¸æˆ–å‡½æ•°å†…éƒ¨æ„é€  ndarrayã€‚\r\nå½“æ ‡é‡ç±»å‹çš„ NumPy ndarray æˆ– PyTorch å¼ é‡ä½œä¸ºå‚æ•°ä¼ é€’ç»™ Taichi\r\nå†…æ ¸æ—¶ï¼Œå®ƒå¯ä»¥è¢«è§£é‡Šä¸ºæ ‡é‡ç±»å‹æ•°ç»„ã€å‘é‡ç±»å‹æ•°ç»„æˆ–çŸ©é˜µç±»å‹æ•°ç»„ã€‚è¿™æ˜¯ç”±ç±»å‹æç¤ºti.types.ndarray()ä¸­çš„dtypeå’Œndimé€‰é¡¹æ§åˆ¶çš„ã€‚\r\n\r\nGenesis\r\nRigid Solver\r\nInit\r\nä½œç”¨ï¼šåˆå§‹åŒ–æ±‚è§£å™¨å¯¹è±¡ï¼Œè®¾ç½®å…¶åˆå§‹çŠ¶æ€å’Œé…ç½®ä¿¡æ¯ã€‚\r\nåŠŸèƒ½ï¼š\r\n\r\nè°ƒç”¨åŸºç±» Solver çš„åˆå§‹åŒ–ã€‚\r\næ ¹æ® options é…ç½®æ±‚è§£å™¨è¡Œä¸ºï¼š\r\n\r\næ˜¯å¦å¯ç”¨ç¢°æ’æ£€æµ‹ã€å…³èŠ‚é™åˆ¶ã€è‡ªç¢°æ’ã€‚\r\næœ€å¤§ç¢°æ’å¯¹æ•°é‡ã€‚\r\nåŠ¨åŠ›å­¦ç§¯åˆ†å™¨ç±»å‹ã€‚\r\næ˜¯å¦å¯ç”¨ä¼‘çœ ä¼˜åŒ–ï¼ˆhibernationï¼‰ã€‚\r\n\r\nåˆå§‹åŒ–å†…éƒ¨å˜é‡ï¼Œå¦‚å½“å‰æ­¥æ•°\r\n_cur_stepï¼Œä»¥åŠå­˜å‚¨å®ä½“çš„åˆ—è¡¨ _entitiesã€‚\r\n\r\nAdd Entity\r\nä½œç”¨ï¼šæ·»åŠ ä¸€ä¸ªç‰©ç†å®ä½“ï¼ˆå¦‚åˆšä½“ã€æœºå™¨äººã€æ— äººæœºç­‰ï¼‰åˆ°æ±‚è§£å™¨ä¸­ã€‚\r\nå‚æ•°ï¼š\r\n\r\nidxï¼šå®ä½“çš„å…¨å±€ç´¢å¼•ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ã€‚\r\nmaterialï¼šè¯¥å®ä½“çš„æè´¨ç±»å‹ï¼ˆä¾‹å¦‚åˆšä½“æˆ–è§’è‰²ï¼‰ã€‚\r\nmorphï¼šå®ä½“çš„å½¢æ€ç±»å‹ï¼ˆä¾‹å¦‚æ— äººæœºå½¢æ€ï¼‰ã€‚\r\nsurfaceï¼šå‡ ä½•è¡¨é¢ä¿¡æ¯ï¼ˆç”¨äºç¢°æ’æ£€æµ‹æˆ–æ¸²æŸ“ï¼‰ã€‚\r\nvisualize_contactï¼šæ˜¯å¦éœ€è¦å¯è§†åŒ–æ¥è§¦ç‚¹ã€‚\r\n\r\nåŠŸèƒ½ï¼š\r\n\r\næ ¹æ® material å’Œ morph\r\nç±»å‹é€‰æ‹©å®ä½“çš„ç±»åˆ«ï¼š\r\n\r\nAvatarEntityï¼šè§’è‰²å®ä½“ã€‚\r\nDroneEntityï¼šæ— äººæœºå®ä½“ã€‚\r\nRigidEntityï¼šæ™®é€šåˆšä½“ã€‚\r\n\r\næ£€æŸ¥æ˜¯å¦æ”¯æŒæ˜¾ç¤ºæ¥è§¦ç‚¹ï¼ˆAvatarEntityä¸æ”¯æŒï¼‰ã€‚\r\nåˆå§‹åŒ–å®ä½“å¯¹è±¡ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ° _entities åˆ—è¡¨ä¸­ã€‚\r\n\r\nè¿”å›å€¼ï¼šæ–°åˆ›å»ºçš„å®ä½“å¯¹è±¡ã€‚\r\nBuild\r\nä½œç”¨ï¼šæ„å»ºæ±‚è§£å™¨çš„å†…éƒ¨çŠ¶æ€å’Œæ•°æ®ç»“æ„ï¼Œä¸ºæ¨¡æ‹Ÿåšå¥½å‡†å¤‡ã€‚\r\nåŠŸèƒ½ï¼š\r\n\r\nåˆå§‹åŒ–å…¨å±€å˜é‡ï¼ˆå¦‚ç¯å¢ƒæ•°é‡ n_envs å’Œå¹¶è¡Œçº§åˆ«\r\n_para_levelï¼‰ã€‚\r\nè°ƒç”¨æ¯ä¸ªå®ä½“çš„ build æ–¹æ³•ï¼Œè®¾ç½®å…¶ç›¸å…³å‚æ•°ã€‚\r\nåˆå§‹åŒ–å…³é”®çš„æ•°æ®ç»“æ„ï¼š\r\n\r\nè‡ªç”±åº¦æ•°é‡ã€å…³èŠ‚æ•°é‡ã€å‡ ä½•ä½“æ•°é‡ç­‰ç»Ÿè®¡æ•°æ®ã€‚\r\nåŠ¨åŠ›å­¦çŸ©é˜µï¼ˆè´¨é‡çŸ©é˜µç­‰ï¼‰å’Œå­—æ®µï¼ˆå¦‚è‡ªç”±åº¦çŠ¶æ€ã€å‡ ä½•ä½“çŠ¶æ€ï¼‰ã€‚\r\n\r\nè¿è¡Œåˆå§‹çš„æ­£å‘è¿åŠ¨å­¦ï¼ˆForward Kinematicsï¼‰æ›´æ–°å‡ ä½•ä½“çŠ¶æ€ã€‚\r\nåˆå§‹åŒ–ç¢°æ’æ£€æµ‹å™¨ã€çº¦æŸæ±‚è§£å™¨ç­‰æ¨¡å—ã€‚\r\n\r\nComparison with Genesis and\r\nMujoco\r\n0. Pipeline\r\n\r\n1. Mass Matrix\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nGenesis\r\nMujoco\r\n\r\n\r\n\r\n\r\nCRB\r\n\r\n\r\n\r\n\r\nMass Matrix\r\n\r\n\r\n\r\n\r\n\r\nåœ¨CRBçš„è®¡ç®—ä¸­ï¼Œgenesiså’Œmujocoä½¿ç”¨äº†ä¸€æ ·çš„ç­–ç•¥ã€‚ä»æœ«ç«¯å¼€å§‹éå†ï¼Œè‡ªä¸‹è€Œä¸Šåœ°ç´¯è®¡æƒ¯æ€§ã€‚\r\næœ‰è¿™ä¸ªæƒ¯æ€§çŸ©é˜µä¹‹åï¼Œå†è®¡ç®—æ¯ä¸ªè‡ªç”±åº¦çš„æƒ¯æ€§è´¡çŒ®ï¼Œæ›´æ–°è‡ªç”±åº¦çŠ¶æ€\r\nf_angï¼ˆè§’åŠ›çŸ©ï¼‰å’Œ\r\nf_velï¼ˆçº¿åŠ›çŸ©ï¼‰ã€‚ç„¶åå¡«å……è¿™ä¸ªè´¨é‡çŸ©é˜µã€‚\r\nå®ç°ç»†èŠ‚ä¸Šï¼Œgenesisä¼šæœ‰ä¸€ä¸ªä¼‘çœ çš„åˆ¤æ–­ï¼Œé¿å…äº†ä¸å¿…è¦çš„è®¡ç®—ã€‚æ­¤å¤–ï¼Œgenesiså¦‚ä¸‹å®šä¹‰åŠ›çŸ©è®¡ç®—çš„å‡½æ•°ï¼š\r\n\r\nä½¿ç”¨@ti.funcä¿®é¥°ï¼Œå°†è¿ç®—ä»Pythonè™šæ‹Ÿæœºç§»åˆ°Taichiè¿›è¡ŒåŠ é€Ÿã€‚è€Œmujocoä¸­æ­¤å‡½æ•°çš„å¤„ç†æ˜¯æŒ‰ç…§å•ä¸ªå…ƒç´ è¿›è¡Œå¤„ç†çš„ï¼š\r\n\r\nè¿™ç§éè¿ç»­çš„å–å€¼ä»¥åŠå•å…ƒç´ çš„è¿ç®—å¯èƒ½ä¹Ÿæ˜¯å¯¼è‡´æ•ˆç‡é™ä½çš„åŸå› ã€‚\r\n2. Inversed Mass Matrix\r\nä¸ºè§£é‡ŠçŸ©é˜µé€†çš„è®¡ç®—ï¼Œå…ˆç®€è¦å¼•å…¥ä¸¤ä¸ªçŸ©é˜µåˆ†è§£æ–¹å¼çš„ä»‹ç»ï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\\(LU\\)åˆ†è§£\r\n\\(LDL^T\\)åˆ†è§£\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ngenesis:\r\n\r\nå¯¹è´¨é‡çŸ©é˜µ mass_mat è¿›è¡Œ LU åˆ†è§£ã€‚\r\nä½¿ç”¨å‰å‘å’Œåå‘æ›¿ä»£ï¼Œé€åˆ—è®¡ç®—é€†çŸ©é˜µ mass_mat_invã€‚\r\n\r\nåœ¨genesisä¸­ï¼Œä¸ºäº†ç®€åŒ–è´¨é‡çŸ©é˜µçš„é€†çŸ©é˜µçš„è®¡ç®—ï¼Œä½¿ç”¨äº†\\(LU\\)åˆ†è§£ã€‚è€Œåœ¨mujocoä¸­ï¼Œä½¿ç”¨çš„æ˜¯ \\(LDL^T\\)â€‹åˆ†è§£ã€‚è¿™ä¸¤è€…æˆ‘æ„Ÿè§‰æœ¬èº«è®¡ç®—é‡çš„å·®åˆ«ä¸ä¼šå¤ªå¤§ã€‚ç„¶è€Œåœ¨genesisçš„è®¡ç®—ä¸­ï¼Œå¯¹äºè‡ªç”±åº¦çš„éå†ä¾ç„¶å¯ä»¥å®ç°å¹¶è¡ŒåŒ–ï¼š\r\n\r\næ­¤å¤–ï¼Œåœ¨åˆ†è§£çš„è¿‡ç¨‹ä¸­ã€‚mujocoä¸­è‡ªå·±å®šä¹‰äº†å‡½æ•°ï¼Œæ˜¯é€šè¿‡ç®€å•çš„éå†å®ç°çš„ã€‚\r\n\r\nåœ¨genesisä¸­ï¼Œè™½ç„¶ä¹Ÿæ˜¯éå†ï¼Œä½†æ˜¯å®ƒçš„å‚æ•°éƒ½æ˜¯é€šè¿‡taichié‡æ„çš„ï¼Œå¯èƒ½ç›¸è¾ƒäºåŸç”Ÿçš„Cè¯­è¨€ä¼šæœ‰ä¸€å®šçš„åŠ é€Ÿã€‚\r\n3. Force Calculation\r\n\r\nè¯¥å‡½æ•°çš„ç›®çš„æ˜¯è®¡ç®—æ¯ä¸ªè‡ªç”±åº¦ä¸Šçš„æ€»åŠ›ï¼ŒåŒ…æ‹¬æ§åˆ¶åŠ›ã€é˜»å°¼åŠ›å’Œå¼¹æ€§åŠ›ã€‚\r\nåœ¨åŠ›çš„è®¡ç®—ä¸­ï¼Œgenesisä¸­æœ‰ä¸‰ç§æ§åˆ¶æ¨¡å¼ï¼Œæ ¹æ®ä»£ç ï¼Œåˆ†åˆ«æ˜¯FORCEã€VELOCITYã€POSITIONã€‚\r\næ§åˆ¶æ¨¡å¼ï¼š\r\n\r\nFORCE æ¨¡å¼ï¼š\r\n\r\nç›´æ¥å°†æ§åˆ¶åŠ› ctrl_force åº”ç”¨äºè‡ªç”±åº¦ã€‚\r\n\r\nVELOCITY æ¨¡å¼ï¼š\r\n\r\næ ¹æ®å½“å‰é€Ÿåº¦ vel å’Œç›®æ ‡é€Ÿåº¦ ctrl_vel\r\nè®¡ç®—é˜»å°¼åŠ›ï¼š\r\nforce = kv * (ctrl_vel - vel)\r\nkv æ˜¯é€Ÿåº¦æ§åˆ¶çš„å¢ç›Šç³»æ•°ã€‚\r\n\r\nPOSITION æ¨¡å¼ï¼š\r\n\r\næ ¹æ®å½“å‰ä½ç½® pos å’Œç›®æ ‡ä½ç½® ctrl_pos\r\nè®¡ç®—å¼¹æ€§åŠ›å’Œé˜»å°¼åŠ›ï¼š\r\nforce = kp * (ctrl_pos - pos) - kv * vel\r\nkp æ˜¯ä½ç½®æ§åˆ¶çš„å¢ç›Šç³»æ•°ã€‚\r\n\r\n\r\nå¦‚æœè®¡ç®—å‡ºçš„åŠ›å¤§äºé˜ˆå€¼EPSï¼Œåˆ™å”¤é†’å®ä½“ã€‚\r\næ­¤å¤–ï¼Œforceè¿˜éœ€è¦æ ¹æ®å¦‚ä¸‹æ–¹å¼å‡å»å¼¹æ€§åŠ›å’Œé˜»å°¼åŠ›ï¼š\r\nforce -= qpos * stiffnessforce -= damping * vel\r\nmujocoä¸­ä¹Ÿæ˜¯ä¸‰ç§æ§åˆ¶ï¼Œpositionã€velocityå’Œaccelerationï¼Œå¤§ä½“ä¸Šæ˜¯ä¸€è‡´çš„ï¼š\r\n\r\n4. Update Acceleration and\r\nForce\r\n\r\néå†æ¯ä¸ªEntityçš„æ¯ä¸ªLinkï¼Œæ˜¯æ ¹èŠ‚ç‚¹çš„è¯ï¼Œè®¾ç½®çº¿åŠ é€Ÿåº¦ä¸ºé‡åŠ›åŠ é€Ÿåº¦ï¼Œè§’åŠ é€Ÿåº¦ä¸º0ã€‚ä¸æ˜¯æ ¹èŠ‚ç‚¹åˆ™ç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„åŠ é€Ÿåº¦ã€‚\r\n\r\næµç¨‹ï¼š\r\n\r\néå†é“¾æ¥çš„æ‰€æœ‰è‡ªç”±åº¦ï¼ˆä» dof_start åˆ°\r\ndof_endï¼‰ã€‚\r\nå¯¹æ¯ä¸ªè‡ªç”±åº¦ï¼š\r\n\r\næ ¹æ®è‡ªç”±åº¦çš„é€Ÿåº¦ velï¼Œè®¡ç®—å…¶å¯¹çº¿åŠ é€Ÿåº¦çš„è´¡çŒ®\r\ncdofd_vel * velã€‚\r\nè®¡ç®—å…¶å¯¹è§’åŠ é€Ÿåº¦çš„è´¡çŒ® cdofd_ang * velã€‚\r\n\r\n\r\nåŠ›å’ŒåŠ›çŸ©çš„è®¡ç®—ä¸åŠ é€Ÿåº¦è®¡ç®—ç±»ä¼¼ã€‚ä¸”å…¶ä¸­è°ƒç”¨çš„éƒ½æ˜¯@ti.funcä¿®é¥°çš„çŸ©é˜µè¿ç®—å‡½æ•°ã€‚\r\n5. Inverse Link Force\r\n\r\nä»æ¯ä¸ªå®ä½“çš„æœ«ç«¯é“¾æ¥å¼€å§‹ï¼Œå‘çˆ¶é“¾æ¥ç´¯ç§¯åŠ›ã€‚\r\n6. Bias Force\r\n\r\nåŸºäºé“¾æ¥çš„ç´¯ç§¯åŠ›å’Œæ¯ä¸ªè‡ªç”±åº¦çš„è¿åŠ¨ç›¸å…³é‡ï¼Œè®¡ç®—åç½®åŠ›ã€‚\r\nåˆ†é‡è§£é‡Šï¼š\r\n\r\ncdof_ang å’Œ cdof_vel\r\næ˜¯æ¯ä¸ªè‡ªç”±åº¦çš„è¿åŠ¨åˆ†é‡ï¼ˆè§’é€Ÿåº¦åˆ†é‡å’Œçº¿é€Ÿåº¦åˆ†é‡ï¼‰ã€‚\r\ncfrc_flat_ang å’Œ cfrc_flat_vel\r\næ˜¯é“¾æ¥çš„ç´¯ç§¯è§’åŠ›å’Œçº¿åŠ›ã€‚\r\nåç½®åŠ›çš„è®¡ç®—ï¼šé€šè¿‡ä¸Šè¿°ç‚¹ç§¯æ“ä½œï¼Œå°†ç´¯ç§¯çš„åŠ›å’Œè‡ªç”±åº¦çš„è¿åŠ¨ç›¸å…³è”ï¼Œå¾—å‡ºè‡ªç”±åº¦ä¸Šçš„åç½®åŠ›ã€‚\r\n\r\n7. Compute DOF Acceleration\r\n\r\nå¯¹æ¯ä¸ªDOFï¼Œä»–è¦éå†æ·»åŠ æ‰€æœ‰å…¶ä»–DOFç»™å®ƒæ–½åŠ çš„çº¦æŸåŠ›ã€‚\r\n\r\nå°†çº¦æŸåŠ› qf_constraint æ·»åŠ åˆ°å½“å‰è‡ªç”±åº¦çš„æ€»åŠ›ä¸Šã€‚\r\nå†ä½¿ç”¨è´¨é‡çŸ©é˜µçš„é€†\\(M^{-1}\\)å’Œæ€»åŠ›forceè®¡ç®—åŠ é€Ÿåº¦accã€‚\r\n\r\n8. Integrate\r\nåŸºäºå½“å‰è‡ªç”±åº¦çš„åŠ é€Ÿåº¦å’Œé€Ÿåº¦ï¼Œè®¡ç®—å¹¶æ›´æ–°è‡ªç”±åº¦çš„çŠ¶æ€ï¼ˆåŒ…æ‹¬ä½ç½®å’Œé€Ÿåº¦ï¼‰ã€‚\r\nåŸºäºåŠ é€Ÿåº¦æ›´æ–°é€Ÿåº¦\\(v\\leftarrow\r\nv+a\\cdot\\Delta t\\)ï¼š\r\n\r\næ›´æ–°ä½ç½®ï¼š\r\n\r\næ—‹è½¬çŠ¶æ€å’Œæ—‹è½¬å¢é‡ï¼š\r\n\r\nrot ä»£è¡¨åˆšä½“åœ¨å…¨å±€åæ ‡ç³»ä¸­çš„å½“å‰æ—‹è½¬çŠ¶æ€ã€‚\r\nang åˆ™æ˜¯æ—¶é—´æ­¥å†…çš„æ—‹è½¬å˜åŒ–ï¼Œç”±è§’é€Ÿåº¦ç›´æ¥å¯¼å‡ºã€‚\r\næ—‹è½¬åˆå¹¶ï¼š\r\n\r\nå°†æ—‹è½¬å‘é‡\\(\\mathbf{ang}\\)è½¬æ¢ä¸ºå››å…ƒæ•°ã€‚\r\nå†é€šè¿‡å››å…ƒæ•°ä¹˜æ³•æ›´æ–°å½“å‰çš„æ—‹è½¬çŠ¶æ€rotã€‚\r\nä»¥ä¸Šæ˜¯FREE\r\nJOINTçš„æ›´æ–°æ–¹å¼ï¼ŒéFREEçš„ç›´æ¥æ ¹æ®velæ›´æ–°å³å¯ï¼š\r\n\r\n\r\n9. Contraint Force\r\n\r\nä»¥ä¸‹è¯¦ç»†å¯¹æ¯”ä¸‹genesiså’Œmujocoåœ¨ç¢°æ’æ£€æµ‹ä¸­çš„å®ç°ï¼š\r\n\r\nBroad Phase:\r\nåœ¨genesiså’Œmujocoä¸­ï¼Œéƒ½ä½¿ç”¨äº†AABBå¯¹ç¢°æ’æ£€æµ‹å¯¹è¿›è¡Œä¸€ä¸ªå¿«é€Ÿçš„æ’é™¤ã€‚ä½†æ˜¯å®ƒçš„å…·ä½“çš„å®ç°ç»†èŠ‚åˆæœ‰æ‰€ä¸åŒã€‚\r\nåœ¨genesisä¸­ï¼Œä½¿ç”¨çš„æ˜¯Sweep and Prune (SAP)æ–¹å¼ï¼Œå®ƒå°†æ‰€æœ‰ç‰©ä½“AABBç›’çš„Minç‚¹ä¸Maxç‚¹åˆ†åˆ«åœ¨XYZè½´ä¸ŠæŠ•å½±ï¼Œå¦‚æœåœ¨æŸä¸€è½´ä¸Šä¸æ»¡è¶³Max1 &gt; Min2 &amp;&amp; Max2 &gt; Min1åˆ™ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚\r\nåœ¨mujocoä¸­ï¼Œä½¿ç”¨çš„æ˜¯Bounding Volume Hierarchical Tree(BVH)ç®—æ³•ã€‚å®ƒæ˜¯é€šè¿‡äºŒå‰æ ‘æ¥ç®¡ç†æ‰€æœ‰çš„AABBç›’ã€‚åœ¨è®¡ç®—ç¢°æ’æ—¶ï¼Œéå†äºŒå‰æ ‘ä»¥è·å–æ‰€æœ‰å¯èƒ½çš„ç¢°æ’å¯¹ã€‚\r\nNarrow Phase:\r\nçª„ç›¸æ£€æµ‹çš„ç›®çš„æ˜¯æ ¹æ®å®½ç›¸æ£€æµ‹æ£€æµ‹å‡ºçš„ç¢°æ’å¯¹å†è¿›è¡Œç»†è‡´çš„è®¡ç®—ï¼Œè·å–ç¢°æ’æ¥è§¦ç‚¹ã€æ³•å‘é‡ã€ç©¿é€æ·±åº¦ç­‰ä¿¡æ¯ã€‚\r\nçª„ç›¸æ£€æµ‹ä¸­ï¼Œgenesisä½¿ç”¨çš„æ˜¯SDFæ–¹æ³•ã€‚æ ¹æ®ç‰©ä½“çš„ç±»åˆ«ï¼ŒSPHEREã€TERRAINã€CONVEXæˆ–è€…å…¶ä»–ï¼Œè°ƒç”¨ä¸åŒçš„å‡½æ•°ã€‚åœ¨SDFåº•å±‚å®ç°ä¸­ï¼Œgenesisä½¿ç”¨çš„ä¾ç„¶æ˜¯éå†æŸ¥è¯¢æ¯ä¸ªé¡¶ç‚¹ï¼Œåˆ¤æ–­æ˜¯å¦ä¾µå…¥å¦ä¸€ä¸ªç‰©ä½“ã€‚\r\nåœ¨mujocoä¸­ï¼Œå®šä¹‰äº†ä¸€ä¸ªç¢°æ’å‡½æ•°æ£€æµ‹è¡¨ï¼š\r\n\r\nä¸åŒäºgenesiså…¨éƒ¨è®¡ç®—SDFï¼Œmujocoä¸­å¯¹äºå‡¸åŒ…ä¸å‡¸åŒ…é—´çš„ç¢°æ’ï¼Œä½¿ç”¨äº†GJKç®—æ³•æ¥åˆ¤æ–­å‡¸åŒ…æ˜¯å¦ç›¸äº¤ï¼Œå¦‚æœæ£€æµ‹åˆ°ç›¸äº¤ï¼Œå†ç”¨EPAç®—æ³•è®¡ç®—ç©¿é€æ·±åº¦å’Œæ¥è§¦ç‚¹ã€‚\r\nAdd Constraint:\r\nåœ¨è·å–åˆ°ç¢°æ’ä¿¡æ¯åï¼Œgenesisä¼šé€šè¿‡add_collision_constraintså‡½æ•°å°†çº¦æŸæ–½åŠ å›å»ã€‚mujocoä¸­é€šè¿‡å‡½æ•°mj_makeConstraintæ·»åŠ çº¦æŸã€‚\r\n\r\nPerformance Analysis\r\n1. Taichi\r\n(1). data structure\r\n\r\nåœ¨genesisçš„åˆå§‹åŒ–ä¸­ï¼Œå¾ˆå¤šå˜é‡å°±ä»¥taichiçš„æ•°æ®æ ¼å¼è¿›è¡Œåˆå§‹åŒ–äº†ï¼Œä¾¿äºåç»­é«˜æ•ˆå¤„ç†ã€‚\r\n(2). Parallelize\r\n\r\ngenesisä½¿ç”¨äº†taichiçš„loop_configå‡½æ•°è¿›è¡Œå¹¶è¡ŒåŒ–çš„æ§åˆ¶ã€‚å…¶ä¸­serializeæ§åˆ¶æ˜¯å¦å¹¶è¡Œï¼Œå¦‚æœå°†serializeè®¾ç½®ä¸º\r\nTrue\r\nï¼Œåˆ™forå¾ªç¯å°†ä¸²è¡Œè¿è¡Œã€‚å…³äº_para_levelçš„å®šä¹‰åœ¨æ­¤ï¼š\r\n\r\nåœ¨ä½¿ç”¨CPUæ—¶ä¸è¿›è¡Œå¹¶è¡Œã€‚GPUæ—¶æ ¹æ®åœºæ™¯æ˜¯å¦åˆ†æ‰¹æ¬¡è¿›è¡Œéƒ¨åˆ†æˆ–å…¨éƒ¨çš„å¹¶è¡Œã€‚\r\n2. hibernation\r\n\r\nåŠŸèƒ½å¯ç”¨:\r\n\r\nhibernation çš„å¯ç”¨ç”± self._use_hibernation\r\nå‚æ•°æ§åˆ¶ã€‚\r\nå½“å¯ç”¨æ—¶ï¼Œç¨‹åºä¼šåœ¨åˆå§‹åŒ–ä¸­è®¾å®šç›¸å…³çŠ¶æ€å˜é‡ï¼Œä¾‹å¦‚\r\nself.dofs_state.hibernated å’Œ\r\nself.links_state.hibernated\r\næ ‡è®°rigid_solverrigid_solverã€‚\r\n\r\nçŠ¶æ€æ£€æµ‹:\r\n\r\nåˆ¤æ–­åˆšä½“æ˜¯å¦è¿›å…¥ hibernation\r\nçš„ä¾æ®æ˜¯é€Ÿåº¦å’ŒåŠ é€Ÿåº¦çš„é˜ˆå€¼ï¼ˆself._hibernation_thresh_vel å’Œ\r\nself._hibernation_thresh_accï¼‰ã€‚å¦‚æœæŸä¸ªåˆšä½“çš„è¿åŠ¨çŠ¶æ€ä½äºè¿™äº›é˜ˆå€¼ï¼Œåˆ™ä¼šè¢«æ ‡è®°ä¸ºâ€œä¼‘çœ â€çŠ¶æ€rigid_solverrigid_solverã€‚\r\n\r\nä¼‘çœ æœºåˆ¶çš„ä½œç”¨:\r\n\r\nå¯¹äºè¢«æ ‡è®°ä¸º hibernated\r\nçš„åˆšä½“ï¼Œç¨‹åºä¼šä»åç»­çš„ç‰©ç†è®¡ç®—ä¸­å‰”é™¤å®ƒä»¬ã€‚è¿™åŒ…æ‹¬è´¨é‡çŸ©é˜µè®¡ç®—ã€åŠ¨æ€æ±‚è§£ä»¥åŠç¢°æ’æ£€æµ‹ç­‰éƒ¨åˆ†rigid_solverã€‚\r\nåªæœ‰å½“è¿™äº›åˆšä½“å†æ¬¡è¢«å¤–åŠ›æˆ–çº¦æŸå½±å“è€Œè¶…å‡ºé˜ˆå€¼æ—¶ï¼Œå®ƒä»¬æ‰ä¼šè¢«é‡æ–°å”¤é†’å¹¶é‡æ–°åŠ å…¥è®¡ç®—rigid_solverã€‚\r\n\r\næ ¸å¿ƒå®ç°:\r\n\r\nself._func_hibernate() å‡½æ•°å¤„ç†åˆšä½“æ˜¯å¦åº”è¯¥è¿›å…¥\r\nhibernation çš„é€»è¾‘rigid_solverã€‚\r\nself._func_aggregate_awake_entities()\r\nåˆ™ç”¨äºæ›´æ–°éä¼‘çœ çŠ¶æ€çš„å®ä½“åˆ—è¡¨ï¼Œä»¥ç¡®ä¿åªå¯¹æ´»è·ƒçš„åˆšä½“æ‰§è¡Œä»¿çœŸrigid_solverã€‚\r\n\r\næ€§èƒ½ä¼˜åŒ–:\r\n\r\né€šè¿‡å‡å°‘å¯¹é™æ€æˆ–ä½åŠ¨æ€å®ä½“çš„é‡å¤è®¡ç®—ï¼Œhibernation\r\nå¯ä»¥æ˜¾è‘—é™ä½å¤æ‚åœºæ™¯ä¸­çš„è®¡ç®—å¼€é”€ã€‚\r\né€‚ç”¨äºåœºæ™¯ä¸­å­˜åœ¨å¤§é‡é™æ­¢æˆ–è¿‘ä¼¼é™æ­¢çš„ç‰©ä½“çš„æƒ…å†µã€‚\r\n\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["mujoco","genesis"]},{"title":"MDPs and Exact Solution Methods","url":"/2025/06/16/16-DeepRL_lecture1/","content":"ä¸€ã€é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹(MDPS)\r\n\r\nMDPå®šä¹‰ï¼š\r\n\r\nï¼šæ™ºèƒ½ä½“çš„çŠ¶æ€é›†åˆã€‚\r\nï¼šæ™ºèƒ½ä½“å¯ä»¥é€‰æ‹©çš„è¡ŒåŠ¨é›†åˆã€‚\r\nï¼šè½¬å˜å‡½æ•°ï¼Œå®šä¹‰æ™ºèƒ½ä½“å½“å‰çŠ¶æ€ä¸ºï¼Œé‡‡å–åŠ¨ä½œï¼Œè¿›å…¥çŠ¶æ€çš„æ¦‚ç‡ã€‚\r\nï¼šå¥–åŠ±å‡½æ•°ï¼Œä¸ºä¸Šè¿°è½¬å˜åˆ†é…å¥–åŠ±ã€‚\r\nï¼šåˆå§‹çŠ¶æ€ã€‚\r\nï¼šæŠ˜æ‰£å› å­ï¼Œå¯¹æœªæ¥å¥–åŠ±çš„æŠ˜æ‰£ã€‚\r\nï¼šèŒƒå›´ï¼Œæ™ºèƒ½ä½“è¡ŒåŠ¨çš„æ—¶é—´ã€‚\r\n\r\nMDPæ±‚è§£ï¼š\r\nåœ¨ä¸€ä¸ªMDPä¸­ï¼Œæˆ‘ä»¬æƒ³è¦æ‰¾åˆ°ä¸€ä¸ªæœ€ä¼˜çš„ç­–ç•¥(policy) \r\n\r\nå¯¹äºä¸€ä¸ªç»™å®šçš„çŠ¶æ€å’Œæ—¶é—´ï¼Œç­–ç•¥  ç»™å‡ºä¸€ä¸ªè¡ŒåŠ¨ã€‚\r\næœ€ä¼˜ç­–ç•¥æŒ‡èƒ½ä½¿å¥–åŠ±çš„æœŸæœ›æœ€å¤§çš„ç­–ç•¥ã€‚\r\n\r\nå¦‚æœç¯å¢ƒæ˜¯ç¡®å®šçš„ï¼Œé‚£ä¹ˆåªéœ€è¦ä¸€ä¸ªæœ€ä¼˜çš„planï¼Œå³ä¸€ç³»åˆ—çš„è¡ŒåŠ¨ï¼Œä»èµ·å§‹ç‚¹åˆ°ç»ˆç‚¹ã€‚\r\näºŒã€ç²¾ç¡®æ±‚è§£æ–¹æ³•\r\n\r\nç›®æ ‡ï¼šæœ€å¤§åŒ–éšæ—¶é—´ç´¯è®¡ï¼ŒæŠ˜æ‰£åå¥–åŠ±æ€»å’Œçš„æœŸæœ›å€¼ã€‚\r\nï¼ˆä¸€ï¼‰ã€å€¼è¿­ä»£\r\næœ€ä¼˜å€¼æ–¹ç¨‹ï¼š \r\nä»çŠ¶æ€ \r\nå‡ºå‘å¹¶é‡‡å–æœ€ä¼˜è¡ŒåŠ¨æ—¶çš„æŠ˜æ‰£å¥–åŠ±æ€»å’Œã€‚\r\n\n    ç¤ºä¾‹ ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\n\n    \n  \r\nç®—æ³•ï¼š\r\n\r\n\n    ç¤ºä¾‹ ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\næ³¨æ„è¿™ä¸ªæœºå™¨äººæœå‘ï¼Œä¸‰ä¸ªç®­å¤´è¯´æ˜ä¸€æ¬¡è¡ŒåŠ¨ä¸­åªæœ‰ä¸‰ä¸ªå¯èƒ½çš„æ–¹å‘ï¼ˆè¿™ä¹Ÿæ˜¯åœ¨ç¬”è€…å’Œå®¤å‹åæœŸéªŒç®—æ—¶ï¼Œå‘ç°æ€ä¹ˆç®—æ€ä¹ˆä¸å¯¹ï¼Œæœ€åæ‰å®šä½å‡ºçš„é—®é¢˜ï¼‰ã€‚åœ¨agentçš„ä¸€æ¬¡actionä¸­ï¼Œå®ƒä¼šæ ¹æ®æœ€ä¼˜çš„actioné€‰å®šä¸€ä¸ªæ–¹å‘ï¼Œæœ‰0.8çš„æ¦‚ç‡æŒ‰ç…§æœ€ä¼˜æ–¹å‘è¡ŒåŠ¨ï¼Œæœ‰0.1çš„æ¦‚ç‡åå‘æœ€ä¼˜æ–¹å‘ç›¸å¯¹çš„å·¦ä¾§å’Œå³ä¾§ã€‚\r\n\r\nç¬¬0æ¬¡è¿­ä»£æ—¶ï¼Œæ‰€æœ‰çš„éƒ½è¢«èµ‹ä¸º0ã€‚\r\n\r\nç¬¬1æ¬¡è¿­ä»£æ—¶ï¼Œæœ‰å¥–åŠ±çš„çŠ¶æ€è¢«èµ‹å€¼ä¸ºç›¸åº”çš„å¥–åŠ±å€¼ï¼ˆæŒ‰ç…§å…¬å¼è®¡ç®—ä¸çŸ¥é“å’‹ç®—ï¼ŒæŒ‰ç…§ç¤ºä¾‹æ¥çœ‹åº”è¯¥ç›´æ¥èµ‹å€¼å°±å¥½ï¼‰ã€‚\r\n\r\nç¬¬2æ¬¡è¿­ä»£æ—¶ï¼Œåˆ™æ ¹æ®ä¸Šä¸€æ¬¡è¿­ä»£çš„å€¼è¿›è¡Œè®¡ç®—ï¼ˆå¥–åŠ±å’Œæƒ©ç½šåŒºåŸŸå§‹ç»ˆä¿æŒä¸å˜ï¼‰ï¼š\r\nä»¥ä¸ºä¾‹ï¼ˆå…¶ä½™ç›¸é‚»éƒ½æ˜¯0ï¼Œæ— éœ€è®¡ç®—ï¼Œæƒ©ç½šåŒºåŸŸæ— æ³•è·³å‡ºï¼‰ï¼Œæˆ‘ä»¬é‡‡å–çš„æœ€ä½³actionè‚¯å®šæ˜¯å¾€å³ï¼š\r\n\r\néœ€è¦æ³¨æ„ï¼Œç”±äºæœ€ä½³actionæ˜¯å‘å³ï¼Œæ‰€ä»¥noiseäº§ç”Ÿçš„åå·®åº”è¯¥æ˜¯å‘ä¸Šæˆ–è€…å‘ä¸‹ï¼Œåˆ†åˆ«æœ‰0.1çš„æ¦‚ç‡ï¼Œè€Œå‘ä¸Šæ’å¢™ä¼šä¿æŒåŸåœ°ã€‚\r\nå…³äºrewardï¼ŒæŒ‰ç…§ä¾‹å­æ¥çœ‹ï¼Œæ¯ä¸€æ­¥çš„å¥–åŠ±å§‹ç»ˆä¸º0ã€‚\r\n\r\nç¬¬3æ¬¡è¿­ä»£æ—¶ï¼Œéœ€è¦æ ¹æ®å…¬å¼æ›´æ–°ç›¸é‚»æ ¼ï¼š  å¤„çš„æœ€ä¼˜æ–¹å‘å‘å³ï¼Œå¤„çš„æœ€ä¼˜æ–¹å‘å‘ä¸Šã€‚ç›¸åº”æ›´æ–°è¿­ä»£å€¼å³å¯ã€‚\r\n\r\nç¬¬4æ¬¡è¿­ä»£è®¡ç®—è¿‡ç¨‹çœç•¥äº†ã€‚åªéœ€è¦è®°ä½æœ€ä¼˜actionçš„æ–¹å‘å’Œå¯èƒ½åç§»çš„æ–¹å‘å³å¯ã€‚\r\n\r\nç¬¬100æ¬¡è¿­ä»£æ—¶ï¼Œå€¼è¿­ä»£å·²è¶‹è¿‘æ”¶æ•›ã€‚\r\næ”¶æ•›é€Ÿåº¦å¾€å¾€ä¸æŠ˜æ‰£å› å­æœ‰å…³ï¼ŒæŠ˜æ‰£å› å­è¶Šè¶‹è¿‘0ï¼Œæ”¶æ•›é€Ÿåº¦è¶Šå¿«ã€‚\r\n\n    \n  \r\nç†è®ºï¼š\r\nå€¼è¿­ä»£æ€»æ˜¯ä¼šæ”¶æ•›ã€‚åœ¨æ”¶æ•›å¤„ï¼Œæˆ‘ä»¬èƒ½è·å¾—å¸¦æŠ˜æ‰£å› å­çš„æ— é™æœŸé—®é¢˜çš„æœ€ä¼˜å€¼å‡½æ•°ï¼Œå®ƒæ»¡è¶³è´å°”æ›¼(Bellman)æ–¹ç¨‹ï¼š  ï¼ˆæ„Ÿè§‰æœ‰ç‚¹å°é—®é¢˜ï¼Œç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯å°å†™ï¼Œç¬¬ä¸€ä¸ªåº”è¯¥æ˜¯å°å†™ï¼ŸåŒæ—¶ï¼Œè¿™é‡Œçš„åº”è¯¥ä¹Ÿæ˜¯æ¦‚ç‡å‡½æ•°ï¼Ÿï¼‰\r\nä¸ºäº†è·å–æœ€ä¼˜çš„è¡ŒåŠ¨ï¼Œåªéœ€è¦æ ¹æ®ä¸‹é¢æ­¥éª¤æ‰§è¡Œï¼š\r\n\r\næ‰§è¡Œå€¼è¿­ä»£è¿‡ç¨‹ï¼Œç›´åˆ°æ”¶æ•›ã€‚\r\nè·å¾—ï¼Œé€šè¿‡åæ¨ä¸‹ä¸€æ­¥è¡ŒåŠ¨ï¼š \r\n\r\næ— é™æœŸç­–ç•¥æ˜¯ç¨³å®šçš„ï¼ŒçŠ¶æ€ä¸‹çš„æœ€ä¼˜è¡ŒåŠ¨åœ¨ä»»ä½•æ—¶é—´éƒ½æ˜¯ç›¸åŒçš„ã€‚\r\nç›´è§‰ï¼š\r\n\r\néšç€èŒƒå›´çš„å¢å¤§ï¼Œæ­¥ä¹‹åèƒ½è·å–çš„å¥–åŠ±å’Œéšä¹‹ç¼©å‡ï¼Œæœ€ç»ˆè¶‹äº0ï¼Œå› æ­¤æœ€ç»ˆè¶‹äºã€‚\r\n\r\nå®šä¹‰ï¼šMax-Normï¼ˆæœ€å¤§èŒƒæ•°ï¼‰ \r\nè§£é‡Šï¼šè¿™æ˜¯æœ€å¤§èŒƒæ•°ï¼ˆmax-normï¼Œä¹Ÿå«âˆ-normï¼‰çš„å®šä¹‰ã€‚å®ƒè¡¨ç¤ºå‘é‡\r\n ä¸­æ‰€æœ‰çŠ¶æ€  å¯¹åº”çš„å€¼  çš„æœ€å¤§ç»å¯¹å€¼ã€‚\r\n\r\nå®šä¹‰ï¼šÎ³-å‹ç¼©æ˜ å°„ï¼ˆÎ³-Contractionï¼‰\r\nä¸€ä¸ªæ›´æ–°æ“ä½œæ˜¯ max-norm ä¸‹çš„ Î³-å‹ç¼©æ˜ å°„ï¼Œå½“ä¸”ä»…å½“ï¼š\r\n\r\nè§£é‡Šï¼šè¿™æ˜¯â€œå‹ç¼©æ˜ å°„â€çš„å®šä¹‰ã€‚å®ƒè¯´æ˜æ›´æ–°æ“ä½œä¼šå°†ä»»æ„ä¸¤ä¸ªè¾“å…¥çš„å·®å¼‚ï¼ˆåœ¨\r\nmax-norm ä¸‹ï¼‰æ”¶ç¼©æœ€å¤š Î³ å€ã€‚å¦‚æœ ï¼Œæˆ‘ä»¬ç§°è¿™ä¸ªæ“ä½œæ˜¯â€œæ”¶ç¼©çš„â€ã€‚\r\n\r\nå®šç†ï¼šå‹ç¼©æ˜ å°„å¿…æ”¶æ•›åˆ°å”¯ä¸€ä¸åŠ¨ç‚¹\r\nBanach Fixed Point Theoremï¼ˆå·´æ‹¿èµ«ä¸åŠ¨ç‚¹å®šç†ï¼‰\r\nå¦‚æœä¸€ä¸ªæ˜ å°„æ˜¯å‹ç¼©æ˜ å°„ï¼ˆåœ¨å®Œå¤‡ç©ºé—´ä¸­ï¼‰ï¼Œåˆ™å­˜åœ¨å”¯ä¸€ä¸åŠ¨ç‚¹ï¼Œå¹¶ä¸”ä»ä»»æ„åˆå§‹ç‚¹è¿­ä»£æœ€ç»ˆéƒ½æ”¶æ•›äºå®ƒã€‚\r\n\r\näº‹å®ï¼šå€¼è¿­ä»£æ˜¯ä¸€ä¸ª Î³-å‹ç¼©æ˜ å°„\r\nä»¤ä¸ºBellmanæ›´æ–°æ“ä½œï¼Œå³ï¼š\r\n\r\næˆ‘ä»¬å¯ä»¥è¯æ˜ï¼š\r\n\r\n\r\næ¨è®ºï¼šå€¼è¿­ä»£æ”¶æ•›åˆ°å”¯ä¸€å›ºå®šç‚¹\r\nå› ä¸ºå€¼è¿­ä»£æ˜¯ Î³-å‹ç¼©æ˜ å°„ï¼Œæ ¹æ®ä¸åŠ¨ç‚¹å®šç†ï¼Œå€¼å‡½æ•°ä¼šæ”¶æ•›åˆ°å”¯ä¸€å›ºå®šç‚¹ (\r\n )ã€‚\r\n\r\nè¡¥å……äº‹å®ï¼šè¯¯å·®ç•Œä¼°è®¡ï¼ˆç”¨äºåœæ­¢æ¡ä»¶ï¼‰\r\nè‹¥æ»¡è¶³ï¼š\r\n\r\nåˆ™æœ‰ï¼š\r\n\r\nè§£é‡Šï¼šè¿™ä¸ªä¸ç­‰å¼ç”¨äºè¡¡é‡æˆ‘ä»¬ä¸æœ€ä¼˜å€¼å‡½æ•°  çš„è·ç¦»ã€‚\r\n\r\næ„æ€æ˜¯ï¼šå¦‚æœè¿ç»­ä¸¤æ¬¡æ›´æ–°çš„å·®è·å·²ç»å¾ˆå°ï¼ˆå°äº Îµï¼‰äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç¦»æœ€ç»ˆè§£\r\n ä¹Ÿä¸ä¼šå¤ªè¿œã€‚\r\n\r\n\r\nï¼ˆäºŒï¼‰ã€ç­–ç•¥è¿­ä»£\r\nä¸åŒäºå€¼è¡¡é‡çŠ¶æ€çš„å€¼ï¼Œå€¼è¡¡é‡çš„æ˜¯ä¸€ä¸ªçŠ¶æ€ä¸‹çš„è¡ŒåŠ¨çš„ä»·å€¼ã€‚\r\nè¡¨ç¤ºä»çŠ¶æ€å‡ºå‘æ‰§è¡ŒåŠ¨ä½œï¼Œå¹¶ä¹‹åé‡‡å–æœ€ä¼˜ç­–ç•¥æ—¶çš„æœŸæœ›æ€»å›æŠ¥ã€‚\r\næœ€ä¼˜ Q å€¼çš„è´å°”æ›¼æ–¹ç¨‹ï¼š  å«ä¹‰è§£é‡Šï¼š\r\n\r\nå¤–å±‚æ˜¯å¯¹æ‰€æœ‰å¯èƒ½ä¸‹ä¸€çŠ¶æ€ \r\nçš„æœŸæœ›ï¼›\r\nï¼šä»  æ‰§è¡ŒåŠ¨ä½œ  åˆ°è¾¾  çš„æ¦‚ç‡ï¼›\r\nï¼šå³æ—¶å¥–åŠ±ï¼›\r\nï¼šæŠ˜æ‰£å› å­ï¼›\r\nï¼šè¡¨ç¤ºåœ¨ä¸‹ä¸€ä¸ªçŠ¶æ€  é‡‡å–æœ€ä¼˜åŠ¨ä½œçš„æœ€å¤§å›æŠ¥ã€‚\r\n\r\nè¿™æ˜¯â€œå…ˆæ‹¿å¥–åŠ±ï¼Œå†è€ƒè™‘æœªæ¥çš„æœ€ä¼˜è¡Œä¸ºâ€çš„å½¢å¼ã€‚\r\nQå€¼è¿­ä»£ï¼š  è¿™æ˜¯å€¼è¿­ä»£çš„ Q å€¼å½¢å¼ï¼Œå«ä¹‰æ˜¯ï¼š\r\n\r\næ¯ä¸€æ­¥æ›´æ–° Q å€¼æ—¶ï¼Œä½¿ç”¨å½“å‰çš„ \r\næ¥è¿‘ä¼¼æœªæ¥çš„æœ€å¤§æœŸæœ›å›æŠ¥ï¼Œé‡å¤è¿­ä»£ç›´åˆ°æ”¶æ•›ä¸º ã€‚\r\n\r\n\n    ç¤ºä¾‹ ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\n\n    \n  \r\nç­–ç•¥è¯„ä¼°ï¼š\r\nå›é¡¾ä¸Šé¢çš„å€¼è¿­ä»£ï¼š  å¯¹äºç»™å®šç­–ç•¥ï¼Œç­–ç•¥è¯„ä¼°å¦‚ä¸‹ï¼š  æ”¶æ•›æ—¶æœ‰å¦‚ä¸‹å…¬å¼ï¼š \r\nåœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å»ºç«‹ä¸€ä¸ªç®—æ³•ï¼Œå¯¹å…¶è¿›è¡Œè¯„ä¼°ï¼Œç”¨è¯„ä¼°ç»“æœå†ä¼˜åŒ–ç­–ç•¥ï¼Œè¿™å°±æ˜¯ç­–ç•¥è¿­ä»£çš„å¤§è‡´æ€è·¯ã€‚\r\n\r\nç­–ç•¥è¿­ä»£ï¼š\r\nç­–ç•¥è¿­ä»£ç”±ä¸¤å¤§æ­¥éª¤ç»„æˆï¼Œå¹¶åå¤è¿›è¡Œç›´åˆ°ç­–ç•¥æ”¶æ•›ï¼š\r\n1. ç­–ç•¥è¯„ä¼°ï¼ˆPolicy Evaluationï¼‰\r\nç»™å®šå½“å‰ç­–ç•¥ ï¼Œæˆ‘ä»¬è¦è®¡ç®—å®ƒçš„çŠ¶æ€å€¼å‡½æ•° ã€‚ \r\n\r\nä¸æ–­è¿­ä»£ç›´åˆ° \r\næ”¶æ•›ï¼›\r\n\r\n2. ç­–ç•¥æ”¹è¿›ï¼ˆPolicy Improvementï¼‰\r\nç”¨å½“å‰çš„å€¼å‡½æ•° \r\næ¥ç”Ÿæˆä¸€ä¸ªæ›´å¥½çš„ç­–ç•¥ ã€‚\r\n æœ‰æ•ˆæ€§è¯æ˜ï¼š\r\nè¿™ä¸ªâ€œè¯„ä¼°-æå‡â€çš„å¾ªç¯æ˜¯ä¿è¯æœ‰æ•ˆçš„ï¼Œå®ƒæœ€ç»ˆä¸€å®šä¼šåœæ­¢ï¼Œå¹¶ä¸”åœæ­¢æ—¶æ‰¾åˆ°çš„å°±æ˜¯æœ€ä¼˜ç­–ç•¥å’Œæœ€ä¼˜ä»·å€¼å‡½æ•°ã€‚\r\n\r\n(1) ä¿è¯æ”¶æ•› (Guarantee to converge)\r\n\r\næ¯æ¬¡â€œç­–ç•¥æå‡â€ï¼Œæ–°ç­–ç•¥è¦ä¹ˆæ¯”è€ç­–ç•¥å¥½ï¼Œè¦ä¹ˆå’Œè€ç­–ç•¥ä¸€æ ·å¥½ï¼ˆåœ¨å·²ç»è¾¾åˆ°æœ€ä¼˜çš„æƒ…å†µä¸‹ï¼‰ã€‚å®ƒæ°¸è¿œä¸ä¼šå˜å¾—æ›´å·®ã€‚\r\nå› ä¸ºç­–ç•¥æ€»æ˜¯åœ¨å˜å¥½ï¼ˆæˆ–è€…ä¸å˜ï¼‰ï¼Œæ‰€ä»¥é™¤éå·²ç»è¾¾åˆ°æœ€ä¼˜ï¼Œå¦åˆ™ä½ ä¸ä¼šé‡å¤é‡åˆ°åŒä¸€ä¸ªç­–ç•¥ã€‚\r\n\r\n(2) æ”¶æ•›å³æœ€ä¼˜ (Optimal at convergence)\r\n\r\nç®—æ³•æ”¶æ•›ï¼ˆåœæ­¢ï¼‰çš„æ ‡å¿—æ˜¯ï¼šåœ¨â€œç­–ç•¥æå‡â€é‚£ä¸€æ­¥ï¼Œå‘ç°æ–°ç­–ç•¥å’Œè€ç­–ç•¥ä¸€æ¨¡ä¸€æ ·äº†ï¼Œæ²¡æœ‰ä»»ä½•æ”¹è¿›ç©ºé—´äº†ã€‚\r\nè¿™æ„å‘³ç€å¯¹äºæ¯ä¸ªçŠ¶æ€ï¼Œå½“å‰ç­–ç•¥ \r\næ‰€é€‰æ‹©çš„åŠ¨ä½œï¼Œæœ¬èº«å°±å·²ç»æ˜¯é‚£ä¸ªèƒ½æœ€å¤§åŒ–â€œä¸‹ä¸€æ­¥æœŸæœ›ä»·å€¼â€çš„åŠ¨ä½œäº†ï¼ˆä¹Ÿå°±æ˜¯æ»¡è¶³äº†ç­–ç•¥æå‡\r\n çš„æ¡ä»¶ï¼‰ã€‚\r\n\r\n\r\næœ€å¤§ç†µå…¬å¼\r\næ¬¡ä¼˜è§£åˆ†å¸ƒ:\r\nä¼ ç»Ÿçš„RLç®—æ³•ï¼ˆæ¯”å¦‚æˆ‘ä»¬ä¸Šé¢è®¨è®ºçš„Policy\r\nIterationï¼‰é€šå¸¸è‡´åŠ›äºæ‰¾åˆ°ä¸€ä¸ªå”¯ä¸€çš„ã€æœ€å¥½çš„ç­–ç•¥ ã€‚ä½†è¿™ç§åšæ³•æœ‰å…¶å±€é™æ€§ã€‚æˆ‘ä»¬é€€è€Œæ±‚å…¶æ¬¡ï¼Œå¯»æ‰¾ä¸€ä¸ªæ¬¡ä¼˜è§£çš„åˆ†å¸ƒï¼Œæœ‰å¦‚ä¸‹å¥½å¤„ï¼š\r\n\r\næ›´é²æ£’çš„ç­–ç•¥ (More robust policy)\r\n\r\n\r\nå¦‚æœç¯å¢ƒå‘ç”Ÿå˜åŒ–ï¼Œè¿™ä¸ªæ¬¡ä¼˜è§£çš„é›†åˆä¸­ï¼Œå¯èƒ½ä»ç„¶æœ‰é€‚ç”¨äºæ–°æƒ…å†µçš„å¥½è§£æ³•ã€‚\r\n\r\n\r\né—®é¢˜ï¼šå¦‚æœä½ åªçŸ¥é“é‚£æ¡å”¯ä¸€çš„â€œæœ€å¿«è·¯çº¿â€ï¼Œä¸‡ä¸€è¿™æ¡è·¯ä¸Šçªç„¶å‘ç”Ÿäº†äº¤é€šäº‹æ•…ï¼ˆç¯å¢ƒå˜åŒ–ï¼‰ï¼Œä½ å°±æ‡µäº†ï¼Œä¸çŸ¥é“è¯¥æ€ä¹ˆåŠã€‚ä½ çš„ç­–ç•¥ç¬é—´å¤±æ•ˆã€‚\r\nè§£å†³æ–¹æ¡ˆï¼šå¦‚æœä½ æœ‰å¥½å‡ æ¡å¤‡é€‰çš„â€œä¼˜ç§€è·¯çº¿â€ï¼Œå½“ä¸»è·¯çº¿å µè½¦æ—¶ï¼Œä½ å¯ä»¥ç«‹åˆ»ä»ä¸­é€‰æ‹©å¦ä¸€æ¡è·¯ç»•è¿‡å»ã€‚ä½ çš„æ•´ä½“ç­–ç•¥å¯¹æ„å¤–æƒ…å†µçš„æŠµæŠ—èƒ½åŠ›ï¼ˆå³é²æ£’æ€§ï¼‰å°±å¤§å¤§å¢å¼ºäº†ã€‚\r\nåœ¨RLä¸­ï¼Œä¸€ä¸ªåªå­¦ä¹ åˆ°æœ€ä¼˜ç­–ç•¥ \r\nçš„æ™ºèƒ½ä½“ï¼Œåœ¨ç¯å¢ƒå‘ç”Ÿå¾®å°å˜åŒ–æ—¶ï¼ˆä¾‹å¦‚ï¼ŒæŸä¸ªå…³é”®è·¯å¾„è¢«é˜»æŒ¡ï¼‰ï¼Œå¯èƒ½ä¼šè¡¨ç°å¾—éå¸¸ç³Ÿç³•ã€‚ä½†å¦‚æœå®ƒæŒæ¡äº†å¤šä¸ªæ¬¡ä¼˜ç­–ç•¥ï¼Œå®ƒå°±èƒ½å¿«é€Ÿé€‚åº”ï¼Œä»â€œå¤‡ç”¨æ–¹æ¡ˆâ€ä¸­æ‹¿å‡ºä¸€ä¸ªæ¥æ‰§è¡Œï¼Œè¡¨ç°å¾—æ›´åŠ ç¨³å®šå’Œå¯é ã€‚\r\n\r\n\r\næ›´é²æ£’çš„å­¦ä¹ è¿‡ç¨‹ (More robust learning)\r\n\r\n\r\nå¦‚æœæˆ‘ä»¬èƒ½ä¿æŒä¸€ä¸ªæ¬¡ä¼˜è§£çš„é›†åˆï¼Œæˆ‘ä»¬çš„æ™ºèƒ½ä½“åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­å°±èƒ½æ”¶é›†åˆ°æ›´æœ‰ä»·å€¼çš„æ¢ç´¢æ•°æ®ã€‚\r\n\r\nè¿™ä¸»è¦å…³ä¹â€œæ¢ç´¢ä¸åˆ©ç”¨ (Exploration-Exploitation)\r\nâ€çš„æƒè¡¡é—®é¢˜ã€‚\r\n\r\né—®é¢˜ï¼šæ™ºèƒ½ä½“ä¸ºäº†å­¦ä¹ ï¼Œä¸èƒ½åªæ‰§è¡Œå®ƒå½“å‰è®¤ä¸ºæœ€å¥½çš„åŠ¨ä½œï¼ˆåˆ©ç”¨ï¼‰ï¼Œä¹Ÿéœ€è¦å°è¯•ä¸€äº›æœªçŸ¥çš„åŠ¨ä½œæ¥å‘ç°å¯èƒ½æ›´å¥½çš„æ–°ç­–ç•¥ï¼ˆæ¢ç´¢ï¼‰ã€‚ä½†æ€ä¹ˆæ¢ç´¢æ˜¯ä¸ªå¤§å­¦é—®ã€‚\r\nè§£å†³æ–¹æ¡ˆï¼šå¦‚æœæ™ºèƒ½ä½“å¿ƒä¸­æœ‰å¥½å‡ ä¸ªâ€œä¼˜ç§€è§£æ³•â€ï¼Œå®ƒçš„æ¢ç´¢å°±å¯ä»¥æ˜¯â€œåœ¨è¿™äº›ä¼˜ç§€è§£æ³•ä¹‹é—´è¿›è¡Œå°è¯•â€ã€‚\r\né€šè¿‡è¿™ç§æ–¹å¼ï¼Œæ™ºèƒ½ä½“æ”¶é›†åˆ°çš„æ•°æ®éƒ½æ˜¯æ¥è‡ªäºâ€œé«˜æ°´å¹³å°è¯•â€ï¼Œæ•°æ®è´¨é‡éå¸¸é«˜ã€‚è¿™å¯ä»¥å¸®åŠ©å®ƒå­¦å¾—æ›´å¿«ã€æ›´ç¨³å®šï¼Œå¹¶ä¸”é¿å…è¿‡æ—©åœ°é”å®šåœ¨æŸä¸ªå±€éƒ¨æœ€ä¼˜è§£ä¸Šï¼Œä»è€Œæ›´å®¹æ˜“æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚\r\n\r\nç†µï¼š\r\nå®šä¹‰ä¸€ï¼šç†µæ˜¯éšæœºå˜é‡Xä¸ç¡®å®šæ€§çš„åº¦é‡ (measure of uncertainty)ã€‚\r\nå®šä¹‰äºŒï¼šç†µæ˜¯ï¼ˆå¹³å‡è€Œè¨€ï¼‰ç¼–ç éšæœºå˜é‡Xæ‰€éœ€è¦çš„æ¯”ç‰¹æ•° (number of bits\r\nrequired to encode X)ã€‚\r\næ•°å­¦å…¬å¼: \r\n\r\nï¼šä»£è¡¨æ•´ä¸ªéšæœºäº‹ä»¶â€ã€‚\r\nï¼šä»£è¡¨ä¸€ä¸ªå…·ä½“çš„å¯èƒ½ç»“æœã€‚\r\nï¼šä»£è¡¨ç»“æœ xi\r\nå‘ç”Ÿçš„æ¦‚ç‡ã€‚\r\nï¼šå®ƒä»£è¡¨äº†å•ä¸ªç»“æœ\r\n å‘ç”Ÿæ—¶æ‰€åŒ…å«çš„â€œä¿¡æ¯é‡â€ã€‚\r\n\r\nå¦‚æœä¸€ä¸ªäº‹ä»¶æ¦‚ç‡å¾ˆé«˜ï¼Œp(xi)â†’1ï¼Œé‚£ä¹ˆ\r\nlog2p(xi)â†’0ã€‚è¿™ä»¶äº‹å‘ç”Ÿä¸æ„å¤–ï¼Œä¿¡æ¯é‡ä¸º0ã€‚\r\nå¦‚æœä¸€ä¸ªäº‹ä»¶æ¦‚ç‡å¾ˆä½ï¼Œp(xi)â†’0ï¼Œé‚£ä¹ˆ log2p(xi)\r\næ˜¯ä¸ªå¾ˆå¤§çš„è´Ÿæ•°ï¼Œæ‰€ä»¥ âˆ’log2p(xi)\r\nå°±æ˜¯ä¸ªå¾ˆå¤§çš„æ­£æ•°ã€‚è¿™ä»¶äº‹çš„å‘ç”Ÿéå¸¸æ„å¤–ï¼Œä¿¡æ¯é‡å·¨å¤§ï¼\r\n\r\nâˆ‘ip(xi)â€¦ï¼šæœ€åï¼Œæˆ‘ä»¬æŠŠæ¯ä¸ªå¯èƒ½ç»“æœçš„â€œä¿¡æ¯é‡â€ä¹˜ä»¥å®ƒè‡ªå·±å‘ç”Ÿçš„â€œæ¦‚ç‡â€ï¼Œç„¶åå…¨éƒ¨åŠ èµ·æ¥ã€‚è¿™å…¶å®å°±æ˜¯åœ¨è®¡ç®—æ•´ä¸ªäº‹ä»¶Xçš„â€œå¹³å‡ä¿¡æ¯é‡â€æˆ–â€œå¹³å‡æ„å¤–ç¨‹åº¦â€ï¼Œä¹Ÿå°±æ˜¯ç†µã€‚\r\n\r\næœ€å¤§ç†µMDPï¼š\r\n\r\nåœ¨å¸¸è§„çš„MDPå…¬å¼çš„åŸºç¡€ä¸Šï¼Œå¼•å…¥äº†ç†µçš„å‚æ•°ã€‚æ–°å¼•å…¥çš„å†…å®¹ä¼šè§‚å¯Ÿç­–ç•¥çš„ç†µã€‚\r\næ˜¯æƒè¡¡å› å­ï¼Œç”¨äºå¹³è¡¡å¥–åŠ±å’Œç†µã€‚\r\nçº¦æŸä¼˜åŒ–ï¼š\r\n\r\nåœ¨çº¦æŸä¼˜åŒ–ä¸­ï¼Œæˆ‘ä»¬ä¼šåœ¨ä¸€äº›çº¦æŸæ¡ä»¶ä¸‹æ±‚è§£æœ€å€¼é—®é¢˜ã€‚æ¯”å¦‚åœ¨çš„æ¡ä»¶ä¸‹æ±‚çš„æœ€å¤§å€¼ã€‚\r\nä¸ºäº†æ±‚è§£ï¼Œæˆ‘ä»¬å¼•å…¥æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼Œå¹¶æ”¹ä¸ºæ±‚å¦‚ä¸‹å€¼ï¼š  åœ¨æœ€ä¼˜å¤„æ—¶ï¼Œæ»¡è¶³å¦‚ä¸‹æ¡ä»¶ï¼š  \n    æ‹‰æ ¼æœ—æ—¥åŸç†æ¦‚è¿° ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      æ‹‰æ ¼æœ—æ—¥åŸç†æ¦‚è¿°ï¼š\r\n\r\né—®é¢˜è®¾å®šï¼š\r\n\r\næˆ‘ä»¬å¸Œæœ›æœ€å¤§åŒ–æˆ–æœ€å°åŒ–ä¸€ä¸ªç›®æ ‡å‡½æ•° ã€‚\r\nåŒæ—¶ï¼Œå¿…é¡»æ»¡è¶³ä¸€ä¸ªæˆ–å¤šä¸ªçº¦æŸæ¡ä»¶ ã€‚\r\n\r\næ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š\r\n\r\nä¸ºäº†å°†çº¦æŸæ¡ä»¶å¼•å…¥åˆ°ä¼˜åŒ–é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ï¼š\r\n\r\nè¿™é‡Œï¼Œ\r\næ˜¯æ‹‰æ ¼æœ—æ—¥ä¹˜å­ï¼Œç”¨äºè°ƒæ•´çº¦æŸçš„å½±å“ã€‚\r\n\r\næ±‚è§£æ­¥éª¤ï¼š\r\n\r\nå¯¹æ‹‰æ ¼æœ—æ—¥å‡½æ•°è¿›è¡Œåå¾®åˆ†ï¼Œå¾—åˆ°ä»¥ä¸‹æ¡ä»¶ï¼š\r\n\r\n\r\nç¬¬ä¸€ä¸ªæ¡ä»¶æŒ‡ç¤ºåœ¨ä¼˜åŒ–ç‚¹ä¸Šï¼Œå‡½æ•°çš„å˜åŒ–ç‡ä¸ºé›¶ï¼›ç¬¬äºŒä¸ªæ¡ä»¶ç¡®ä¿çº¦æŸæ¡ä»¶è¢«æ»¡è¶³ã€‚\r\n\r\nå‡ ä½•è§£é‡Šï¼š\r\n\r\nå‡ ä½•ä¸Šï¼Œä¼˜åŒ–é—®é¢˜å¯ä»¥çœ‹ä½œæ˜¯åœ¨æŸä¸ªå‡½æ•°çš„ç­‰é«˜çº¿ï¼ˆæˆ–æ›²é¢ï¼‰ä¸Šå¯»æ‰¾æœ€ä¼˜ç‚¹ï¼Œè€Œçº¦æŸæ¡ä»¶åˆ™åƒæ˜¯è¿™æ¡ç­‰é«˜çº¿ä¸æŸä¸ªè¾¹ç•Œçš„äº¤ç‚¹ã€‚æ‹‰æ ¼æœ—æ—¥ä¹˜å­å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°è¿™äº›äº¤ç‚¹ã€‚\r\n\r\n\r\n\n    \n  \r\n\r\n1. ç›®æ ‡å‡½æ•°\r\næœ€å¤§åŒ–æœŸæœ›å¥–åŠ±å’Œç­–ç•¥ç†µçš„åŠ æƒå’Œã€‚ç†µä»£è¡¨ç­–ç•¥çš„éšæœºæ€§ï¼Œ æ˜¯æƒè¡¡å› å­ã€‚ \r\n2. çº¦æŸæ¡ä»¶\r\nç­–ç•¥ \r\næ˜¯ä¸€ä¸ªæ¦‚ç‡åˆ†å¸ƒï¼Œæ‰€æœ‰åŠ¨ä½œçš„æ¦‚ç‡ä¹‹å’Œå¿…é¡»ä¸º1ã€‚ \r\n3. æ±‚è§£æ–¹æ³•\r\nè¿™æ˜¯ä¸€ä¸ªå¸¦çº¦æŸçš„ä¼˜åŒ–é—®é¢˜ï¼Œä½¿ç”¨æ‹‰æ ¼æœ—æ—¥ä¹˜å­æ³•ã€‚æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°\r\nã€‚\r\n å¯¹  çš„å˜é‡\r\n å’Œ \r\næ±‚åå¯¼å¹¶ä»¤å…¶ä¸º0æ¥å¯»æ‰¾æœ€ä¼˜è§£ã€‚\r\n4. æœ€ç»ˆè§£\r\næœ€ä¼˜ç­–ç•¥çš„å½¢å¼æ˜¯ä¸€ä¸ª Softmax\r\nåˆ†å¸ƒã€‚å¥–åŠ±è¶Šé«˜çš„åŠ¨ä½œï¼Œè¢«é€‰ä¸­çš„æ¦‚ç‡å°±å‘ˆæŒ‡æ•°çº§è¶Šé«˜ã€‚  å…¶ä¸­ \r\næ˜¯å½’ä¸€åŒ–é¡¹ï¼ˆä¹Ÿå«é…åˆ†å‡½æ•°ï¼‰ï¼Œç”¨æ¥ç¡®ä¿æ‰€æœ‰æ¦‚ç‡ä¹‹å’Œä¸º1ã€‚ \r\n\r\nç´§æ¥ä¸Šä¸€æ­¥ï¼Œå¼€å§‹è®¡ç®—æˆ‘ä»¬æ‰¾åˆ°çš„æœ€ä¼˜ç­–ç•¥æ‰€å¯¹åº”çš„æœ€ä¼˜ä»·å€¼ï¼ˆOptimal\r\nValue, Vï¼‰ã€‚\r\nå›é¡¾ä»·å€¼å…¬å¼ï¼š\r\næ¥ç€ï¼Œå°†ä¸Šä¸€é¡µæ¨å¯¼å‡ºçš„æœ€ä¼˜Softmaxç­–ç•¥  ä»£å…¥ä¸Šæ–¹çš„ä»·å€¼å…¬å¼ä¸­ã€‚\r\nåŒ–ç®€å¾—åˆ°æœ€ç»ˆç»“æœï¼š\r\n\r\nåœ¨æ­¤åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¸Œæœ›æŠŠæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„å•æ­¥æœ€å¤§ç†µè§£æ³•ï¼Œæ¨å¹¿åˆ°äº†æ›´æ™®éçš„å¤šæ­¥å¼ºåŒ–å­¦ä¹ é—®é¢˜ä¸­ã€‚\r\nè¿™ä¸ªç®—æ³•æ˜¯ä¸€ç§åŸºäºåŠ¨æ€è§„åˆ’çš„é€’å½’æ–¹æ³•ã€‚åœ¨è¿˜å‰©  æ­¥æ—¶ï¼Œå¤„äºçŠ¶æ€  çš„ä»·å€¼ï¼Œè®°ä¸º ï¼Œå¯ä»¥è¢«åˆ†è§£ä¸ºä¸¤éƒ¨åˆ†ï¼š\r\n\r\næ‰§è¡Œä¸€ä¸ªåŠ¨ä½œ \r\nåè·å¾—çš„å³æ—¶ä»·å€¼\r\nè¿›å…¥ä¸‹ä¸€ä¸ªçŠ¶æ€ \r\nåï¼Œåœ¨å‰©ä¸‹ \r\næ­¥ä¸­æ‰€èƒ½è·å¾—çš„ä»·å€¼ã€‚\r\n\r\nè¿™å°±å¾—åˆ°äº†æœ€å¤§ç†µè´å°”æ›¼æ–¹ç¨‹ï¼š è¿™éƒ¨åˆ†å°±æ˜¯ è¿™é‡Œçš„ \r\nå°±æ˜¯æœ€å¤§ç†µQå€¼ã€‚å®ƒä»£è¡¨äº†åœ¨çŠ¶æ€  æ‰§è¡ŒåŠ¨ä½œ ï¼Œå¹¶åœ¨åç»­æ‰€æœ‰æ­¥éª¤ä¸­éƒ½éµå¾ªæœ€ä¼˜ç­–ç•¥æ‰€èƒ½å¾—åˆ°çš„æœŸæœ›æ€»ä»·å€¼ã€‚\r\næ—¢ç„¶é—®é¢˜ç»“æ„ç›¸åŒï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥å¥—ç”¨å•æ­¥é—®é¢˜çš„è§£ï¼Œåªéœ€æŠŠ  æ›¿æ¢æˆ  å³å¯ã€‚\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"Deep Q-Learning","url":"/2025/06/17/17-DeepRL_lecture2/","content":"Q-Learning\r\næ€è·¯\r\nå›é¡¾ä¸€ä¸‹Qå€¼è¿­ä»£çš„å…¬å¼ï¼š  å°†å…¶å†™ä¸ºæœŸæœ›çš„å½¢å¼ï¼š \r\nåœ¨æ­¤åŸºç¡€ä¸Šï¼ŒQ-Learningçš„æ€è·¯å°±æ˜¯ï¼Œé€šè¿‡é‡‡æ ·æ¥ä»£æ›¿æœŸæœ›ï¼š\r\n\r\nè·å¾—æ ·æœ¬ (Receive a sample): åœ¨å½“å‰çŠ¶æ€  æ‰§è¡ŒåŠ¨ä½œ ã€‚è·å¾—æ–°çš„çŠ¶æ€ã€‚\r\næ—§çš„ä¼°è®¡å€¼ (Old estimate): æˆ‘ä»¬å½“å‰å¯¹  çš„ä¼°è®¡å€¼æ˜¯ ã€‚\r\næ–°çš„æ ·æœ¬ä¼°è®¡ (New sample estimate):\r\nå®ƒæ˜¯æˆ‘ä»¬æ ¹æ®åˆšåˆšå¾—åˆ°çš„æ ·æœ¬ï¼Œè®¡ç®—å‡ºçš„ä¸€ä¸ªæ–°çš„ã€æ›´é è°±çš„â€œç›®æ ‡ä»·å€¼â€ã€‚ \r\næ³¨æ„ï¼Œè¿™ä¸ªå¼å­å’Œç¬¬ä¸€æ­¥å…¬å¼æ‹¬å·é‡Œçš„å†…å®¹ä¸€æ¨¡ä¸€æ ·ï¼Œä½†å®ƒä½¿ç”¨çš„ R å’Œ sâ€²\r\næ˜¯æˆ‘ä»¬åˆšåˆšå®é™…è§‚æµ‹åˆ°çš„ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªç†è®ºä¸Šçš„æœŸæœ›å€¼ã€‚\r\nå¢é‡æ›´æ–° (Incorporate the new estimate): \r\nè¿™æ˜¯æœ€ç»ˆçš„Q-Learningæ›´æ–°å…¬å¼ã€‚æˆ‘ä»¬ä¸ä¼šç”¨æ–°çš„ç›®æ ‡å€¼ \r\nå®Œå…¨è¦†ç›–æ‰æ—§çš„ä¼°è®¡å€¼ï¼Œè€Œæ˜¯åƒâ€œå¾®è°ƒâ€ä¸€æ ·ï¼ŒæŠŠæ—§å€¼å‘æ–°ç›®æ ‡å€¼â€œæ‹‰â€ä¸€ç‚¹ç‚¹ã€‚\r\n\r\n\r\nÎ± (alpha) æ˜¯å­¦ä¹ ç‡ (learning\r\nrate)ï¼Œä¸€ä¸ª0åˆ°1ä¹‹é—´çš„å°æ•°ã€‚å®ƒæ§åˆ¶äº†æˆ‘ä»¬æ¯ä¸€æ­¥æ›´æ–°çš„å¹…åº¦ã€‚\r\nå¦‚æœ Î±=0ï¼šæˆ‘ä»¬å®Œå…¨ä¸å­¦ä¹ ï¼ŒQå€¼æ°¸è¿œä¸å˜ã€‚\r\nå¦‚æœ\r\nÎ±=1ï¼šæˆ‘ä»¬å®Œå…¨æŠ›å¼ƒæ—§å€¼ï¼Œç”¨æ–°çš„Targetä»£æ›¿ï¼Œè¿™é€šå¸¸ä¼šå¯¼è‡´å­¦ä¹ è¿‡ç¨‹ä¸ç¨³å®šã€‚\r\n\r\næµç¨‹\r\nç®—æ³•å…·ä½“æµç¨‹å¦‚ä¸‹ï¼š\r\n\r\n\r\n\r\nAlgorithm: (ç®—æ³•æµç¨‹)ï¼š\r\n\r\nStart with \r\nfor all \r\n\r\nåœ¨ç®—æ³•å¼€å§‹æ—¶ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªè¡¨æ ¼ï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰â€œçŠ¶æ€ï¼ˆstateï¼‰â€å’Œâ€œåŠ¨ä½œï¼ˆactionï¼‰â€ç»„åˆçš„å€¼ã€‚\r\n\r\nGet initial state \r\n\r\nå¼€å§‹ä¸€è½®å­¦ä¹ ï¼ˆä¸€ä¸ª episodeï¼‰ã€‚æŠŠæ™ºèƒ½ä½“æ”¾åœ¨ç¯å¢ƒä¸­çš„ä¸€ä¸ªèµ·å§‹ä½ç½® ã€‚\r\n\r\nFor  till\r\nconvergence\r\n\r\nè¿™æ˜¯å­¦ä¹ çš„æ ¸å¿ƒå¾ªç¯ã€‚æ™ºèƒ½ä½“ä¼šä¸æ–­åœ°ä¸ç¯å¢ƒäº¤äº’ï¼Œæ›´æ–°è¡¨ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šé‡å¤æˆåƒä¸Šä¸‡æ¬¡ï¼ˆæ˜¯æ­¥æ•°è®¡æ•°å™¨)ï¼Œç›´åˆ°è¡¨ä¸­çš„å€¼æ”¶æ•›ã€‚\r\n\r\nSample action , get\r\nnext state \r\n\r\nåœ¨å½“å‰çŠ¶æ€ï¼Œæ™ºèƒ½ä½“éœ€è¦é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œæ¥æ‰§è¡Œã€‚é€šå¸¸ä½¿ç”¨ -greedy (epsilon-greedy)ç­–ç•¥ï¼š\r\n\r\næœ‰ \r\nçš„æ¦‚ç‡ï¼Œé€‰æ‹©å½“å‰çŠ¶æ€ä¸‹å€¼æœ€å¤§çš„åŠ¨ä½œï¼ˆåˆ©ç”¨ç°æœ‰çŸ¥è¯†ï¼‰ã€‚\r\næœ‰ \r\nçš„æ¦‚ç‡ï¼Œéšæœºé€‰æ‹©ä¸€ä¸ªåŠ¨ä½œï¼ˆæ¢ç´¢æœªçŸ¥å¯èƒ½ï¼‰ã€‚\r\n\r\næ‰§è¡ŒåŠ¨ä½œåï¼Œç¯å¢ƒä¼šç»™å‡ºä¸€ä¸ªåé¦ˆï¼šæ™ºèƒ½ä½“è¿›å…¥äº†ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œå¹¶è·å¾—ä¸€ä¸ªå¥–åŠ±ï¼ˆå¥–åŠ±åœ¨ä¸‹ä¸€æ­¥çš„ target\r\nè®¡ç®—ä¸­ç”¨åˆ°ï¼‰ã€‚\r\n\r\nIf  is\r\nterminal:\r\n\r\n\r\n\r\nå¦‚æœæ˜¯ç»ˆæ­¢çŠ¶æ€ï¼Œæˆ‘ä»¬çš„ç›®æ ‡å€¼ $target$\r\nå°±æ˜¯è·å¾—çš„æœ€åé‚£ä¸ªå¥–åŠ± ã€‚\r\n\r\nSample new initial state :\r\nå½“å‰è¿™è½®ï¼ˆepisodeï¼‰ç»“æŸäº†ï¼Œè®©æ™ºèƒ½ä½“é‡æ–°å›åˆ°ä¸€ä¸ªèµ·å§‹ä½ç½®ï¼Œå‡†å¤‡å¼€å§‹æ–°çš„ä¸€è½®ã€‚\r\n\r\nelse:\r\n\r\n\r\n\r\nå°šæœªç»ˆæ­¢ã€‚æˆ‘ä»¬ç”¨ä¸Šé¢æåˆ°çš„å…¬å¼æ¥è®¡ç®—ç›®æ ‡å€¼ã€‚\r\n\r\n\r\n\r\n\r\nè¿™æ˜¯æ•´ä¸ªç®—æ³•æœ€æ ¸å¿ƒçš„æ›´æ–°æ­¥éª¤ã€‚æ— è®º if è¿˜æ˜¯\r\nelseï¼Œæˆ‘ä»¬éƒ½ç”¨è®¡ç®—å‡ºçš„ $target$\r\næ¥æ›´æ–°åŸå§‹çŠ¶æ€åŠ¨ä½œå¯¹ \r\nçš„å€¼ã€‚æˆ‘ä»¬ç”¨å­¦ä¹ ç‡  æŠŠæ—§çš„å€¼å‘æ–°çš„ $target$\r\nå€¼â€œæ‹‰æ‹¢â€ä¸€ç‚¹ã€‚\r\n\r\n\r\n\r\næ™ºèƒ½ä½“å·²ç»ç§»åŠ¨åˆ°äº†æ–°çš„çŠ¶æ€ã€‚æˆ‘ä»¬æŠŠè®¾ä¸ºå½“å‰çŠ¶æ€ï¼Œç„¶åè¿”å›ç¬¬4æ­¥ï¼Œå¼€å¯ä¸‹ä¸€æ¬¡â€œé€‰æ‹©åŠ¨ä½œ\r\n-&gt; è§‚å¯Ÿç»“æœ -&gt; æ›´æ–°å€¼â€çš„å¾ªç¯ã€‚\r\n\r\n\r\n\r\n\r\nç‰¹æ€§\r\næ ¸å¿ƒæ¦‚å¿µï¼šç¦»ç­–ç•¥ (Off-Policy) å­¦ä¹ \r\n\r\nå®šä¹‰ï¼š â€œè¡ŒåŠ¨â€çš„ç­–ç•¥å’Œâ€œå­¦ä¹ â€çš„ç­–ç•¥å¯ä»¥ä¸ä¸€æ ·ã€‚\r\nè¡¨ç°ï¼š\r\nå³ä½¿æ™ºèƒ½ä½“ä¸ºäº†æ¢ç´¢è€Œåšå‡ºâ€œéæœ€ä¼˜â€çš„éšæœºåŠ¨ä½œï¼Œå®ƒå­¦ä¹ åˆ°çš„ä¾ç„¶æ˜¯â€œæœ€ä¼˜â€çš„è·¯å¾„ã€‚\r\n\r\næ”¶æ•›çš„3ä¸ªå‰ææ¡ä»¶ (Caveats):\r\n\r\nå……åˆ†æ¢ç´¢ï¼š\r\nå¿…é¡»å°è¯•è¶³å¤Ÿå¤šçš„çŠ¶æ€å’ŒåŠ¨ä½œï¼Œé¿å…æ¼æ‰æœ€ä¼˜è§£ã€‚\r\nå­¦ä¹ ç‡(Î±)æœ€ç»ˆè¦å°ï¼š\r\nä¿è¯Qå€¼åæœŸèƒ½ç¨³å®šæ”¶æ•›ï¼Œä¸å‰§çƒˆæ³¢åŠ¨ã€‚\r\nå­¦ä¹ ç‡(Î±)ä¸èƒ½é™å¤ªå¿«ï¼š\r\né˜²æ­¢Qå€¼åœ¨å­¦å¥½ä¹‹å‰å°±æå‰â€œå®šå‹â€ï¼Œä¸å†æ›´æ–°ã€‚\r\n\r\nç”¨æ›´ä¸¥è°¨çš„è¡¨è¾¾ï¼š\r\n1. å……åˆ†æ¢ç´¢ (Infinite Visitation)ï¼š\r\n\r\nAll states and actions are visited infinitely often\r\n\r\nå«ä¹‰ï¼š æ‰€æœ‰çš„çŠ¶æ€å’ŒåŠ¨ä½œå¯¹ (s,a)\r\néƒ½å¿…é¡»è¢«è®¿é—®æ— é™æ¬¡ã€‚\r\nè§£é‡Šï¼š\r\nè¿™æ˜¯å¯¹â€œå……åˆ†æ¢ç´¢â€çš„ä¸¥æ ¼æ•°å­¦å®šä¹‰ã€‚åœ¨ç†è®ºè¯æ˜ä¸­ï¼Œéœ€è¦â€œæ— é™æ¬¡â€æ¥ä¿è¯æ— è®ºåˆå§‹çš„Qå€¼æœ‰å¤šå·®ï¼Œæœ€ç»ˆéƒ½æœ‰æœºä¼šè¢«ä¿®æ­£è¿‡æ¥ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™æ„å‘³ç€æ¯ä¸ª\r\n(s,a) å¯¹éƒ½è¦è¢«è®¿é—®éå¸¸éå¸¸å¤šæ¬¡ã€‚\r\n\r\nBasically, in the limit, it doesn't matter how you select actions (!)\r\n\r\nå«ä¹‰ï¼š\r\nä»æé™çš„è§’åº¦çœ‹ï¼Œä½ å…·ä½“å¦‚ä½•é€‰æ‹©åŠ¨ä½œå…¶å®ä¸é‡è¦ï¼\r\nè§£é‡Šï¼š\r\nè¿™æ˜¯ä¸€ä¸ªéå¸¸æ·±åˆ»çš„ç»“è®ºã€‚å®ƒæŒ‡çš„æ˜¯ï¼Œåªè¦ä½ çš„åŠ¨ä½œé€‰æ‹©ç­–ç•¥èƒ½ä¿è¯â€œæ— é™è®¿é—®â€è¿™ä¸ªæ¡ä»¶ï¼Œé‚£ä¹ˆæ— è®ºæ˜¯ç”¨Îµ-greedyï¼Œè¿˜æ˜¯å…¶ä»–æ›´å¤æ‚çš„æ¢ç´¢æ–¹æ³•ï¼Œæœ€ç»ˆQ-Learningéƒ½èƒ½æ”¶æ•›åˆ°æœ€ä¼˜ç­–ç•¥ã€‚å› ä¸ºQ-Learningæ›´æ–°å…¬å¼ä¸­çš„\r\nmax\r\næ“ä½œä¼šæŒç»­åœ°å°†Qå€¼æ¨å‘æœ€ä¼˜çš„æ–¹å‘ï¼Œæ—¶é—´é•¿äº†ï¼Œæ¢ç´¢æ—¶äº§ç”Ÿçš„â€œå™ªéŸ³â€å°±ä¼šè¢«æ·¹æ²¡ã€‚\r\n\r\n\r\n2. å­¦ä¹ ç‡è®¾å®šæ¡ä»¶ (Learning Rate Schedule)ï¼š \r\nè¿™é‡Œç”¨ä¸¤ä¸ªæ•°å­¦å…¬å¼ï¼Œç²¾ç¡®åœ°å®šä¹‰äº†ä¸Šé¢æˆ‘ä»¬è®¨è®ºçš„â€œå­¦ä¹ ç‡(Î±)è¦å˜å°ï¼Œä½†ä¸èƒ½å¤ªå¿«å˜å°â€ã€‚è¿™é‡Œçš„\r\n æŒ‡çš„æ˜¯åœ¨æ—¶é—´æ­¥  æ—¶ï¼Œç”¨äºæ›´æ–°  å¯¹çš„å­¦ä¹ ç‡ã€‚\r\n\r\n\r\n\r\næ•°å­¦å«ä¹‰ï¼š\r\næ‰€æœ‰å­¦ä¹ ç‡ä»å¤´åˆ°å°¾åŠ èµ·æ¥çš„æ€»å’Œï¼Œå¿…é¡»æ˜¯æ— ç©·å¤§ã€‚\r\nç›´è§‚è§£é‡Šï¼š\r\nè¿™ä¸ªæ¡ä»¶ä¿è¯äº†å­¦ä¹ ä¸ä¼šè¿‡æ—©åœæ­¢ã€‚ä½ å¯ä»¥æŠŠå­¦ä¹ ç‡æƒ³è±¡æˆä½ å‰è¿›çš„â€œæ­¥é•¿â€ã€‚è¿™ä¸ªå…¬å¼è¦æ±‚ä½ æ‰€æœ‰æ­¥é•¿åŠ èµ·æ¥çš„æ€»è·ç¦»æ˜¯æ— é™çš„ã€‚è¿™æ„å‘³ç€ï¼Œæ— è®ºä½ ç¦»ç›®æ ‡æœ‰å¤šè¿œï¼Œåªè¦ä¸€ç›´èµ°ä¸‹å»ï¼Œå°±ä¸€å®šèƒ½åˆ°è¾¾ã€‚å¦‚æœè¿™ä¸ªæ€»å’Œæ˜¯æœ‰é™çš„ï¼Œæ¯”å¦‚æ€»å…±åªèƒ½èµ°100ç±³ï¼Œé‚£å¦‚æœä½ çš„ç›®æ ‡åœ¨101ç±³å¤–ï¼Œä½ å°±æ°¸è¿œä¹Ÿèµ°ä¸åˆ°äº†ã€‚è¿™å¯¹åº”äº†â€œå­¦ä¹ ç‡ä¸èƒ½é™å¤ªå¿«â€çš„è§„åˆ™ã€‚\r\n\r\n\r\n\r\næ•°å­¦å«ä¹‰ï¼š\r\næ‰€æœ‰å­¦ä¹ ç‡çš„å¹³æ–¹åŠ èµ·æ¥çš„æ€»å’Œï¼Œå¿…é¡»æ˜¯ä¸€ä¸ªæœ‰é™çš„æ•°ï¼ˆå³æ”¶æ•›ï¼‰ã€‚\r\nç›´è§‚è§£é‡Šï¼š\r\nè¿™ä¸ªæ¡ä»¶ä¿è¯äº†å­¦ä¹ æœ€ç»ˆä¼šç¨³å®šä¸‹æ¥ã€‚å®ƒè¦æ±‚ä½ çš„â€œæ­¥é•¿â€æœ€ç»ˆå¿…é¡»è¶‹å‘äº0ï¼Œå¹¶ä¸”è¦è¶³å¤Ÿå¿«åœ°è¶‹å‘äº0ã€‚è¿™æ ·ï¼Œåœ¨å­¦ä¹ çš„åæœŸï¼Œæ¯æ¬¡æ›´æ–°çš„å¹…åº¦ä¼šå˜å¾—éå¸¸å°ï¼ŒQå€¼æ‰ä¸ä¼šå› ä¸ºæŸæ¬¡éšæœºçš„ã€ä¸å¥½çš„é‡‡æ ·è€Œå¤§å¹…æ³¢åŠ¨ï¼Œä»è€Œèƒ½å¤Ÿç¨³å®šåœ¨æœ€ä¼˜å€¼é™„è¿‘ã€‚è¿™å¯¹åº”äº†â€œå­¦ä¹ ç‡æœ€ç»ˆè¦è¶³å¤Ÿå°â€çš„è§„åˆ™ã€‚\r\n\r\n\r\nå±€é™\r\n\n    è¡¨æ ¼æ–¹æ³•å±€é™æ€§ ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\n\r\næ ¸å¿ƒé—®é¢˜ï¼šçŠ¶æ€ç©ºé—´çˆ†ç‚¸ (State Space Explosion)\r\næˆ‘ä»¬ä¹‹å‰è®²çš„Q-Learningï¼Œæ ¸å¿ƒæ˜¯é‚£å¼  Qè¡¨\r\n(Q-Table)ã€‚å®ƒè¦æ±‚æˆ‘ä»¬ä¸ºç¯å¢ƒä¸­çš„æ¯ä¸€ä¸ªå¯èƒ½çš„çŠ¶æ€éƒ½åˆ†é…ä¸€è¡Œæ¥è®°å½•Qå€¼ã€‚\r\nå¯¹äºéå¸¸ç®€å•çš„ç¯å¢ƒï¼Œè¿™æ˜¯å¯è¡Œçš„ã€‚ä½†æ˜¯ä¸€æ—¦ç¯å¢ƒå˜å¾—å¤æ‚ï¼ŒçŠ¶æ€çš„æ•°é‡ä¼šå¢é•¿å¾—æå…¶ææ€–ï¼Œè¿™ä¸ªç°è±¡ä¹Ÿå«\r\nâ€œç»´åº¦ç¾éš¾â€ (Curse of Dimensionality)ã€‚\r\nå›¾ä¸­ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œå³ä½¿åœ¨çŠ¶æ€æ˜¯ç¦»æ•£çš„ç¯å¢ƒä¸­ï¼ŒçŠ¶æ€æ•°é‡ä¹Ÿä¼šæš´å¢ã€‚åœ¨è¿ç»­çŠ¶æ€ï¼ˆæ¯”å¦‚æœºå™¨äººå…³èŠ‚çš„è§’åº¦ã€é€Ÿåº¦ï¼‰çš„ç¯å¢ƒä¸­ï¼Œé—®é¢˜ç”šè‡³æ›´ä¸¥é‡ã€‚\r\n\n    \n  \r\nIn realistic situations, we cannot possibly learn about every single state!\r\n\r\nåœ¨ç°å®å¤æ‚é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬ä¸å¯èƒ½å­¦ä¹ å®Œæ‰€æœ‰çŠ¶æ€ã€‚åŸå› æœ‰äºŒï¼š\r\n\r\næ²¡æ—¶é—´è®¿é—®æ‰€æœ‰çŠ¶æ€\r\n(Too many states to visit):\r\nåœ¨è®­ç»ƒä¸­ï¼Œè¦æŠŠåƒAtariæ¸¸æˆé‡Œçš„æ¯ä¸€ç§å¯èƒ½çš„æ¸¸æˆç”»é¢éƒ½ç»å†ä¸€éï¼Œéœ€è¦çš„æ—¶é—´æ˜¯å¤©æ–‡æ•°å­—ã€‚\r\næ²¡å†…å­˜å­˜å‚¨æ‰€æœ‰çŠ¶æ€\r\n(Too many states to hold):\r\nå°±ç®—æœ‰æ—¶é—´ï¼Œæˆ‘ä»¬çš„è®¡ç®—æœºä¹Ÿå­˜ä¸ä¸‹ä¸€å¼ åŒ…å«ä¸‡äº¿ã€äº¿äº¿è¡Œçš„Qè¡¨ã€‚\r\n\r\n\r\nä¸ºäº†è§£å†³çŠ¶æ€ç©ºé—´çˆ†ç‚¸é—®é¢˜ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯è¿›è¡Œæ³›åŒ–(Generalization)ã€‚\r\nåšæ³•ï¼š\r\n\r\nä»å°‘é‡ç»éªŒä¸­å­¦ä¹ \r\n(Learn about some small number of training states):\r\næ™ºèƒ½ä½“åªä»å®ƒåœ¨è®­ç»ƒä¸­å®é™…é‡åˆ°è¿‡çš„é‚£äº›çŠ¶æ€ä¸­å­¦ä¹ ã€‚\r\nå°†ç»éªŒæ¨å¹¿åˆ°æ–°æƒ…å†µ\r\n(Generalize that experience to new, similar situations):\r\nè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚æ¨¡å‹éœ€è¦èƒ½å¤Ÿæ ¹æ®å·²æœ‰çš„ç»éªŒï¼Œå¯¹ä»æœªè§è¿‡ä½†å¾ˆç›¸ä¼¼çš„çŠ¶æ€åšå‡ºåˆç†çš„ä»·å€¼åˆ¤æ–­ã€‚\r\n\r\nä¼˜åŒ–\r\nè¿‘ä¼¼Qå­¦ä¹ ï¼ˆApproximate Q-Learning)ï¼š\r\næˆ‘ä»¬ä¸å†ä½¿ç”¨ä¸€å¼ å·¨å¤§çš„Qè¡¨æ¥å­˜å‚¨æ¯ä¸€ä¸ªçŠ¶æ€-åŠ¨ä½œå¯¹çš„å€¼ï¼Œè€Œæ˜¯ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰å‚æ•°çš„å‡½æ•°\r\n\r\næ¥è®¡ç®—ï¼ˆæˆ–è¿‘ä¼¼ï¼‰è¿™ä¸ªå€¼ã€‚\r\n\r\nå‡½æ•°å¯ä»¥æ˜¯å¤šç§å½¢å¼ï¼š\r\n\r\nçº¿æ€§å‡½æ•° (Linear function in features):\r\n\r\n\r\n\r\nç¥ç»ç½‘ç»œ (neural net), å†³ç­–æ ‘ (decision tree), etc.\r\n\r\n\r\næ–°çš„å­¦ä¹ è§„åˆ™ (Learning rule)ï¼š\r\næ—¢ç„¶æ²¡æœ‰è¡¨æ ¼äº†ï¼Œæˆ‘ä»¬çš„æ›´æ–°æ–¹å¼ä¹Ÿå˜äº†ã€‚æˆ‘ä»¬ä¸å†æ›´æ–°è¡¨æ ¼ä¸­çš„ä¸€ä¸ªå•å…ƒæ ¼ï¼Œè€Œæ˜¯æ›´æ–°å‡½æ•°çš„å‚æ•°\r\nÎ¸ã€‚è¿™ä¸ªæ›´æ–°è¿‡ç¨‹ä½¿ç”¨çš„æ˜¯æ¢¯åº¦ä¸‹é™æ³• (Gradient\r\nDescent)ã€‚\r\n\r\nç›®æ ‡å€¼ (target) çš„è®¡ç®—:\r\n\r\n\r\n\r\næ›´æ–°å‚æ•° Î¸:\r\n\r\n\r\næˆ‘ä»¬æ¥åˆ†è§£è¿™ä¸ªå…¬å¼ï¼š\r\n\r\nè¯¯å·® (Error): \r\næ˜¯æˆ‘ä»¬å½“å‰å‡½æ•°çš„é¢„æµ‹å€¼ä¸ç›®æ ‡å€¼ä¹‹é—´çš„å·®è·ã€‚\r\næŸå¤±å‡½æ•° (Loss Function): æˆ‘ä»¬å°†è¯¯å·®å¹³æ–¹\r\n(error)Â²ï¼Œè¿™å¾—åˆ°äº†ä¸€ä¸ªæ°¸è¿œä¸ºæ­£çš„â€œæŸå¤±å€¼â€ã€‚æˆ‘ä»¬çš„ç›®æ ‡å°±æ˜¯è®©è¿™ä¸ªæŸå¤±å€¼å˜å¾—å°½å¯èƒ½å°ã€‚\r\næ¢¯åº¦ (âˆ‡):\r\nè¿™æ˜¯å¾®ç§¯åˆ†ä¸­çš„ä¸€ä¸ªç¬¦å·ï¼Œè¡¨ç¤ºâ€œæ¢¯åº¦â€ã€‚æ¢¯åº¦æŒ‡å‘çš„æ˜¯å‡½æ•°å€¼å¢é•¿æœ€å¿«çš„æ–¹å‘ã€‚æ‰€ä»¥ï¼ŒæŸå¤±å‡½æ•°çš„æ¢¯åº¦å°±æŒ‡å‘äº†è®©æŸå¤±å€¼å¢å¤§çš„æ–¹å‘ã€‚\r\næ¢¯åº¦ä¸‹é™:\r\næˆ‘ä»¬åœ¨æ¢¯åº¦çš„å‰é¢æ”¾ä¸€ä¸ªè´Ÿå·\r\n(- Î±âˆ‡...)ï¼Œå°±æ„å‘³ç€æˆ‘ä»¬è¦è®©å‚æ•° Î¸\r\næ²¿ç€æŸå¤±å€¼ä¸‹é™æœ€å¿«çš„æ–¹å‘è¿›è¡Œè°ƒæ•´ã€‚Î±\r\næ˜¯å­¦ä¹ ç‡ï¼Œæ§åˆ¶ç€æ¯ä¸€æ­¥è°ƒæ•´çš„å¹…åº¦å¤§å°ã€‚\r\n\r\n\r\n\r\nDeep Learning / Neural\r\nNetworks\r\n\r\nç¥ç»ç½‘ç»œ\r\nç®€å•æ¥è¯´ï¼Œç¥ç»ç½‘ç»œé€šè¿‡å°†è®¸å¤šç®€å•çš„è®¡ç®—å•å…ƒï¼ˆç¥ç»å…ƒï¼‰åˆ†å±‚æ’åˆ—ï¼Œæ¥å¤„ç†å’Œè½¬æ¢ä¿¡æ¯ã€‚\r\n\r\nè¾“å…¥ç‰¹å¾ (f1,f2,f3)\r\n\r\nè¿™æ˜¯ç½‘ç»œçš„è¾“å…¥å±‚ï¼Œä»£è¡¨äº†æä¾›ç»™æ¨¡å‹çš„ä¿¡æ¯ã€‚åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œè¿™å¯èƒ½å°±æ˜¯æè¿°å½“å‰çŠ¶æ€çš„ç‰¹å¾ã€‚\r\n\r\nç®­å¤´å’Œçº¿æ¡ç²—ç»†\r\n\r\nç®­å¤´è¡¨ç¤ºæ•°æ®çš„æµåŠ¨æ–¹å‘ï¼Œä»å·¦åˆ°å³ã€‚\r\nçº¿æ¡çš„ç²—ç»†ä»£è¡¨äº†è¿æ¥çš„æƒé‡\r\n(Weight)ã€‚ç²—çº¿æ¡è¡¨ç¤ºè¿™ä¸ªè¿æ¥çš„æƒé‡å€¼å¾ˆå¤§ï¼Œæ„å‘³ç€å‰ä¸€å±‚è¿™ä¸ªèŠ‚ç‚¹å¯¹åä¸€å±‚èŠ‚ç‚¹çš„å½±å“åŠ›æ›´å¼ºã€‚è¿™äº›æƒé‡å°±æ˜¯ç¥ç»ç½‘ç»œéœ€è¦å­¦ä¹ çš„å‚æ•°\r\nW æˆ– Î¸ã€‚\r\n\r\nè®¡ç®—å•å…ƒï¼ˆæ–¹æ¡†å†…çš„ç¬¦å·ï¼‰\r\n\r\næ±‚å’Œæ¡† (Î£):\r\nä»£è¡¨çº¿æ€§å˜æ¢ã€‚æ¯ä¸ªç¥ç»å…ƒä¼šæŠŠå®ƒæ‰€æœ‰è¾“å…¥ä¿¡å·æ ¹æ®è¿æ¥çš„æƒé‡è¿›è¡ŒåŠ æƒæ±‚å’Œã€‚\r\næ¿€æ´»å‡½æ•°æ¡† (Så½¢æ›²çº¿):\r\nä»£è¡¨éçº¿æ€§æ¿€æ´»ã€‚ä¸Šä¸€æ­¥åŠ æƒæ±‚å’Œçš„ç»“æœä¼šç»è¿‡ä¸€ä¸ªéçº¿æ€§å‡½æ•°ï¼ˆå¦‚å›¾ä¸­çš„Så½¢å‡½æ•°ï¼Œæˆ–ä¸Šä¸€é¡µçš„ReLUå‡½æ•°ï¼‰è¿›è¡Œå¤„ç†ã€‚è¿™ä¸€æ­¥è‡³å…³é‡è¦ï¼Œå®ƒèµ‹äºˆäº†ç½‘ç»œå­¦ä¹ å¤æ‚æ¨¡å¼çš„èƒ½åŠ›ã€‚\r\n\r\n\r\nåˆ†å±‚ç»“æ„\r\n\r\néšè—å±‚ (Hidden Layers):\r\n\r\nè¾“å…¥å±‚å’Œè¾“å‡ºå±‚ä¹‹é—´çš„æ‰€æœ‰å±‚éƒ½å«éšè—å±‚ã€‚æ•°æ®ä»è¾“å…¥å±‚å¼€å§‹ï¼Œé€å±‚å‘åä¼ é€’ã€‚\r\næ¯ä¸€å±‚éƒ½ä¼šå¯¹å‰ä¸€å±‚è¾“å‡ºçš„ç»“æœè¿›è¡Œæ–°çš„â€œåŠ æƒæ±‚å’Œ +\r\næ¿€æ´»â€è®¡ç®—ï¼Œä»è€Œæå–å‡ºæ›´é«˜çº§ã€æ›´æŠ½è±¡çš„ç‰¹å¾ã€‚ç¬¬ä¸€å±‚å¯èƒ½åªèƒ½è¯†åˆ«ç®€å•çš„æ¨¡å¼ï¼Œè€Œæ›´æ·±çš„å±‚å¯ä»¥ç»„åˆè¿™äº›ç®€å•æ¨¡å¼ï¼Œä»¥è¯†åˆ«æ›´å¤æ‚çš„æ¦‚å¿µã€‚\r\n\r\nè¾“å‡ºå±‚ (Output Layer):\r\n\r\nç½‘ç»œçš„æœ€åä¸€å±‚ï¼Œå®ƒä¼šç»™å‡ºæœ€ç»ˆçš„è®¡ç®—ç»“æœã€‚\r\n\r\n\r\nå¤šå±‚æ„ŸçŸ¥æœº (MLP)\r\n\r\nMLPçš„å…³é”®åœ¨äºï¼Œå®ƒåœ¨æ¯ä¸€å±‚çº¿æ€§å˜æ¢ä¹‹åï¼Œéƒ½ä¼šæ’å…¥ä¸€ä¸ªéçº¿æ€§çš„æ¿€æ´»å‡½æ•°\r\n(activation\r\nfunction)ã€‚è¿™ä¸ªâ€œéçº¿æ€§â€æ˜¯èµ‹äºˆç¥ç»ç½‘ç»œå¼ºå¤§èƒ½åŠ›çš„æ ¸å¿ƒã€‚\r\næ¿€æ´»å‡½æ•°ï¼š\r\n\r\nä¸€ä¸ªç›´è§‚çš„MLPç»“æ„ï¼š\r\n\r\nå·ç§¯ç¥ç»ç½‘ç»œ(CNN)\r\n\r\nCNNçš„æ ¸å¿ƒæ€æƒ³\r\næ™®é€šçš„MLPï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰åœ¨å¤„ç†å›¾åƒæ—¶ï¼Œä¼šå…ˆæŠŠå›¾åƒåƒç´ æ‹‰æˆä¸€ä¸ªé•¿é•¿çš„ä¸€ç»´å‘é‡ï¼Œè¿™ä¼šç ´åå›¾åƒå›ºæœ‰çš„ç©ºé—´ç»“æ„ï¼ˆæ¯”å¦‚ï¼Œå“ªäº›åƒç´ æ˜¯ç›¸é‚»çš„ï¼‰ã€‚\r\nCNNä¸“é—¨ä¸ºå¤„ç†åƒå›¾åƒè¿™æ ·çš„ç½‘æ ¼çŠ¶æ•°æ®è€Œè®¾è®¡ã€‚å®ƒä¸å…³æ³¨å•ä¸ªåƒç´ ï¼Œè€Œæ˜¯é€šè¿‡â€œå·ç§¯æ ¸â€æ¥è§‚å¯Ÿå±€éƒ¨åŒºåŸŸï¼Œå¯»æ‰¾å¹¶è¯†åˆ«åƒè¾¹ç¼˜ã€è§’ç‚¹ã€çº¹ç†è¿™æ ·çš„å±€éƒ¨æ¨¡å¼ã€‚\r\nè¿™å¼ å›¾å±•ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„CNNæ¶æ„ï¼Œä»å·¦åˆ°å³å¤„ç†ä¸€å¼ æ±½è½¦å›¾ç‰‡ï¼š\r\n\r\nè¾“å…¥ (Input):\r\n\r\nå·¦ä¾§çš„æ±½è½¦å›¾ç‰‡ã€‚\r\n\r\nç‰¹å¾æå–éƒ¨åˆ† (å¤šä¸ªCONV RELU\r\nPOOLæ¨¡å—):\r\n\r\nè¿™ä¸€é•¿ä¸²çš„æ¨¡å—æ˜¯CNNçš„ç²¾é«“ï¼Œè´Ÿè´£ä»å›¾åƒä¸­é€å±‚æå–ç‰¹å¾ã€‚\r\nCONV (å·ç§¯å±‚):\r\n\r\nè¿™æ˜¯CNNçš„æ ¸å¿ƒã€‚å®ƒä½¿ç”¨è®¸å¤šå°çš„â€œæ»¤æ³¢å™¨â€æˆ–â€œå·ç§¯æ ¸â€ï¼ˆå¯ä»¥æƒ³è±¡æˆä¸€ä¸ªä¸ªå°å°çš„æ”¾å¤§é•œï¼‰åœ¨æ•´ä¸ªå›¾åƒä¸Šæ»‘åŠ¨ã€‚\r\næ¯ä¸ªæ»¤æ³¢å™¨ä¸“é—¨è´Ÿè´£æ£€æµ‹ä¸€ç§ç‰¹å®šçš„å±€éƒ¨ç‰¹å¾ã€‚\r\nå·ç§¯å±‚å¤„ç†å®Œåï¼Œä¼šè¾“å‡ºä¸€ç³»åˆ—â€œç‰¹å¾å›¾â€ï¼ˆFeature\r\nMapsï¼‰ï¼Œä¹Ÿå°±æ˜¯å›¾ä¸­é‚£äº›å°å°çš„é»‘ç™½å›¾ç‰‡ã€‚æ¯ä¸€å¼ ç‰¹å¾å›¾éƒ½æ˜¾ç¤ºäº†å®ƒæ‰€å¯¹åº”çš„é‚£ä¸ªç‰¹å®šç‰¹å¾åœ¨åŸå›¾çš„å“ªäº›ä½ç½®å‡ºç°äº†ã€‚\r\n\r\nRELU (æ¿€æ´»å‡½æ•°):\r\n\r\nå’Œæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ä¸€æ ·ï¼Œå®ƒåœ¨å·ç§¯æ“ä½œåå¢åŠ éçº¿æ€§ï¼Œå¢å¼ºç½‘ç»œçš„è¡¨è¾¾èƒ½åŠ›ã€‚\r\n\r\nPOOL (æ± åŒ–å±‚):\r\n\r\nä¸»è¦ä½œç”¨æ˜¯é™é‡‡æ ·æˆ–å‹ç¼©ç‰¹å¾å›¾çš„å°ºå¯¸ã€‚æœ€å¸¸è§çš„æ˜¯â€œæœ€å¤§æ± åŒ–â€ï¼ˆMax\r\nPoolingï¼‰ï¼Œå®ƒåœ¨ä¸€ä¸ªå°çª—å£ï¼ˆæ¯”å¦‚2x2åŒºåŸŸï¼‰å†…åªä¿ç•™æœ€å¤§çš„é‚£ä¸ªå€¼ã€‚\r\nå¥½å¤„ï¼š 1. å‡å°‘è®¡ç®—é‡ï¼› 2.\r\nè®©æ¨¡å‹å¯¹ç‰¹å¾åœ¨å›¾åƒä¸­çš„å¾®å°ä½ç½®å˜åŒ–ä¸é‚£ä¹ˆæ•æ„Ÿï¼Œå¢å¼ºæ¨¡å‹çš„é²æ£’æ€§ã€‚\r\n\r\n\r\nåˆ†ç±»éƒ¨åˆ† (FCå±‚):\r\n\r\nFC (å…¨è¿æ¥å±‚ - Fully Connected Layer):\r\n\r\nåœ¨ç»è¿‡å¤šè½®â€œå·ç§¯-æ¿€æ´»-æ± åŒ–â€çš„ç‰¹å¾æå–åï¼Œæœ€ç»ˆå¾—åˆ°çš„å¤æ‚çš„ç‰¹å¾å›¾ä¼šè¢«â€œå‹å¹³â€æˆä¸€ä¸ªé•¿é•¿çš„ä¸€ç»´å‘é‡ã€‚\r\nè¿™ä¸ªå‘é‡éšåè¢«é€å…¥ä¸€ä¸ªæˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†çš„æ™®é€šMLPï¼ˆå…¨è¿æ¥å±‚å°±æ˜¯MLPï¼‰ä¸­ã€‚\r\nè¿™ä¸ªMLPè´Ÿè´£æ ¹æ®æå–å‡ºçš„é«˜çº§ç‰¹å¾ï¼Œè¿›è¡Œæœ€ç»ˆçš„åˆ†ç±»æˆ–å†³ç­–ã€‚\r\n\r\n\r\nè¾“å‡º (Output):\r\n\r\nç½‘ç»œçš„æœ€åä¸€å±‚è¾“å‡ºå¯¹æ¯ä¸ªç±»åˆ«çš„è¯„åˆ†ã€‚å›¾ä¸­ï¼Œ\"car\"ï¼ˆæ±½è½¦ï¼‰è¿™ä¸ªç±»åˆ«çš„å¾—åˆ†æœ€é«˜ï¼Œå› æ­¤ç½‘ç»œæ­£ç¡®åœ°è¯†åˆ«å‡ºäº†å›¾ç‰‡å†…å®¹ã€‚\r\n\r\n\r\n\n    ä¼˜åŒ– ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\nå¥½çš„ï¼Œè¿™å¼ å›¾è®²è§£çš„æ˜¯ä¼˜åŒ–ï¼ˆOptimizationï¼‰ï¼Œå³åœ¨å®é™…ä¸­æˆ‘ä»¬å¦‚ä½•è°ƒæ•´ç¥ç»ç½‘ç»œçš„å‚æ•°ï¼ˆÎ¸ï¼‰æ¥è®©å®ƒçš„è¡¨ç°å˜å¾—æ›´å¥½ã€‚\r\n1. è¿™æ˜¯ä¸€ä¸ªéå‡¸é—®é¢˜ (Non-convex problem)\r\n\r\nå«ä¹‰ï¼š\r\nç¥ç»ç½‘ç»œçš„æŸå¤±å‡½æ•°ï¼ˆæˆ‘ä»¬è¦æœ€å°åŒ–çš„é‚£ä¸ªè¯¯å·®å‡½æ•°ï¼‰é€šå¸¸æ˜¯ä¸€ä¸ªéå‡¸å‡½æ•°ã€‚\r\nç›´è§‚ç†è§£ï¼š\r\n\r\nå‡¸é—®é¢˜ï¼šåƒä¸€ä¸ªå…‰æ»‘çš„ç¢—ã€‚æ— è®ºä½ ä»ç¢—çš„å“ªé‡Œå¼€å§‹ï¼Œåªè¦ä¸€ç›´å¾€ä¸‹èµ°ï¼Œæœ€ç»ˆæ€»èƒ½åˆ°è¾¾å”¯ä¸€çš„æœ€ä½ç‚¹ï¼ˆå…¨å±€æœ€ä¼˜è§£ï¼‰ã€‚\r\néå‡¸é—®é¢˜ï¼šåƒä¸€ä¸ªå‘å‘æ´¼æ´¼ã€æœ‰è®¸å¤šå±±è°·å’Œå±±å³°çš„å¤æ‚åœ°å½¢ã€‚ä½ å¾ˆå®¹æ˜“é¡ºç€å¡èµ°åˆ°æŸä¸€ä¸ªå±±è°·çš„è°·åº•ï¼ˆä¸€ä¸ªå±€éƒ¨æœ€ä¼˜è§£ï¼‰ï¼Œä½†è¿™ä¸ªè°·åº•ä¸ä¸€å®šæ˜¯æ•´ä¸ªåœ°å½¢çš„æœ€ä½ç‚¹ã€‚\r\n\r\nGradient-based methods are surprisingly effective\r\n\r\nå«ä¹‰ï¼š\r\nå°½ç®¡ç†è®ºä¸Šå­˜åœ¨ä¼šå¡åœ¨â€œå±€éƒ¨æœ€ä¼˜â€çš„é£é™©ï¼Œä½†åœ¨å®è·µä¸­ï¼ŒåŸºäºæ¢¯åº¦çš„æ–¹æ³•ï¼ˆæ¯”å¦‚æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„æ¢¯åº¦ä¸‹é™ï¼‰åœ¨è®­ç»ƒå¤§å‹ç¥ç»ç½‘ç»œæ—¶å‡ºå¥‡åœ°æœ‰æ•ˆã€‚è¿™è‡³ä»Šä»ç„¶æ˜¯æ·±åº¦å­¦ä¹ ç ”ç©¶ä¸­çš„ä¸€ä¸ªçƒ­é—¨è¯é¢˜ã€‚\r\n\r\n\r\n2. å¦‚ä½•è®¡ç®—æ¢¯åº¦ (How to Compute Gradients)\r\n\r\nMinibatch stochastic gradients instead of full gradient\r\n\r\nå«ä¹‰ï¼š\r\næˆ‘ä»¬ä¸ä½¿ç”¨æ•´ä¸ªæ•°æ®é›†æ¥è®¡ç®—æ¢¯åº¦ï¼Œè€Œæ˜¯ä½¿ç”¨â€œå°æ‰¹é‡éšæœºæ¢¯åº¦â€ã€‚\r\nå¯¹æ¯”ä¸‰ç§æ–¹å¼ï¼š\r\n\r\nFull Gradient (æ‰¹é‡æ¢¯åº¦ä¸‹é™):\r\nç”¨å…¨éƒ¨è®­ç»ƒæ•°æ®è®¡ç®—ä¸€æ¬¡æ¢¯åº¦ã€‚ä¼˜ç‚¹æ˜¯æ–¹å‘å‡†ï¼Œç¼ºç‚¹æ˜¯æ•°æ®é‡å¤§æ—¶è®¡ç®—æå…¶ç¼“æ…¢ï¼Œå†…å­˜å¼€é”€å¤§ã€‚\r\nStochastic Gradient (éšæœºæ¢¯åº¦ä¸‹é™):\r\néšæœºé€‰ä¸€ä¸ªæ•°æ®ç‚¹è®¡ç®—ä¸€æ¬¡æ¢¯åº¦ã€‚ä¼˜ç‚¹æ˜¯é€Ÿåº¦é£å¿«ï¼Œç¼ºç‚¹æ˜¯æ–¹å‘å¾ˆä¸ç¨³å®šã€‚\r\nMinibatch Gradient (å°æ‰¹é‡æ¢¯åº¦ä¸‹é™):\r\nè¿™æ˜¯ä¸¤è€…çš„æŠ˜ä¸­ï¼Œä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„æ–¹æ³•ã€‚æˆ‘ä»¬ä¸€æ¬¡ç”¨ä¸€å°æ‰¹æ•°æ®ï¼ˆå¦‚32,\r\n64,\r\n256ä¸ªæ ·æœ¬ï¼‰æ¥è®¡ç®—æ¢¯åº¦ã€‚è¿™æ ·æ—¢ä¿è¯äº†è®¡ç®—æ•ˆç‡ï¼Œåˆä½¿å¾—æ¢¯åº¦çš„æ–¹å‘ç›¸å¯¹ç¨³å®šã€‚\r\n\r\n\r\n\r\n3. æ¢¯åº¦çš„è‡ªåŠ¨è®¡ç®— (Automatic Differentiation)\r\n\r\nGradient calculation done by Automatic differentiation\r\n\r\nå«ä¹‰ï¼š\r\nåƒç¥ç»ç½‘ç»œè¿™ä¹ˆå¤æ‚çš„å‡½æ•°ï¼Œå®ƒçš„æ¢¯åº¦å…¬å¼æ‰‹ç®—æ˜¯å®Œå…¨ä¸ç°å®çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œè®¡ç®—æœºå¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨å®Œæˆã€‚\r\n\r\nLearn backpropagation (å­¦ä¹ åå‘ä¼ æ’­ç®—æ³•)\r\n\r\nåå‘ä¼ æ’­ (Backpropagation)\r\næ˜¯å®ç°è‡ªåŠ¨å¾®åˆ†çš„æ ¸å¿ƒç®—æ³•ã€‚å®ƒåˆ©ç”¨å¾®ç§¯åˆ†ä¸­çš„â€œé“¾å¼æ³•åˆ™â€ï¼Œä»ç½‘ç»œçš„è¾“å‡ºå±‚å¼€å§‹ï¼Œä¸€å±‚ä¸€å±‚åœ°å‘åè®¡ç®—å‡ºæŸå¤±å‡½æ•°ç›¸å¯¹äºç½‘ç»œä¸­æ¯ä¸€ä¸ªå‚æ•°ï¼ˆæƒé‡ï¼‰çš„æ¢¯åº¦ã€‚å®ƒæ˜¯è®­ç»ƒç¥ç»ç½‘ç»œçš„å¼•æ“ã€‚\r\n\r\nUse a deep learning framework...\r\n\r\nå«ä¹‰ï¼š\r\nåœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå·±ä»é›¶å¼€å§‹å†™åå‘ä¼ æ’­ç®—æ³•ã€‚åƒ\r\nTensorflow, PyTorch\r\nè¿™æ ·çš„æ·±åº¦å­¦ä¹ æ¡†æ¶å·²ç»å†…ç½®äº†è‡ªåŠ¨å¾®åˆ†åŠŸèƒ½ã€‚æˆ‘ä»¬åªéœ€è¦è´Ÿè´£æ­å»ºç¥ç»ç½‘ç»œï¼ˆå‰å‘ä¼ æ’­ï¼‰ï¼Œæ¡†æ¶ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è®¡ç®—æ‰€æœ‰æ¢¯åº¦ã€‚\r\n\r\n\r\n4. æœ€å¸¸ç”¨çš„ä¼˜åŒ–å™¨ (Most Common Optimizers)\r\n\r\nSGD + Momentum + Preconditioning\r\n\r\nå«ä¹‰ï¼š\r\næœ´ç´ çš„ï¼ˆå°æ‰¹é‡ï¼‰éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆSGDï¼‰è™½ç„¶èƒ½ç”¨ï¼Œä½†é€šå¸¸æˆ‘ä»¬ä¼šä½¿ç”¨ä¸€äº›æ›´é«˜çº§çš„â€œä¼˜åŒ–å™¨â€æ¥åŠ é€Ÿå’Œç¨³å®šè®­ç»ƒè¿‡ç¨‹ã€‚\r\nMomentum (åŠ¨é‡):\r\n\r\næ€æƒ³ï¼š\r\næ¨¡æ‹Ÿä¸€ä¸ªä»å±±ä¸Šæ»šä¸‹æ¥çš„çƒã€‚è¿™ä¸ªçƒä¸ä»…å—å½“å‰å¡åº¦çš„å½±å“ï¼Œè¿˜å¸¦æœ‰è‡ªèº«çš„æƒ¯æ€§ã€‚è¿™å¯ä»¥å¸®åŠ©å®ƒå†²è¿‡ä¸€äº›å°çš„é¢ ç°¸ï¼ˆå±€éƒ¨æœ€ä¼˜ï¼‰ï¼Œå¹¶ä¸”åœ¨å¡åº¦æ–¹å‘ä¸€è‡´çš„åŒºåŸŸåŠ é€Ÿä¸‹é™ã€‚\r\n\r\nPreconditioning (æˆ–ç§° Adaptive Learning Rates, è‡ªé€‚åº”å­¦ä¹ ç‡):\r\n\r\næ€æƒ³ï¼š\r\nä¸ºç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªå‚æ•°è®¾ç½®ä¸åŒçš„ã€å¯è‡ªé€‚åº”è°ƒæ•´çš„å­¦ä¹ ç‡ã€‚æ¯”å¦‚ï¼Œå¯¹äºä¸ç»å¸¸æ›´æ–°çš„å‚æ•°ï¼Œæˆ‘ä»¬ç»™ä¸€ä¸ªè¾ƒå¤§çš„å­¦ä¹ ç‡ï¼›å¯¹äºé¢‘ç¹æ›´æ–°çš„å‚æ•°ï¼Œæˆ‘ä»¬ç»™ä¸€ä¸ªè¾ƒå°çš„å­¦ä¹ ç‡ã€‚\r\n\r\n\r\nTry RMSProp, Adam, Adamax...\r\n\r\nè¿™äº›å°±æ˜¯é›†æˆäº†ä¸Šè¿°æ€æƒ³çš„æµè¡Œä¼˜åŒ–å™¨ç®—æ³•çš„åå­—ã€‚\r\nAdam (Adaptive Moment Estimation)\r\næ˜¯ç›®å‰æœ€å¸¸ç”¨ã€æœ€å—æ¬¢è¿çš„ä¼˜åŒ–å™¨ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒåŒæ—¶ç»“åˆäº†åŠ¨é‡å’Œè‡ªé€‚åº”å­¦ä¹ ç‡çš„ä¼˜ç‚¹ï¼Œé€šå¸¸èƒ½å¿«é€Ÿä¸”ç¨³å®šåœ°å¾—åˆ°å¥½ç»“æœã€‚åœ¨ä¸ç¡®å®šç”¨ä»€ä¹ˆä¼˜åŒ–å™¨æ—¶ï¼ŒAdamé€šå¸¸æ˜¯ä¸€ä¸ªä¼˜ç§€çš„é¦–é€‰é¡¹ã€‚\r\n\r\n\r\n\n    \n  \r\nDeep Q Networks(DQN)\r\n\r\næµç¨‹\r\n\r\nå¥½çš„ï¼Œä¸Šå›¾å±•ç¤ºçš„æ˜¯åˆ™æ˜¯DQNè®­ç»ƒç®—æ³•çš„æµç¨‹ã€‚\r\nè¿™ä¸ªç®—æ³•çš„æ ¸å¿ƒæ˜¯åœ¨æˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„è¿‘ä¼¼Qå­¦ä¹ çš„åŸºç¡€ä¸Šï¼ŒåŠ å…¥äº†ä¸¤ä¸ªå…³é”®çš„åˆ›æ–°ç‚¹ï¼šç»éªŒå›æ”¾\r\n(Experience Replay) å’Œ å›ºå®šQç›®æ ‡ (Fixed\r\nQ-Targets)ï¼Œä¹Ÿå«ç›®æ ‡ç½‘ç»œã€‚\r\nåˆå§‹åŒ–é˜¶æ®µ\r\n\r\nInitialize replay memory D to capacity N\r\n\r\nå«ä¹‰ï¼š\r\nåˆå§‹åŒ–ä¸€ä¸ªå›ºå®šå®¹é‡ä¸ºNçš„â€œç»éªŒå›æ”¾æ± â€\r\nDã€‚è¿™ä¸ªNå¯ä»¥å¾ˆå¤§ï¼Œæ¯”å¦‚100ä¸‡ã€‚\r\nä½œç”¨ (ç»éªŒå›æ”¾):\r\nè¿™æ˜¯DQNçš„ç¬¬ä¸€ä¸ªå…³é”®åˆ›æ–°ã€‚æ™ºèƒ½ä½“ä¸å†æ˜¯â€œç°å­¦ç°å–â€ï¼ˆç”¨å®Œä¸€ä¸ªç»éªŒå°±æ‰”æ‰ï¼‰ï¼Œè€Œæ˜¯æŠŠç»å†è¿‡çš„æ‰€æœ‰äº‹æƒ…ï¼ˆçŠ¶æ€ã€åŠ¨ä½œã€å¥–åŠ±ç­‰ï¼‰éƒ½å­˜åˆ°è¿™ä¸ªæ± å­é‡Œã€‚å­¦ä¹ çš„æ—¶å€™ï¼Œéšæœºä»æ± å­é‡ŒæŠ½å–ä¸€å°æ‰¹ç»éªŒæ¥å­¦ä¹ ã€‚\r\n\r\nInitialize action-value function Q with random weights Î¸\r\n\r\nå«ä¹‰ï¼š\r\nåˆå§‹åŒ–æˆ‘ä»¬ä¸»è¦çš„Qç½‘ç»œï¼Œä¹Ÿå«â€œåœ¨çº¿ç½‘ç»œâ€ï¼ˆOnline\r\nNetworkï¼‰ï¼Œå…¶å‚æ•°ä¸º Î¸ã€‚\r\n\r\nInitialize target action-value function Q_hat with weights Î¸â» = Î¸\r\n\r\nå«ä¹‰ï¼š\r\nåˆ›å»ºä¸€ä¸ªç»“æ„å®Œå…¨ç›¸åŒï¼Œå‚æ•°ä¹Ÿå®Œå…¨ä¸€æ ·çš„â€œç›®æ ‡ç½‘ç»œâ€ï¼ˆTarget\r\nNetworkï¼‰ã€‚\r\nä½œç”¨ (å›ºå®šQç›®æ ‡):\r\nè¿™æ˜¯DQNçš„ç¬¬äºŒä¸ªå…³é”®åˆ›æ–°ã€‚åœ¨ä¹‹å‰çš„ç®—æ³•ä¸­ï¼Œè®¡ç®—ç›®æ ‡å€¼yå’Œè®¡ç®—é¢„æµ‹å€¼éƒ½ç”¨çš„æ˜¯åŒä¸€ä¸ªç½‘ç»œQï¼Œè¿™ç›¸å½“äºâ€œè¿½é€ä¸€ä¸ªç§»åŠ¨çš„ç›®æ ‡â€ï¼Œä¼šå¯¼è‡´è®­ç»ƒéå¸¸ä¸ç¨³å®šã€‚DQNç”¨è¿™ä¸ªç‹¬ç«‹çš„ã€å‚æ•°è¢«â€œå†»ç»“â€çš„ç›®æ ‡ç½‘ç»œæ¥è®¡ç®—ç›®æ ‡å€¼ï¼Œä½¿å¾—å­¦ä¹ ç›®æ ‡åœ¨ä¸€æ®µæ—¶é—´å†…æ˜¯å›ºå®šçš„ï¼Œä»è€Œå¤§å¤§å¢åŠ äº†è®­ç»ƒçš„ç¨³å®šæ€§ã€‚\r\n\r\n\r\nä¸»è®­ç»ƒå¾ªç¯\r\n\r\nFor episode = 1, M do /\r\nFor t = 1, T do:\r\nå¯¹æ¯ä¸€episodeä¸­çš„æ¯ä¸€æ­¥è¿›è¡Œå¾ªç¯ã€‚\r\nä¸ç¯å¢ƒäº¤äº’\r\n\r\né€‰æ‹©åŠ¨ä½œ:\r\nä½¿ç”¨åœ¨çº¿ç½‘ç»œQå’ŒÎµ-greedyç­–ç•¥é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œã€‚\r\næ‰§è¡ŒåŠ¨ä½œ: åœ¨ç¯å¢ƒä¸­æ‰§è¡ŒåŠ¨ä½œï¼Œå¾—åˆ°å¥–åŠ±å’Œä¸‹ä¸€å¸§å›¾åƒã€‚\r\nå­˜å‚¨ç»éªŒ: å°†è¿™æ¬¡çš„å®Œæ•´ç»éªŒ\r\n(å½“å‰çŠ¶æ€, åŠ¨ä½œ, å¥–åŠ±, ä¸‹ä¸€çŠ¶æ€)\r\nå­˜å…¥ç»éªŒå›æ”¾æ± Dä¸­ã€‚\r\n\r\nä»ç»éªŒä¸­å­¦ä¹ \r\n\r\né‡‡æ ·:\r\nä»ç»éªŒæ± Dä¸­éšæœºæŠ½å–ä¸€å°æ‰¹ï¼ˆminibatchï¼‰ç»éªŒã€‚\r\nè®¡ç®—ç›®æ ‡å€¼y:å¯¹æŠ½æ ·å‡ºçš„æ¯ä¸€æ¡ç»éªŒï¼Œä½¿ç”¨ç›®æ ‡ç½‘ç»œ\r\næ¥è®¡ç®—ç›®æ ‡å€¼  ã€‚\r\n\r\nâ»\r\næ³¨æ„ï¼š è¿™é‡Œç”¨çš„æ˜¯å‚æ•°ä¸º Î¸â»\r\nçš„ç›®æ ‡ç½‘ç»œï¼Œå®ƒçš„å‚æ•°æ˜¯æ—§çš„ã€è¢«å†»ç»“çš„ï¼Œæ‰€ä»¥y_jçš„å€¼æ˜¯ç¨³å®šçš„ã€‚\r\n\r\næ‰§è¡Œæ¢¯åº¦ä¸‹é™:\r\n\r\nè®¡ç®—â€œç›®æ ‡å€¼â€å’Œâ€œåœ¨çº¿ç½‘ç»œQçš„é¢„æµ‹å€¼â€ä¹‹é—´çš„è¯¯å·®ã€‚\r\næ ¹æ®è¿™ä¸ªè¯¯å·®ï¼Œè®¡ç®—æ¢¯åº¦å¹¶æ›´æ–°åœ¨çº¿ç½‘ç»œçš„å‚æ•°Î¸ã€‚\r\n\r\n\r\næ›´æ–°ç›®æ ‡ç½‘ç»œ \r\n\r\nEvery C steps reset Q_hat = Q:\r\næ¯éš”Cä¸ªè®­ç»ƒæ­¥ï¼ˆæ¯”å¦‚10000æ­¥ï¼‰ï¼Œæ‰æŠŠåœ¨çº¿ç½‘ç»œçš„æœ€æ–°å‚æ•°Î¸å¤åˆ¶ç»™ç›®æ ‡ç½‘ç»œï¼Œæ›´æ–°Î¸â»ã€‚è¿™ç¡®ä¿äº†ç›®æ ‡ç½‘ç»œåœ¨å¤§éƒ¨åˆ†æ—¶é—´å†…æ˜¯ç¨³å®šçš„ï¼Œåªè¿›è¡Œå‘¨æœŸæ€§çš„æ›´æ–°ã€‚\r\n\r\n\r\nç»†èŠ‚\r\n\r\n1. ä½¿ç”¨HuberæŸå¤±å‡½æ•° (Huber Loss)\r\nDQNåœ¨è®¡ç®—è¯¯å·®æ—¶ï¼Œæ²¡æœ‰ä½¿ç”¨æˆ‘ä»¬ä¹‹å‰æåˆ°çš„ç®€å•å¹³æ–¹æŸå¤±\r\n(error)Â²ï¼Œè€Œæ˜¯ä½¿ç”¨äº†HuberæŸå¤±ã€‚\r\n\r\nå®ƒæ˜¯ä»€ä¹ˆï¼Ÿ\r\nHuberæŸå¤±æ˜¯ä¸€ä¸ªâ€œæ··åˆâ€æŸå¤±å‡½æ•°ï¼Œç»“åˆäº†å¹³æ–¹æŸå¤±å’Œç»å¯¹å€¼æŸå¤±çš„ä¼˜ç‚¹ã€‚\r\n\r\nå½“è¯¯å·®aï¼ˆå³\r\ny - Q(s,a)ï¼‰å¾ˆå°æ—¶ï¼ˆâˆ£aâˆ£â‰¤Î´ï¼‰ï¼Œå®ƒçš„è®¡ç®—æ–¹å¼å’Œå¹³æ–¹æŸå¤±ä¸€æ ·ã€‚\r\nå½“è¯¯å·®aå¾ˆå¤§æ—¶ï¼ˆâˆ£aâˆ£&gt;Î´ï¼‰ï¼Œå®ƒçš„è®¡ç®—æ–¹å¼å˜ä¸ºçº¿æ€§å¢é•¿ï¼Œç±»ä¼¼äºç»å¯¹å€¼æŸå¤±ã€‚\r\n\r\nä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ\r\nåœ¨å¼ºåŒ–å­¦ä¹ çš„åˆæœŸï¼ŒQç½‘ç»œçš„é¢„æµ‹å¯èƒ½éå¸¸ä¸å‡†ï¼Œå¯¼è‡´è®¡ç®—å‡ºçš„è¯¯å·®aéå¸¸å¤§ã€‚å¦‚æœä½¿ç”¨å¹³æ–¹æŸå¤±ï¼Œè¿™ä¸ªå·¨å¤§çš„è¯¯å·®ä¼šè¢«å¹³æ–¹ï¼Œå¯¼è‡´ä¸€ä¸ªæå…¶å¤¸å¼ çš„æ¢¯åº¦ï¼Œå¯èƒ½ä½¿ç½‘ç»œæ›´æ–°â€œè·‘åâ€ï¼Œè®©è®­ç»ƒå˜å¾—éå¸¸ä¸ç¨³å®šã€‚HuberæŸå¤±å¯¹è¿™ç§å¤§çš„â€œç¦»è°±â€è¯¯å·®æƒ©ç½šæ›´æ¸©å’Œï¼ˆçº¿æ€§å¢é•¿è€Œéå¹³æ–¹å¢é•¿ï¼‰ï¼Œä»è€Œè®©è®­ç»ƒè¿‡ç¨‹å¯¹å¼‚å¸¸å€¼ä¸é‚£ä¹ˆæ•æ„Ÿï¼Œæ•´ä½“æ›´åŠ ç¨³å®šã€é²æ£’ã€‚\r\n\r\n2. ä½¿ç”¨RMSPropä¼˜åŒ–å™¨\r\nDQNä½¿ç”¨äº†RMSPropä¼˜åŒ–å™¨ï¼Œè€Œä¸æ˜¯åŸºç¡€çš„éšæœºæ¢¯åº¦ä¸‹é™ï¼ˆvanilla\r\nSGDï¼‰ã€‚\r\n\r\nå®ƒæ˜¯ä»€ä¹ˆï¼Ÿ\r\nRMSPropæ˜¯ä¸€ç§è‡ªé€‚åº”å­¦ä¹ ç‡çš„ä¼˜åŒ–å™¨ã€‚å®ƒä¼šä¸ºç½‘ç»œä¸­çš„æ¯ä¸€ä¸ªå‚æ•°ç‹¬ç«‹åœ°è°ƒæ•´å­¦ä¹ ç‡ã€‚\r\nä¸ºä»€ä¹ˆä½¿ç”¨å®ƒï¼Ÿ\r\né€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ä¼˜åŒ–å™¨å¯¹å¼ºåŒ–å­¦ä¹ è‡³å…³é‡è¦ã€‚åƒRMSPropè¿™æ ·çš„è‡ªé€‚åº”ä¼˜åŒ–å™¨é€šå¸¸æ¯”åŸºç¡€çš„SGDæ”¶æ•›å¾—æ›´å¿«ã€æ›´ç¨³å®šï¼Œèƒ½æ›´å¥½åœ°å¤„ç†å¼ºåŒ–å­¦ä¹ ä¸­å¥–åŠ±ç¨€ç–ã€æ¢¯åº¦å˜åŒ–å¤§çš„é—®é¢˜ã€‚\r\n\r\n3. æ¢ç´¢ç‡é€€ç« (Anneal the exploration rate)\r\nè¿™é‡Œæè¿°äº†DQNä¸­ Îµ-greedy\r\nç­–ç•¥çš„Îµå€¼æ˜¯å¦‚ä½•éšæ—¶é—´å˜åŒ–çš„ï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšâ€œé€€ç«â€ã€‚\r\n\r\nå®ƒæ˜¯ä»€ä¹ˆï¼Ÿ\r\nâ€œé€€ç«â€æ„å‘³ç€Îµçš„å€¼ä¼šéšç€è®­ç»ƒçš„è¿›è¡Œè€Œé€æ¸å‡å°ã€‚\r\nå…·ä½“ç­–ç•¥ï¼š\r\n\r\nè®­ç»ƒå¼€å§‹æ—¶ï¼Œè®¾ç½® Îµ = 1ã€‚\r\nåœ¨è®­ç»ƒçš„å‰ä¸€ç™¾ä¸‡æ­¥å†…ï¼Œå°†Îµçš„å€¼çº¿æ€§åœ°ä»1é€æ¸é™ä½åˆ°ä¸€ä¸ªå¾ˆå°çš„å€¼ï¼Œæ¯”å¦‚0.1æˆ–0.05ã€‚\r\nä¹‹åï¼ŒÎµä¿æŒåœ¨è¿™ä¸ªå°å€¼ä¸Šã€‚\r\n\r\nä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ\r\nè¿™æ˜¯ä¸€ç§ç»å…¸çš„â€œå…ˆæ¢ç´¢ï¼Œååˆ©ç”¨â€çš„ç­–ç•¥ã€‚\r\n\r\nåˆæœŸ (Îµ = 1)ï¼š\r\næ­¤æ—¶æ™ºèƒ½ä½“å¯¹ç¯å¢ƒä¸€æ— æ‰€çŸ¥ï¼ŒQå€¼æ˜¯éšæœºçš„ã€‚è®¾ç½®Îµ = 1æ„å‘³ç€å®ƒä¼šå®Œå…¨éšæœºåœ°è¡ŒåŠ¨ï¼Œä»è€Œæœ€å¤§åŒ–åœ°æ¢ç´¢ç¯å¢ƒï¼Œæ”¶é›†å¤šæ ·åŒ–çš„ç»éªŒã€‚\r\nåæœŸ (Îµ = 0.1):\r\néšç€å­¦ä¹ çš„è¿›è¡Œï¼Œæ™ºèƒ½ä½“çš„Qå‡½æ•°è¶Šæ¥è¶Šå‡†ç¡®ã€‚é™ä½Îµçš„å€¼ï¼Œä½¿å¾—å®ƒæ›´å¤šåœ°åˆ©ç”¨å·²å­¦åˆ°çš„çŸ¥è¯†æ¥é€‰æ‹©æœ€ä¼˜åŠ¨ä½œï¼Œè€Œä¸æ˜¯éšæœºä¹±æ’ã€‚ä¿ç•™ä¸€ä¸ªå¾ˆå°çš„Îµå€¼æ˜¯ä¸ºäº†ç¡®ä¿æ™ºèƒ½ä½“æ°¸ä¸åœæ­¢æ¢ç´¢ï¼Œä»¥é˜²å½“å‰ç­–ç•¥å¹¶éå®Œç¾ã€‚\r\n\r\n\r\n\n    DQNç¤ºä¾‹-ATARI ç‚¹å‡»å±•å¼€æŸ¥çœ‹ \n    \n      \r\n\r\n\r\n\n    \n  \r\næ”¹è¿›\r\n1. åŒé‡æ·±åº¦Qç½‘ç»œ (Double DQN, DDQN)\r\n\r\nDQNçš„é—®é¢˜ï¼šè¿‡åº¦ä¼°è®¡ (Overestimation)\r\n\r\nThere is an upward bias in max Q(s, a; Î¸)\r\n\r\né—®é¢˜ï¼š\r\næ ‡å‡†çš„DQNç®—æ³•åœ¨è®¡ç®—ç›®æ ‡å€¼æ—¶ï¼Œå­˜åœ¨ä¸€ä¸ªç³»ç»Ÿæ€§çš„â€œè¿‡åº¦ä¼°è®¡åå·®â€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå€¾å‘äºé«˜ä¼°åŠ¨ä½œçš„Qå€¼ã€‚\r\nåŸå› ï¼š åœ¨è®¡ç®—ç›®æ ‡å€¼ â»\r\næ—¶ï¼Œmaxæ“ä½œä¼šé€‰æ‹©å¹¶è¯„ä¼°ä¸‹ä¸€çŠ¶æ€ä¸­Qå€¼æœ€å¤§çš„é‚£ä¸ªåŠ¨ä½œã€‚å¦‚æœæŸä¸ªåŠ¨ä½œçš„Qå€¼å› ä¸ºéšæœºè¯¯å·®è€Œè¢«å¶ç„¶é«˜ä¼°äº†ï¼Œmaxæ“ä½œå°±ä¼šé€‰ä¸­å®ƒï¼Œå¯¼è‡´è¿™ä¸ªè¢«é«˜ä¼°çš„å€¼è¢«ç”¨äºè®¡ç®—ç›®æ ‡yã€‚è¿™ç§æœºåˆ¶ä¼šç³»ç»Ÿæ€§åœ°å°†Qå€¼è¶Šæ¨è¶Šé«˜ï¼Œä½¿å…¶åç¦»çœŸå®å€¼ï¼Œå½±å“ç­–ç•¥çš„è´¨é‡ã€‚\r\n\r\n\r\nDouble DQNçš„è§£å†³æ–¹æ¡ˆï¼šè§£è€¦â€œé€‰æ‹©â€ä¸â€œè¯„ä¼°â€\r\nDouble\r\nDQNçš„æ ¸å¿ƒæ€æƒ³éå¸¸å·§å¦™ï¼šå°†â€œé€‰æ‹©æœ€ä½³åŠ¨ä½œâ€å’Œâ€œè¯„ä¼°è¯¥åŠ¨ä½œçš„ä»·å€¼â€è¿™ä¸¤ä¸ªæ­¥éª¤åˆ†ç¦»å¼€ï¼Œä½¿ç”¨ä¸åŒçš„ç½‘ç»œæ¥æ‰§è¡Œã€‚\r\n\r\nÎ¸ for selecting the best action\r\n\r\nä½¿ç”¨åœ¨çº¿ç½‘ç»œ (Online\r\nNetwork)ï¼Œä¹Ÿå°±æ˜¯å‚æ•°ä¸ºÎ¸çš„é‚£ä¸ªç½‘ç»œï¼Œæ¥é€‰æ‹©ä¸‹ä¸€çŠ¶æ€s'ä¸­å“ªä¸ªåŠ¨ä½œæ˜¯æœ€å¥½çš„ã€‚\r\n\r\nÎ¸â» for evaluating the best action\r\n\r\nä½¿ç”¨ç›®æ ‡ç½‘ç»œ (Target\r\nNetwork)ï¼Œä¹Ÿå°±æ˜¯å‚æ•°ä¸ºÎ¸â»çš„é‚£ä¸ªç½‘ç»œï¼Œæ¥è¯„ä¼°ä¸Šä¸€æ­¥é€‰å‡ºçš„é‚£ä¸ªåŠ¨ä½œçš„ä»·å€¼ç©¶ç«Ÿæ˜¯å¤šå°‘ã€‚\r\n\r\n\r\nè¿™æ ·ä¸€æ¥ï¼Œå³ä½¿åœ¨çº¿ç½‘ç»œÎ¸å¯¹æŸä¸ªåŠ¨ä½œçš„ä»·å€¼äº§ç”Ÿäº†é«˜ä¼°å¹¶é€‰ä¸­äº†å®ƒï¼Œæˆ‘ä»¬ä»ç„¶ä¼šç”¨æ›´ç¨³å®šã€ç‹¬ç«‹çš„çš„ç›®æ ‡ç½‘ç»œÎ¸â»æ¥ç»™å‡ºå®ƒçš„ä»·å€¼ã€‚å› ä¸ºä¸¤ä¸ªç½‘ç»œäº§ç”Ÿç›¸åŒé«˜ä¼°çš„å¯èƒ½æ€§å¾ˆå°ï¼Œæ‰€ä»¥æ•´ä½“çš„è¿‡åº¦ä¼°è®¡åå·®å°±è¢«å¤§å¤§é™ä½äº†ã€‚\r\nDouble DQNçš„æŸå¤±å‡½æ•° (The Loss)\r\nç›®æ ‡å€¼yçš„è®¡ç®—å…¬å¼ï¼š \r\næŸå¤±å‡½æ•°åˆ™æ˜¯é€šè¿‡è®¡ç®—ç›®æ ‡å€¼å’Œé¢„æµ‹å€¼çš„å·®è·è·å¾—çš„ï¼šç›®æ ‡å€¼é¢„æµ‹å€¼\r\n2. ä¼˜å…ˆç»éªŒå›æ”¾ (Prioritized Experience Replay,\r\nPER)\r\n\r\n\r\nReplaying all transitions with equal probability is highly\r\nsuboptimal.\r\n\r\næ ‡å‡†çš„ç»éªŒå›æ”¾æœºåˆ¶ï¼ˆä»ç»éªŒæ± ä¸­å®Œå…¨éšæœºåœ°æŠ½æ ·ï¼‰æ˜¯æ¬¡ä¼˜çš„ã€‚\r\n\r\nReplay transitions in proportion to absolute Bellman error\r\n\r\næ ¸å¿ƒæ€æƒ³ï¼š\r\næˆ‘ä»¬åº”è¯¥ä¼˜å…ˆå›æ”¾é‚£äº›èƒ½è®©æˆ‘ä»¬å­¦åˆ°æœ€å¤šä¸œè¥¿çš„ç»å†ã€‚\r\nå¦‚ä½•è¡¡é‡â€œå­¦ä¹ ä»·å€¼â€ï¼Ÿ\r\nPERä½¿ç”¨TDè¯¯å·®ï¼ˆTD-errorï¼‰çš„å¤§å°æ¥è¡¡é‡ä¸€æ¬¡ç»å†çš„â€œæ„å¤–ç¨‹åº¦â€æˆ–â€œå­¦ä¹ ä»·å€¼â€ã€‚\r\nç›®æ ‡å€¼é¢„æµ‹å€¼ ç›´è§‚ç†è§£ï¼š\r\n\r\nTDè¯¯å·®å¤§ï¼š\r\næ„å‘³ç€â€œé¢„æµ‹â€å’Œâ€œå®é™…ç»“æœâ€å·®è·å¾ˆå¤§ã€‚è¿™è¯´æ˜ç»å†éå¸¸â€œå‡ºä¹æ„æ–™â€ï¼Œæ™ºèƒ½ä½“èƒ½ä»ä¸­å­¦åˆ°å¾ˆå¤šï¼Œå› æ­¤èµ‹äºˆå®ƒå¾ˆé«˜çš„ä¼˜å…ˆçº§ã€‚\r\nTDè¯¯å·®å°ï¼š\r\næ„å‘³ç€â€œé¢„æµ‹â€å’Œâ€œå®é™…ç»“æœâ€åŸºæœ¬ç›¸ç¬¦ã€‚è¿™è¯´æ˜ç»å†åœ¨é¢„æ–™ä¹‹ä¸­ï¼Œèƒ½å­¦åˆ°çš„ä¸œè¥¿ä¸å¤šï¼Œå› æ­¤èµ‹äºˆå®ƒè¾ƒä½çš„ä¼˜å…ˆçº§ã€‚\r\n\r\nå…·ä½“åšæ³•ï¼š\r\nåœ¨ä»ç»éªŒæ± ä¸­æŠ½æ ·æ—¶ï¼Œä¸å†æ˜¯å®Œå…¨éšæœºï¼Œè€Œæ˜¯æ ¹æ®è¿™ä¸ªä¼˜å…ˆçº§æ¥æŠ½æ ·ï¼Œä¼˜å…ˆçº§è¶Šé«˜çš„ç»å†è¢«æŠ½ä¸­çš„æ¦‚ç‡è¶Šå¤§ã€‚\r\nPERä¼šä½¿å­¦ä¹ æ•ˆç‡å¤§å¹…æå‡ã€‚\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"DDPG and SAC","url":"/2025/07/14/20-DeepRL_lecture5/","content":"ä¸€ã€Deep\r\nDeterministic Policy Gradient (DDPG)\r\nåŸºæœ¬æµç¨‹ï¼š\r\n\r\nRoll-outs\r\nåœ¨å½“å‰ç­–ç•¥ä¸‹æ‰§è¡Œ\r\nroll-outï¼ˆæ‰§è¡Œç­–ç•¥å¹¶é‡‡æ ·è½¨è¿¹ï¼‰ï¼ŒåŠ å…¥ä¸€äº›å™ªå£°ç”¨äºæ¢ç´¢ã€‚\r\nQ å‡½æ•°æ›´æ–°\r\næ›´æ–° Q å‡½æ•°çš„ç›®æ ‡å€¼ä¸ºï¼š\r\n\r\næœ€å°åŒ–ä»¥ä¸‹æŸå¤±å‡½æ•°ä»¥æ›´æ–° Qï¼š\r\n\r\nç­–ç•¥æ›´æ–°\r\né€šè¿‡åå‘ä¼ æ’­ Q å‡½æ•°æ¥ä¼°è®¡ç­–ç•¥æ¢¯åº¦å¹¶æ›´æ–°ç­–ç•¥å‚æ•°ï¼š\r\n\r\næŠ€æœ¯ç»†èŠ‚ï¼š\r\n\r\næ·»åŠ å™ªå£°ä¿ƒè¿›æ¢ç´¢\r\n\r\nä½¿ç”¨ replay buffer å’Œ target networkï¼ˆä» DQN\r\nä¸­å€Ÿé‰´ï¼‰ä»¥æå‡ç¨³å®šæ€§\r\n\r\nç›®æ ‡å€¼ä½¿ç”¨ Polyak-averaging çš„æ»åç‰ˆæœ¬çš„  å’Œ  è¿›è¡Œè®¡ç®—\r\n\r\n\r\næ€»ç»“ï¼š\r\n\r\nä¼˜ç‚¹ï¼šç”±äºæ˜¯ off-policyï¼Œé‡‡æ ·æ•ˆç‡é«˜\r\n\r\nç¼ºç‚¹ï¼šå®¹æ˜“ä¸ç¨³å®š\r\n\r\nè¿™ä¹Ÿå¼•å‡ºäº†åç»­æ”¹è¿›çš„ç®—æ³• â€”â€”\r\nSACï¼Œå®ƒé€šè¿‡åœ¨ç›®æ ‡ä¸­åŠ å…¥ç­–ç•¥ç†µï¼Œæå‡æ¢ç´¢èƒ½åŠ›å¹¶å‡å°‘ç­–ç•¥å¯¹ Q\r\nå‡½æ•°åå·®çš„è¿‡æ‹Ÿåˆã€‚\r\n\r\näºŒã€Soft Actor Critic (SAC)\r\nSoft Policy Iterationï¼š\r\nSAC çš„ç†è®ºåŸºç¡€æ˜¯ Soft Policy Iterationï¼ŒåŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š\r\n\r\nSoft policy evaluationï¼ˆç­–ç•¥è¯„ä¼°ï¼‰\r\nå›ºå®šç­–ç•¥ï¼Œåº”ç”¨ soft Bellman backup ç›´åˆ°æ”¶æ•›ï¼š\r\n\r\nSoft policy improvementï¼ˆç­–ç•¥æ”¹è¿›ï¼‰\r\né€šè¿‡ä¿¡æ¯æŠ•å½±æ¥æ›´æ–°ç­–ç•¥ï¼š\r\næœ€å°åŒ–ç­–ç•¥ä¸ soft Q çš„ KL æ•£åº¦\r\n\r\né‡å¤æ‰§è¡Œä»¥ä¸Šä¸¤æ­¥ï¼Œç›´åˆ°æ”¶æ•›\r\nå¯¹äºæ–°çš„ç­–ç•¥ï¼Œæœ‰ï¼š\r\n\r\n\r\nSAC ç®—æ³•æµç¨‹ï¼š\r\n\r\nç›®æ ‡å‡½æ•°ï¼šæœ€å¤§åŒ– Q å€¼ä¸ç­–ç•¥ç†µçš„ç»„åˆ\r\n\r\né‡å¤ä»¥ä¸‹æ“ä½œï¼š\r\n\r\nä»å½“å‰ç­–ç•¥ \r\nä¸­æ‰§è¡Œä¸€ä¸ªåŠ¨ä½œï¼Œä¸ç¯å¢ƒäº¤äº’ï¼Œå¹¶å°†æ•°æ®æ·»åŠ åˆ° replay buffer\r\n\r\nä½¿ç”¨é‡‡æ ·æ•°æ®æ¥å­¦ä¹  Vã€Q å’Œç­–ç•¥ \r\n\r\nå¯¹ V ä½¿ç”¨ soft Bellman residual æœ€å°åŒ–\r\n\r\nå¯¹ç­–ç•¥ä½¿ç”¨æœ€å°åŒ– KL æ•£åº¦çš„æ–¹å¼è¿›è¡Œæ›´æ–°\r\n\r\n\r\n\r\n\r\nå®éªŒæ•ˆæœ\r\nSAC åœ¨å¤šä¸ªçœŸå®æœºå™¨äººå®éªŒä¸­è¡¨ç°å‡ºè‰¯å¥½æ•ˆæœï¼Œå¦‚å›¾ç¤ºï¼š\r\n\r\n\r\n\r\næ€»ç»“\r\n\r\nDDPGï¼šDeterministic ç­–ç•¥ + Off-policy +\r\né«˜é‡‡æ ·æ•ˆç‡ï¼Œä½†ç¨³å®šæ€§å·®\r\n\r\nSACï¼šStochastic ç­–ç•¥ + Off-policy +\r\nåŠ å…¥ç­–ç•¥ç†µæå‡æ¢ç´¢æ€§å’Œé²æ£’æ€§ï¼Œæ˜¯å¯¹ DDPG çš„æ”¹è¿›\r\n\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"TRPO and PPO","url":"/2025/07/14/19-DeepRL_lecture4/","content":"ä¸€ã€ä»£ç†æŸå¤± (Surrogate Loss)\r\nä»£ç†æŸå¤±ï¼ˆSurrogate Lossï¼‰æ¥æºäºé‡è¦æ€§é‡‡æ ·ï¼ˆImportance\r\nSamplingï¼‰çš„æ¨å¯¼ï¼š\r\n\r\nå¯¹å…¶æ±‚æ¢¯åº¦ï¼š\r\n\r\nåœ¨ \r\nå¤„ï¼š\r\n\r\nè¯¥æ¨å¯¼è¡¨æ˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»£ç†ç›®æ ‡ï¼ˆsurrogate\r\nobjectiveï¼‰è€Œä¸ä»…ä»…æ˜¯æ¢¯åº¦ï¼Œä»è€Œè®¾è®¡æ›´æœ‰æ•ˆçš„ä¼˜åŒ–ç­–ç•¥ã€‚\r\n\r\näºŒã€Step-Sizing\r\nå’Œ Trust Region Policy Optimization (TRPO)\r\næ­¥é•¿é—®é¢˜\r\nå¼ºåŒ–å­¦ä¹ ä¸­çš„æ­¥é•¿æ§åˆ¶å°¤ä¸ºå…³é”®ï¼š\r\n\r\nåœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œæ­¥é•¿å¤ªå¤§å¯ä»¥é€šè¿‡ä¸‹æ¬¡è¿­ä»£çº æ­£ï¼›\r\nåœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œæ­¥é•¿å¤ªå¤§ä¼šå¯¼è‡´ç­–ç•¥æ¶åŒ–ï¼›\r\næ¥ä¸‹æ¥é‡‡æ ·çš„æ•°æ®æ¥è‡ªè¿™ä¸ªâ€œç³Ÿç³•ç­–ç•¥â€ï¼Œæ— æ³•è½»æ˜“çº æ­£ï¼›\r\nå¸¸è§„è§£å†³æ–¹å¼æ˜¯ç¼©å°æ­¥é•¿ï¼Œå¢åŠ ç¨³å¥æ€§ã€‚\r\n\r\nç®€å•æ­¥é•¿æ§åˆ¶æ–¹æ³•\r\n\r\nä½¿ç”¨æ¢¯åº¦æ–¹å‘çš„çº¿æœç´¢ï¼›\r\nè™½ç„¶ç®€å•ï¼Œä½†ä»£ä»·é«˜ä¸”ä¸è€ƒè™‘ä¸€é˜¶è¿‘ä¼¼çš„é€‚ç”¨åŒºåŸŸã€‚\r\n\r\nä¿¡èµ–åŸŸç­–ç•¥ä¼˜åŒ–ï¼ˆTrust\r\nRegion Policy Optimization, TRPOï¼‰\r\nç›®æ ‡å‡½æ•°ï¼š\r\n\r\nçº¦æŸæ¡ä»¶ï¼š\r\n\r\nKL æ•£åº¦çš„è¯„ä¼°\r\nè½¨è¿¹åˆ†å¸ƒä¸ºï¼š\r\n\r\nç”±äºç¯å¢ƒåŠ¨æ€åœ¨æ­£åæ¯”ä¸­ç›¸äº’æŠµæ¶ˆï¼ŒKL æ•£åº¦ç®€åŒ–ä¸ºï¼š\r\n\r\nTRPO çš„å®è·µæ•ˆæœè‰¯å¥½ï¼Œå¦‚åº”ç”¨äºï¼š\r\n\r\nLocomotion å­¦ä¹ ä»»åŠ¡ï¼ˆå¦‚ Hopper, Walkerï¼‰\r\nAtari æ¸¸æˆï¼ˆå¦‚ Pong, Beamriderï¼‰\r\nGAEï¼ˆGeneralized Advantage Estimationï¼‰ä¸ TRPO æ­é…ä½¿ç”¨\r\n\r\n\r\nä¸‰ã€Proximal Policy\r\nOptimization (PPO)\r\nTRPO çš„å±€é™æ€§\r\n\r\néš¾ä»¥åœ¨å¤æ‚ç­–ç•¥æ¶æ„ä¸­å¼ºåˆ¶æ‰§è¡Œä¿¡èµ–åŸŸçº¦æŸï¼›\r\nå¦‚ï¼šåŒ…å« dropout çš„ç½‘ç»œç»“æ„ï¼Œæˆ–ç­–ç•¥ä¸ä»·å€¼å‡½æ•°å…±äº«å‚æ•°ï¼›\r\nå…±è½­æ¢¯åº¦æ–¹æ³•å®ç°å¤æ‚ï¼›\r\nä¸åˆ©äºä½¿ç”¨è¯¸å¦‚ Adamã€RMSProp ç­‰ä¼˜ç§€çš„ä¸€é˜¶ä¼˜åŒ–å™¨ã€‚\r\n\r\nPPO ç‰ˆæœ¬ 1 â€”â€” â€œDual Descent\r\nTRPOâ€\r\n\r\nåŸºäºå¯¹å¶ä¸‹é™æ³•ï¼ˆdual descentï¼‰å¯¹  è¿›è¡Œæ›´æ–°ï¼›\r\nè™½ç„¶æœ‰æ•ˆï¼Œä½†ä»æ˜¾å¤æ‚ã€‚\r\n\r\nPPO ç‰ˆæœ¬ 2 â€”â€” â€œClipped\r\nSurrogate Lossâ€\r\nå®šä¹‰ï¼š\r\n\r\nç›®æ ‡å‡½æ•°ä¸ºï¼š\r\n\r\nç‰¹ç‚¹ï¼š\r\n\r\næ— éœ€çº¦æŸ KLï¼›\r\nç®€å•æ˜“å®ç°ï¼›\r\nå¯ä»¥ä¸å¸¸è§„çš„ä¸€é˜¶ä¼˜åŒ–å™¨ï¼ˆå¦‚ Adamï¼‰é…åˆï¼›\r\nå®é™…è¡¨ç°ä¼˜å¼‚ï¼Œè¢«å¹¿æ³›ç”¨äºå¤æ‚ä»»åŠ¡ä¸­ã€‚\r\n\r\nPPO çš„åº”ç”¨å®ä¾‹\r\n\r\nOpenAI Fiveï¼ˆDota 2 æ¸¸æˆ AIï¼‰\r\nIn-Hand ç‰©ä½“é‡å®šå‘ï¼ˆOpenAIï¼‰\r\né­”æ–¹æœºå™¨äººæ‰‹é‡æ„ï¼ˆOpenAI Rubik's Cubeï¼‰\r\n\r\n\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"Panorama Stitching","url":"/2024/12/28/13-PanoramaStitching/","content":"Setting\r\n\r\nIf the camera center is fixed, or if the scene is planar, different\r\nimages of the same scene are related by a homography. In this project,\r\nyou will implement an algorithm to calculate the homography between two\r\nimages. Several images of each scene will be provided. Your program\r\nshould generate image mosaics according to these estimated\r\nhomographies.\r\n\r\nTo accomplish panorama stitching, the following pipeline is commonly\r\nused:\r\n\r\nFeature detection.\r\nFeature matching.\r\nHomography estimation.\r\nPanorama stitching.\r\n\r\nThe data given has four folders, each including 3-6 photos on\r\ndifferent perspectives. Note that the sequence of the photos are not\r\nconcerned to the actual shooting angle.\r\nEnvironment\r\n\r\nOS: Windows 11 24H2\r\nLib: Python 2.7, Opencv 3.4.2.16\r\n\r\nAlgorithm\r\n1. The Basic\r\nAlgorithm\r\n1.1 Feature\r\nDetection, Descriptor, and Matching\r\nThe first step in panorama stitching is identifying common features\r\nbetween pairs of images. These features allow us to align the images\r\ncorrectly. The code uses the Matchers class to perform this\r\nstep, which utilizes the SURF (Speeded-Up Robust\r\nFeatures) algorithm and FLANN-based\r\nmatching.\r\nFeature Detection and Descriptor Computation: \r\n\r\nSURF is used to detect distinctive keypoints in\r\neach image and compute descriptors. Keypoints are regions in the image\r\nthat are easily identifiable and remain consistent across different\r\nviews of the scene (such as corners, edges, or blobs). The descriptors\r\nare mathematical representations of the keypoints that allow for\r\ncomparison between images.\r\nIn the Matchers class, the method\r\n_get_features(image):\r\nkeypoints, descriptors = self.surf.detectAndCompute(gray, None)\r\nconverts the image to grayscale, detects keypoints, and computes the\r\ndescriptors for matching.\r\n\r\nMatching Keypoints: \r\nOnce the descriptors are extracted, the match method in\r\nthe Matchers class uses the FLANN (Fast Library for\r\nApproximate Nearest Neighbors) matcher to find the best matches\r\nbetween keypoints from two images:\r\nmatches = self.flann.knnMatch(features2['des'], features1['des'], k=2)\r\nFor each keypoint in image2, the two closest matches are\r\nfound in image1. The code then applies the ratio\r\ntest (Loweâ€™s ratio test) to filter out poor matches. Only good\r\nmatches are retained for the homography calculation:\r\ngood_matches.append((m.trainIdx, m.queryIdx))\r\n1.2 Homography\r\nEstimation\r\nOnce keypoints are matched, the next step is to estimate the\r\nhomography matrix, which represents the transformation\r\nrequired to align the two images. This transformation is essential to\r\nalign the images in the panorama seamlessly.\r\nHomography Calculation: \r\nThe match method uses the RANSAC\r\nalgorithm (Random Sample Consensus) to calculate the homography\r\nmatrix. RANSAC helps to eliminate outliers, ensuring that only reliable\r\nmatches are used to compute the transformation.\r\n\r\nThe keypoints of the matching pairs are converted into\r\nfloat32 coordinates:\r\npoints1 = np.float32([features1['kp'][i].pt for (i, _) in good_matches])points2 = np.float32([features2['kp'][i].pt for (_, i) in good_matches])\r\nThen, the findHomography function calculates the\r\nhomography matrix H:\r\nH, _ = cv2.findHomography(points2, points1, cv2.RANSAC, 4)\r\nThe result is the homography matrix H, which defines how\r\nto warp one image to align with the other.\r\n\r\nHomography Score: \r\nThe quality of the homography matrix can be assessed by calculating\r\nits norm using the _calculate_homography_score(H)\r\nmethod:\r\nreturn np.linalg.norm(H)\r\nA lower norm indicates a better match.\r\n1.3 Image Stitching\r\nWith the homography matrices in hand, the next step is to\r\nstitch the images together to form the final\r\npanorama.\r\nImage Alignment: \r\nThe Stitcher class has two main methods to handle the\r\nalignment process: _shift_left and\r\n_shift_right.\r\n\r\nLeft-side Image Alignment\r\n(_shift_left):\r\n\r\nStarting from the center image, images on the left are aligned\r\none by one by applying their respective homography matrices. The\r\ntransformation is applied using cv2.warpPerspective, which\r\nwarps the image based on the homography matrix H.\r\nThe code ensures that the resulting image has enough space to\r\naccommodate the newly aligned image by adjusting the size\r\ndynamically.\r\nImages are gradually merged using pixel-wise blending to avoid\r\nseams.\r\ntmp = cv2.warpPerspective(a, xh, dsize)\r\n\r\nRight-side Image Alignment\r\n(_shift_right):\r\n\r\nSimilarly, images on the right are aligned and stitched into the\r\npanorama. The right images are warped and blended into the final\r\nstitched image.\r\n\r\n\r\nBlending Images: \r\nTo avoid visible seams between adjacent images, the\r\n_blend_images method is used to combine the images\r\nsmoothly. It creates a weighted average of pixel values at overlapping\r\nregions:\r\nblended_image[y, x] = (    blended_image[y, x].astype(np.float32) * 0.5 +    warped_image[y, x].astype(np.float32) * 0.5).astype(np.uint8)\r\nThis ensures that the final panorama looks seamless, with no visible\r\nboundaries between the images.\r\nFinal Panorama Creation: \r\nOnce all images are aligned and blended, the final panorama is\r\ncreated, starting from the center image and progressively stitching\r\nimages on the left and right. The stitch() method returns\r\nthe final stitched image:\r\nreturn self.left_image\r\n2. Comparison of\r\ndifferent feature descriptors\r\nDescriptor Extraction:\r\n\r\nSIFT: Extracts scale-invariant keypoints and\r\ncomputes descriptors based on local image gradients\r\n(sift_descriptor function).\r\nPixel-based: Detects keypoints using corner\r\ndetection and creates descriptors from pixel values in local patches\r\n(pixel_descriptor function).\r\n\r\nDescriptor Matching: The\r\nmatch_descriptors function uses FLANN-based matching to\r\nfind potential matches between the descriptors of the two images.\r\nHomography Estimation with RANSAC: The\r\nestimate_homography function uses RANSAC to estimate a\r\ntransformation between the images and counts inliers (correct matches).\r\nRANSAC is run multiple times, and the best transformation is chosen\r\nbased on the number of inliers.\r\nRANSAC Iterations Calculation: The\r\ncalculate_ransac_iterations function computes how many\r\niterations are needed to achieve a specified success probability based\r\non the inlier ratio.\r\nPerformance Evaluation: The\r\ncompare_descriptors function compares the two descriptors\r\nby calculating the inlier ratio and required RANSAC iterations. It\r\nvisualizes matches and evaluates the descriptors' performance using\r\nRANSAC on a set of random matches.\r\nExperiments\r\n1. Image Stitching\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ndataset\r\nresult\r\n\r\n\r\n\r\n\r\ndata1\r\n\r\n\r\n\r\ndata2\r\n\r\n\r\n\r\ndata3\r\n\r\n\r\n\r\ndata4\r\n\r\n\r\n\r\n\r\nThough my algorithm accomplishes panorama stitching, there is\r\nobviously a way to improve. My result shows that the stitchings are\r\nstarting with the picture on the edge, but it's proper to start from the\r\nmiddle. Though I've set the picture which has the most matching with\r\nother pics as the base picture, it turns out to be the the most marginal\r\none. It's confusing. Anyway, the result is sufficent, at least a lot\r\nbetter than the code I first wrote.\r\n2. Comparison of feature\r\ndescriptors\r\nThis is a matching result (taking data4/IMG_7357.JPG and\r\ndata4/IMG_7358.JPG as example):\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ndescriptor\r\nmatching result\r\n\r\n\r\n\r\n\r\nSIFT\r\n\r\n\r\n\r\nPixel\r\n\r\n\r\n\r\n\r\nThis is the summarizing table:\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ndataset\r\niteration (SIFT)\r\niteration (Pixel)\r\naverage ratio (SIFT)\r\naverage ratio (Pixel)\r\n\r\n\r\n\r\n\r\ndata1/112_1298.JPGdata1/112_1299.JPG\r\n24\r\n26\r\n0.41\r\n0.40\r\n\r\n\r\ndata2/IMG_0488.JPGdata2/IMG_0489.JPG\r\n22\r\n26\r\n0.42\r\n0.40\r\n\r\n\r\ndata3/IMG_0675data3/IMG_0676\r\n25\r\n25\r\n0.40\r\n0.40\r\n\r\n\r\ndata4/IMG_7357data4/IMG_7358\r\n23\r\n26\r\n0.41\r\n0.40\r\n\r\n\r\n\r\nIt shows that SIFT descriptor contributes to less iterations and\r\nbetter average inlier ratio.\r\n","categories":["ç ”ç©¶ç”Ÿè¯¾ç¨‹","è®¡ç®—æœºè§†è§‰"],"tags":["Panorama Stitching"]},{"title":"Model-based RL","url":"/2025/07/14/21-DeepRL_lecture6/","content":"ä¸€ã€Model-based RL\r\nåŸºç¡€ç®—æ³•\r\næ¨¡å‹åŸºå¼ºåŒ–å­¦ä¹ ï¼ˆModel-Based RLï¼‰çš„åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š\r\nå¯¹äºæ¯ä¸€æ¬¡è¿­ä»£ (iter = 1, 2, ...): 1. åœ¨å½“å‰ç­–ç•¥ä¸‹æ”¶é›†æ•°æ®ã€‚ 2.\r\nä½¿ç”¨è¿‡å»çš„æ•°æ®å­¦ä¹ ä¸€ä¸ªåŠ¨æ€æ¨¡å‹ã€‚ 3. åˆ©ç”¨è¿™ä¸ªåŠ¨æ€æ¨¡å‹æ¥æ”¹è¿›ç­–ç•¥ã€‚ *\r\nå¯ä»¥é€šè¿‡åœ¨å­¦ä¹ åˆ°çš„æ¨¡å‹ä¸Šè¿›è¡Œæ—¶é—´åå‘ä¼ æ’­ï¼ˆbackprop-through-timeï¼‰æ¥ä¼˜åŒ–ç­–ç•¥ã€‚\r\n* ä¹Ÿå¯ä»¥å°†å­¦ä¹ åˆ°çš„æ¨¡å‹ä½œä¸ºä¸€ä¸ªæ¨¡æ‹Ÿå™¨æ¥è¿è¡Œå…¶ä»–å¼ºåŒ–å­¦ä¹ ç®—æ³•ã€‚\r\nä¸ºä»€ä¹ˆä½¿ç”¨Model-Based RLï¼Ÿ\r\n\r\næ•°æ®æ•ˆç‡ï¼šä»æ•°æ®ä¸­å­¦ä¹ æ¨¡å‹ï¼Œå¯èƒ½æ¯”å•çº¯çš„ç­–ç•¥æ¢¯åº¦æ›´æ–°å¸¦æ¥æ›´æ˜¾è‘—çš„ç­–ç•¥æå‡ã€‚\r\nå¯é‡ç”¨æ€§ï¼šå­¦ä¹ åˆ°çš„æ¨¡å‹å¦‚æœè¶³å¤Ÿé€šç”¨ï¼Œå¯ä»¥è¢«å¤ç”¨äºå…¶ä»–ä»»åŠ¡ã€‚\r\n\r\nä¸ºä»€ä¹ˆä¸ä¸€ç›´ä½¿ç”¨Model-Based\r\nRLï¼Ÿ\r\nå°½ç®¡å®ƒæœ‰å¾ˆé«˜çš„æ ·æœ¬æ•ˆç‡ï¼ˆsample efficiencyï¼‰ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š\r\n\r\nè®­ç»ƒä¸ç¨³å®šæ€§\r\næ— æ³•è¾¾åˆ°ä¸æ— æ¨¡å‹ï¼ˆmodel-freeï¼‰æ–¹æ³•ç›¸åŒçš„æ¸è¿›æ€§èƒ½\r\n\r\nModel-based RLä¸­çš„è¿‡æ‹Ÿåˆé—®é¢˜\r\n\r\næ ‡å‡†è¿‡æ‹Ÿåˆ (ç›‘ç£å­¦ä¹ ä¸­)\r\n\r\nç¥ç»ç½‘ç»œåœ¨è®­ç»ƒæ•°æ®ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨æµ‹è¯•æ•°æ®ä¸Šè¡¨ç°ä¸ä½³ã€‚ä¾‹å¦‚ï¼Œåœ¨æ ¹æ®(s,\r\na)é¢„æµ‹s_nextæ—¶ã€‚\r\n\r\nModel-based RLä¸­çš„æ–°æŒ‘æˆ˜\r\n\r\nç­–ç•¥ä¼˜åŒ–å€¾å‘äºåˆ©ç”¨é‚£äº›æ²¡æœ‰è¶³å¤Ÿæ•°æ®æ¥è®­ç»ƒæ¨¡å‹çš„åŒºåŸŸï¼Œè¿™ä¼šå¯¼è‡´ç¾éš¾æ€§çš„å¤±è´¥ã€‚\r\nè¿™ä¸ªé—®é¢˜è¢«ç§°ä¸ºâ€œæ¨¡å‹åå·®â€ï¼ˆmodel-biasï¼‰ã€‚\r\n\r\n\r\näºŒã€Robust\r\nModel-based RL:Model-Ensemble TRPO (ME-TRPO)\r\nME-TRPOï¼ˆæ¨¡å‹é›†æˆä¿¡èµ–åŸŸç­–ç•¥ä¼˜åŒ–ï¼‰è¢«æå‡ºæ¥è§£å†³â€œæ¨¡å‹åå·®â€é—®é¢˜ã€‚\r\nVanilla Model-Based Deep RL\r\nç®—æ³•\r\nè¿™æ˜¯ME-TRPOçš„åŸºç¡€å¯¹æ¯”ç®—æ³•ã€‚\r\n\r\nåˆå§‹åŒ–ç­–ç•¥  å’Œæ¨¡å‹\r\nã€‚\r\nåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„æ•°æ®é›†Dã€‚\r\nå¾ªç¯ç›´åˆ°ç­–ç•¥åœ¨çœŸå®ç¯å¢ƒä¸­è¡¨ç°è‰¯å¥½ï¼š\r\n\r\nä½¿ç”¨ç­–ç•¥ \r\nä»çœŸå®ç¯å¢ƒfä¸­æ”¶é›†æ ·æœ¬å¹¶æ·»åŠ åˆ°Dä¸­ã€‚\r\nå¾ªç¯ç›´åˆ°æ€§èƒ½åœæ­¢æå‡ï¼š\r\n\r\nä½¿ç”¨æ•°æ®é›†Dè®­ç»ƒæ¨¡å‹ ã€‚\r\nä½¿ç”¨ç­–ç•¥  ä»æ¨¡å‹\r\n\r\nä¸­æ”¶é›†è™šæ‹Ÿæ ·æœ¬ã€‚\r\nåœ¨è™šæ‹Ÿæ ·æœ¬ä¸Šä½¿ç”¨BPTTï¼ˆBackpropagation Through Timeï¼‰æ›´æ–°ç­–ç•¥ã€‚\r\nè¯„ä¼°æ€§èƒ½ ã€‚\r\n\r\n\r\n\r\nME-TRPO ç®—æ³•\r\n\r\nåˆå§‹åŒ–ç­–ç•¥ \r\nå’Œæ‰€æœ‰æ¨¡å‹ ã€‚\r\nåˆå§‹åŒ–ä¸€ä¸ªç©ºçš„æ•°æ®é›†Dã€‚\r\nå¾ªç¯ç›´åˆ°ç­–ç•¥åœ¨çœŸå®ç¯å¢ƒä¸­è¡¨ç°è‰¯å¥½ï¼š\r\n\r\nä½¿ç”¨ç­–ç•¥ä»çœŸå®ç³»ç»Ÿä¸­æ”¶é›†æ ·æœ¬å¹¶æ·»åŠ åˆ°Dä¸­ã€‚\r\nä½¿ç”¨æ•°æ®é›†Dè®­ç»ƒæ‰€æœ‰æ¨¡å‹ã€‚\r\nå¾ªç¯ç›´åˆ°æ€§èƒ½åœæ­¢æå‡ï¼š\r\n\r\nä½¿ç”¨ç­–ç•¥ \r\nä»æ¨¡å‹é›†åˆ \r\nä¸­æ”¶é›†è™šæ‹Ÿæ ·æœ¬ã€‚\r\nåœ¨è™šæ‹Ÿæ ·æœ¬ä¸Šä½¿ç”¨TRPOæ›´æ–°ç­–ç•¥ã€‚ï¼ˆæ ¸å¿ƒåŒºåˆ«ï¼šä½¿ç”¨æ‰€æœ‰æ¨¡å‹è¿›è¡Œä¼˜åŒ–ï¼‰\r\nè¯„ä¼°æ¯ä¸ªæ¨¡å‹ä¸‹çš„æ€§èƒ½  for , ..., Îšã€‚\r\n\r\n\r\n\r\nME-TRPO è¯„ä¼°\r\nå®éªŒç¯å¢ƒ:\r\n\r\nä¸SOTAï¼ˆState of the artï¼‰æ–¹æ³•çš„æ¯”è¾ƒ:\r\n\r\nME-TRPOåœ¨å¤šä¸ªç¯å¢ƒï¼ˆSwimmer, Hopper, HalfCheetah, Ant, Humanoid,\r\nSnakeï¼‰ä¸­ä¸PPO, TRPO,\r\nDDPGç­‰å…ˆè¿›çš„æ— æ¨¡å‹æ–¹æ³•è¿›è¡Œäº†æ¯”è¾ƒã€‚ç»“æœæ˜¾ç¤ºï¼ŒME-TRPOåœ¨æ ·æœ¬æ•ˆç‡ä¸Šå…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œèƒ½ç”¨æ›´å°‘çš„æ ·æœ¬è¾¾åˆ°ç”šè‡³è¶…è¶Šå…¶ä»–æ–¹æ³•çš„æ€§èƒ½ã€‚\r\nME-TRPO æ¶ˆèå®éªŒ\r\n\r\nTRPO vs. BPTT åœ¨æ ‡å‡†Model-based RLä¸­çš„æ¯”è¾ƒ\r\n\r\n\r\nå®éªŒå¯¹æ¯”äº†åœ¨å•ä¸ªæ¨¡å‹ä¸‹ï¼Œä½¿ç”¨TRPOæ›´æ–°ç­–ç•¥ï¼ˆMB-TRPOï¼‰ä¸ä½¿ç”¨BPTTæ›´æ–°ç­–ç•¥ï¼ˆVanilla\r\nMBRLï¼‰çš„æ•ˆæœã€‚ç»“æœæ˜¾ç¤ºï¼Œåœ¨Snake, HalfCheetah,\r\nAntç¯å¢ƒä¸­ï¼ŒåŸºäºTRPOçš„æ›´æ–°æ–¹å¼æ€§èƒ½æ›´ä¼˜ä¸”æ›´ç¨³å®šã€‚\r\n\r\né›†æˆä¸­å­¦ä¹ çš„åŠ¨æ€æ¨¡å‹æ•°é‡\r\n\r\n\r\nå®éªŒæ¯”è¾ƒäº†ä½¿ç”¨ä¸åŒæ•°é‡æ¨¡å‹ï¼ˆ1, 5, 10,\r\n20ï¼‰çš„ME-TRPOæ€§èƒ½ã€‚ç»“æœæ˜¾ç¤ºï¼Œåœ¨HalfCheetahå’ŒAntç¯å¢ƒä¸­ï¼Œä½¿ç”¨æ›´å¤šçš„æ¨¡å‹ï¼ˆç‰¹åˆ«æ˜¯5ä¸ªæˆ–10ä¸ªï¼‰å¯ä»¥å¸¦æ¥æ›´å¥½çš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚\r\n\r\n\r\nä¸‰ã€Adaptive\r\nModel-based RL: Model-based Meta-Policy Optimization (MB-MPO)\r\nè§£å†³Model-based\r\nRLçš„æ¸è¿›æ€§èƒ½é—®é¢˜\r\n\r\né—®é¢˜:\r\nå› ä¸ºå­¦ä¹ åˆ°çš„ï¼ˆé›†æˆï¼‰æ¨¡å‹ä¸å®Œç¾ï¼Œå¯¼è‡´çš„ç­–ç•¥åœ¨æ¨¡æ‹Ÿä¸­è¡¨ç°å¾ˆå¥½ï¼Œä½†åœ¨çœŸå®ä¸–ç•Œä¸­å¹¶éæœ€ä¼˜ã€‚\r\nå°è¯•çš„ä¿®å¤æ–¹æ¡ˆ1:\r\nå­¦ä¹ æ›´å¥½çš„åŠ¨æ€æ¨¡å‹ã€‚äº‹å®è¯æ˜è¿™è¿˜ä¸å¤Ÿã€‚\r\nå°è¯•çš„ä¿®å¤æ–¹æ¡ˆ2: é€šè¿‡å…ƒç­–ç•¥ä¼˜åŒ–ï¼ˆmeta-policy\r\noptimizationï¼‰è¿›è¡Œæ¨¡å‹åŸºå¼ºåŒ–å­¦ä¹ ï¼Œå³MB-MPOã€‚\r\næ ¸å¿ƒæ€æƒ³:\r\n\r\nå­¦ä¹ ä¸€ä¸ªèƒ½å¤Ÿä»£è¡¨çœŸå®ä¸–ç•Œé€šå¸¸å¦‚ä½•è¿ä½œçš„æ¨¡å‹é›†æˆã€‚\r\nå­¦ä¹ ä¸€ä¸ªè‡ªé€‚åº”ç­–ç•¥ï¼Œè¯¥ç­–ç•¥å¯ä»¥å¿«é€Ÿé€‚åº”ä»»ä½•ä¸€ä¸ªå­¦ä¹ åˆ°çš„æ¨¡å‹ã€‚\r\nè¿™æ ·ä¸€ä¸ªè‡ªé€‚åº”ç­–ç•¥ä¹Ÿå°±èƒ½å¿«é€Ÿåœ°é€‚åº”çœŸå®ä¸–ç•Œçš„è¿ä½œæ–¹å¼ã€‚\r\n\r\n\r\nMB-MPO ç®—æ³•\r\néœ€è¦: å†…å¤–ä¸¤å±‚æ­¥é•¿ , \r\n\r\nåˆå§‹åŒ–ç­–ç•¥ ï¼Œæ¨¡å‹\r\n ...  ä»¥åŠæ•°æ®é›† ã€‚\r\nå¾ªç¯ç›´åˆ°ç­–ç•¥åœ¨çœŸå®ç¯å¢ƒä¸­è¡¨ç°è‰¯å¥½:\r\n\r\nä½¿ç”¨é€‚åº”åçš„ç­–ç•¥ \r\nä»çœŸå®ç¯å¢ƒä¸­é‡‡æ ·è½¨è¿¹ï¼Œå¹¶æ·»åŠ åˆ°Dä¸­ã€‚\r\nä½¿ç”¨Dè®­ç»ƒæ‰€æœ‰æ¨¡å‹ã€‚\r\nå¯¹äºæ‰€æœ‰æ¨¡å‹ :\r\n\r\nä½¿ç”¨  ä»æ¨¡å‹  ä¸­é‡‡æ ·è™šæ‹Ÿè½¨è¿¹ ã€‚\r\nä½¿ç”¨è½¨è¿¹ \r\nè®¡ç®—é€‚åº”åçš„å‚æ•°ï¼š \r\nä½¿ç”¨é€‚åº”åçš„ç­–ç•¥  ä»æ¨¡å‹  ä¸­é‡‡æ ·è™šæ‹Ÿè½¨è¿¹ ã€‚\r\n\r\nä½¿ç”¨è½¨è¿¹  æ›´æ–° ï¼š \r\n\r\nè¿”å›æœ€ä¼˜çš„æ›´æ–°å‰å‚æ•° ã€‚\r\n\r\nMB-MPO è¯„ä¼°\r\nå®éªŒç¯å¢ƒ:\r\n\r\nä¸SOTA Model-Freeæ–¹æ³•çš„æ¯”è¾ƒ:\r\n\r\nMB-MPOåœ¨å¤šä¸ªç¯å¢ƒä¸­ä¸acktr, trpo, ppo,\r\nddpgç­‰å…ˆè¿›çš„æ— æ¨¡å‹æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚ç»“æœæ˜¾ç¤ºMB-MPOï¼ˆå›¾ä¸­oursï¼‰åœ¨æ ·æœ¬æ•ˆç‡å’Œæ¸è¿›æ€§èƒ½ä¸Šéƒ½è¾¾åˆ°äº†é¡¶å°–æ°´å¹³ã€‚\r\nä¸SOTA Model-Basedæ–¹æ³•çš„æ¯”è¾ƒ:\r\n\r\nMB-MPOï¼ˆå›¾ä¸­ours)ä¸me-trpoå’Œmb-mpcè¿›è¡Œäº†æ¯”è¾ƒã€‚åœ¨Ant, HalfCheetah,\r\nHopper,\r\nWalker2Dç­‰ç¯å¢ƒä¸­ï¼ŒMB-MPOåœ¨å­¦ä¹ é€Ÿåº¦å’Œæœ€ç»ˆæ€§èƒ½ä¸Šå‡è¡¨ç°å‡ºæ˜æ˜¾ä¼˜åŠ¿ã€‚\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"Sim Anythingé˜…è¯»ç¬”è®°","url":"/2025/12/16/23-Sim_Anything/","content":"1. æ ¸å¿ƒæ€æƒ³\r\næ ¸å¿ƒé€»è¾‘ï¼š ä¼ ç»Ÿçš„ç‰©ç†ä»¿çœŸï¼ˆå¦‚æœ‰é™å…ƒæ³•\r\nFEMï¼‰é€šå¸¸ä¾èµ–ç½‘æ ¼ï¼ˆMeshï¼‰ï¼Œè€Œ 3DGS\r\næœ¬è´¨ä¸Šæ˜¯åŸºäºç‚¹ï¼ˆPoint-basedï¼‰çš„è¡¨ç¤ºã€‚è¿™ç¯‡è®ºæ–‡é€šè¿‡ç»“åˆ ç‰©è´¨ç‚¹æ³•\r\n(Material Point Method, MPM)\r\nè¿™ä¸€ç‰©ç†ä»¿çœŸç®—æ³•ï¼ŒæˆåŠŸå®ç°äº†ç›´æ¥é©±åŠ¨ 3DGS è¿›è¡Œç‰©ç†è¿åŠ¨ã€‚\r\n\r\nå…±æ€§è¿æ¥ï¼š 3DGS æ˜¯ç¦»æ•£çš„é«˜æ–¯çƒé›†åˆï¼ŒMPM\r\næ˜¯ç¦»æ•£çš„ç‰©ç†ç²’å­é›†åˆã€‚ä¸¤è€…éƒ½æ˜¯â€œç²’å­åŒ–â€çš„è¡¨ç¤ºï¼Œå› æ­¤å¤©ç„¶å¥‘åˆï¼Œä¸éœ€è¦å°†\r\n3DGS è½¬æ¢æˆä¸‰è§’å½¢ç½‘æ ¼å³å¯è¿›è¡Œç¢°æ’å’Œå˜å½¢ä»¿çœŸã€‚\r\n\r\n\r\n2. åŸºç¡€æ¦‚å¿µ\r\n\r\n3D Gaussian Splatting (3DGS)ï¼š\r\n\r\né€šä¿—è§£é‡Šï¼š ä¸€ç§æ–°çš„ 3D\r\nç»˜å›¾æŠ€æœ¯ã€‚ä»¥å‰æˆ‘ä»¬ç”¨ä¸‰è§’å½¢æ‹¼å‡ºç‰©ä½“ï¼ˆåƒæŠ˜çº¸ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬ç”¨æ— æ•°ä¸ªæ¨¡ç³Šçš„æ¤­çƒä½“ï¼ˆé«˜æ–¯çƒï¼‰å †å å‡ºç‰©ä½“ã€‚æ¯ä¸ªçƒæœ‰ä½ç½®ã€é¢œè‰²ã€å¤§å°ã€æ—‹è½¬è§’åº¦ã€‚\r\nä¼˜åŠ¿ï¼š æ¸²æŸ“é€Ÿåº¦æå¿«ï¼Œç”»è´¨é€¼çœŸã€‚\r\n\r\nç‰©è´¨ç‚¹æ³• (MPM, Material Point Method)ï¼š\r\n\r\né€šä¿—è§£é‡Šï¼š\r\nä¸€ç§ç‰©ç†ä»¿çœŸç®—æ³•ã€‚å®ƒæŠŠç‰©ä½“çœ‹ä½œä¸€å¤§å †æ²™å­ï¼ˆç²’å­ï¼‰ã€‚è®¡ç®—æ—¶ï¼Œå…ˆæŠŠè¿™äº›ç²’å­æ˜ å°„åˆ°ä¸€ä¸ªèƒŒæ™¯ç½‘æ ¼ä¸Šç®—åŠ›ï¼ˆæ¯”å¦‚ç¢°æ’ã€æŒ¤å‹ï¼‰ï¼Œç®—å®Œåå†æŠŠç»“æœä¼ å›ç²’å­ï¼Œæ›´æ–°ç²’å­çš„ä½ç½®ã€‚\r\nä¸ºä»€ä¹ˆé€‚åˆ 3DGSï¼š\r\nå› ä¸ºå®ƒä¸æ€•ç‰©ä½“æ’•è£‚ã€å¤§å˜å½¢ï¼Œä¸”æœ¬èº«å°±æ˜¯ç©ç²’å­çš„ï¼Œè·Ÿ 3DGS\r\nçš„â€œç‚¹â€å±æ€§å®Œç¾å¯¹åº”ã€‚\r\n\r\nMLLM (å¤šæ¨¡æ€å¤§è¯­è¨€æ¨¡å‹)ï¼š\r\n\r\né€šä¿—è§£é‡Šï¼š åƒ GPT-4V è¿™æ ·æ—¢èƒ½çœ‹å›¾åˆèƒ½èŠå¤©çš„ AIã€‚\r\nåœ¨æœ¬æ–‡ä½œç”¨ï¼š\r\nä»¥å‰åšç‰©ç†ä»¿çœŸè¦æ‰‹åŠ¨è®¾ç½®â€œè¿™ä¸ªç‰©ä½“å¤šé‡â€ã€â€œé‚£ä¸ªç‰©ä½“å¤šç¡¬â€ã€‚ç°åœ¨ AI\r\nçœ‹ä¸€çœ¼å›¾ï¼Œå°±èƒ½çŒœå‡ºå¤§æ¦‚çš„ç‰©ç†å‚æ•°ï¼ˆæ¯”å¦‚çŸ³å¤´ç¡¬ã€æµ·ç»µè½¯ï¼‰ã€‚\r\n\r\n\r\n\r\n3. Sim Anything çš„å·¥ä½œæµç¨‹\r\nè¿™ç¯‡è®ºæ–‡æå‡ºäº†ä¸€å¥—å…¨è‡ªåŠ¨çš„æµç¨‹ï¼ŒæŠŠä¸€ä¸ªé™æ€çš„ 3DGS\r\nåœºæ™¯å˜æˆå¯äº’åŠ¨çš„ç‰©ç†åœºæ™¯ã€‚\r\nç¬¬ä¸€æ­¥ï¼šæŠŠç‰©ä½“â€œæ‰£â€å‡ºæ¥\r\n(3D Open-vocabulary Segmentation)\r\n\r\né—®é¢˜ï¼š 3DGS\r\næ¸²æŸ“å‡ºæ¥æ˜¯ä¸€æ•´å¼ å›¾ï¼Œè®¡ç®—æœºä¸çŸ¥é“å“ªé‡Œæ˜¯â€œç†Šâ€ï¼Œå“ªé‡Œæ˜¯â€œåº•åº§â€ã€‚\r\næ–¹æ³•ï¼š åˆ©ç”¨ç°æœ‰çš„å¼ºå¤§ AI æ¨¡å‹ï¼ˆSAM, Grounding DINO\r\nç­‰ï¼‰åœ¨ 2D å›¾ç‰‡ä¸ŠæŠŠç‰©ä½“è¯†åˆ«å¹¶æ‰£å‡ºæ¥ï¼Œç„¶åé€šè¿‡ç®—æ³•æŠŠè¿™äº› 2D é®ç½©æŠ•å°„å› 3D\r\nç©ºé—´ï¼Œç»™æ¯ä¸ªé«˜æ–¯çƒæ‰“ä¸Šæ ‡ç­¾ï¼ˆæ¯”å¦‚è¿™å †é«˜æ–¯çƒå±äºâ€œæ¤…å­â€ï¼‰ã€‚\r\nè¡¥å…¨ï¼š æŠŠç‰©ä½“æ‰£å‡ºæ¥åï¼ŒèƒŒæ™¯ä¼šæœ‰ç©ºæ´ã€‚è®ºæ–‡ç”¨äº†ä¿®å›¾\r\nAI (LaMa) æŠŠèƒŒæ™¯è‡ªåŠ¨è¡¥å…¨äº†ã€‚\r\n\r\nç¬¬äºŒæ­¥ï¼šAI\r\nçŒœç‰©ç†å‚æ•° (MLLM-based Physical Property Perception)\r\n\r\néš¾ç‚¹ï¼š åªæœ‰å¤–è§‚ï¼Œæ€ä¹ˆçŸ¥é“ç‰©ä½“çš„\r\næ¨æ°æ¨¡é‡ï¼ˆYoung's\r\nmodulusï¼Œä»£è¡¨ç¡¬åº¦ï¼‰ã€æ³Šæ¾æ¯”ï¼ˆPoisson's\r\nratioï¼Œä»£è¡¨å—å‹åçš„æ¨ªå‘è†¨èƒ€ç‡ï¼‰å’Œ å¯†åº¦ï¼Ÿ\r\nåˆ›æ–°è§£æ³•ï¼š æ¨¡ä»¿äººç±»ç›´è§‰ã€‚\r\n\r\nçœ‹å›¾è¯´è¯ï¼š è®© AI (BLIP) æè¿°è¿™ä¸ªç‰©ä½“ã€‚\r\nçŒœæè´¨ï¼š æŠŠå›¾å’Œæè¿°ç»™ GPT-4Vï¼Œè®©å®ƒåˆ—å‡ºå¯èƒ½çš„ K\r\nç§æè´¨ï¼ˆå¦‚ï¼šèŠ±å²—å²©ã€æ··å‡åœŸã€æ ‘è„‚ï¼‰ã€‚\r\né€‰æœ€ä½³ï¼š ç”¨ CLIP æ¨¡å‹çœ‹å“ªä¸ªæè´¨è·Ÿå›¾ç‰‡æœ€åƒã€‚\r\nå®šå‚æ•°ï¼š ç¡®å®šæ˜¯â€œèŠ±å²—å²©â€åï¼Œå†é—®\r\nGPT-4Vï¼šâ€œèŠ±å²—å²©çš„ç‰©ç†å‚æ•°å¤§æ¦‚æ˜¯å¤šå°‘ï¼Ÿâ€\r\n\r\nç»“æœï¼š å¾—åˆ°äº†ä¸€ä¸ªç‰©ä½“å¹³å‡çš„ç‰©ç†å±æ€§ã€‚\r\n\r\nç¬¬ä¸‰æ­¥ï¼šå‚æ•°åˆ†å¸ƒé¢„æµ‹ (MPDP)\r\n\r\né—®é¢˜ï¼š çœŸå®ç‰©ä½“å„å¤„æè´¨ä¸ä¸€å®šå‡åŒ€ï¼Œè€Œä¸” AI\r\nçŒœçš„åªæ˜¯ä¸ªå¹³å‡å€¼ã€‚\r\næ–¹æ³•ï¼š\r\nè®­ç»ƒäº†ä¸€ä¸ªå°å‹çš„ç¥ç»ç½‘ç»œï¼Œè¾“å…¥ç‰©ä½“å½¢çŠ¶å’Œå¹³å‡å‚æ•°ï¼Œè¾“å‡ºæ¯ä¸ªéƒ¨ä½å…·ä½“çš„å‚æ•°åˆ†å¸ƒã€‚è¿™è®©ä»¿çœŸæ›´ç»†è…»ã€‚\r\n\r\nç¬¬å››æ­¥ï¼šç”±ç‚¹åŠé¢çš„ä»¿çœŸ\r\n(ç‰©ç†æ ¸å¿ƒ)\r\n1. ç‰©ç†å¼•æ“ï¼šMLS-MPM\r\nè®ºæ–‡ä½¿ç”¨äº† MLS-MPM (Moving Least Squares Material\r\nPoint Method) ä½œä¸ºç‰©ç†æ¨¡æ‹Ÿå™¨ã€‚\r\n\r\nåŸç†ï¼š 3DGS çš„æ¯ä¸€ä¸ªé«˜æ–¯çƒï¼Œç†è®ºä¸Šéƒ½å¯ä»¥çœ‹ä½œ MPM\r\nä¸­çš„ä¸€ä¸ªç‰©ç†ç²’å­ã€‚\r\nçŠ¶æ€æ›´æ–°å…¬å¼ï¼ˆå…³é”®ï¼‰ï¼š\r\nå½“ç‰©ä½“å—åŠ›å˜å½¢æ—¶ï¼Œé«˜æ–¯çƒä¸ä»…ä½ç½®è¦å˜ï¼Œå½¢çŠ¶ï¼ˆåæ–¹å·®çŸ©é˜µï¼‰ä¹Ÿè¦å˜ã€‚\r\n\r\nä½ç½®æ›´æ–°ï¼š  (æ–°ä½ç½®) =  + ä½ç§»ã€‚\r\nå½¢çŠ¶æ›´æ–°ï¼š ã€‚\r\nè§£é‡Šï¼š \r\nå«åšå˜å½¢æ¢¯åº¦ã€‚æ¯”å¦‚ç‰©ä½“è¢«å‹æ‰äº†ï¼Œ\r\nå°±ä¼šè®°å½•è¿™ä¸ªâ€œå‹æ‰â€çš„åŠ¨ä½œï¼Œç„¶ååº”ç”¨åˆ°é«˜æ–¯çƒçš„å½¢çŠ¶ \r\nä¸Šï¼ŒåŸæœ¬åœ†åœ†çš„é«˜æ–¯çƒä¹Ÿä¼šè·Ÿç€å˜æ‰ã€‚è¿™å°±å®ç°äº†è§†è§‰å’Œç‰©ç†çš„ç»Ÿä¸€ã€‚\r\n\r\n\r\n2.\r\né‡‡æ ·ç­–ç•¥ï¼šPGAS (Physical-Geometric Adaptive Sampling)\r\n\r\nç—›ç‚¹ï¼š ä¸€ä¸ªç²¾ç»†çš„ 3DGS\r\nåœºæ™¯å¯èƒ½æœ‰å‡ ç™¾ä¸‡ä¸ªé«˜æ–¯çƒã€‚å¦‚æœæ¯ä¸ªçƒéƒ½ç®—ç‰©ç†æ¨¡æ‹Ÿï¼Œè®¡ç®—é‡å¤ªå¤§ï¼Œæ˜¾å¡ä¼šå†’çƒŸã€‚\r\nè§£å†³ï¼š ä¸é©±åŠ¨æ‰€æœ‰ç‚¹ï¼Œåªé€‰ä¸€éƒ¨åˆ†â€œé©±åŠ¨ç²’å­â€\r\n(Driving Particles) è¿›è¡Œç‰©ç†è®¡ç®—ï¼Œå…¶ä»–ç‚¹è·Ÿç€åŠ¨ã€‚\r\næ€ä¹ˆé€‰ç‚¹ï¼Ÿ è®ºæ–‡è®¾è®¡äº† PGAS ç­–ç•¥ï¼š\r\n\r\nç¡¬çš„åœ°æ–¹å°‘é€‰ç‚¹ï¼š\r\nåˆšä½“ä¸å®¹æ˜“å˜å½¢ï¼Œå‡ ä¸ªç‚¹å°±èƒ½æ§åˆ¶æ•´ä½“ã€‚\r\nè½¯çš„åœ°æ–¹å¤šé€‰ç‚¹ï¼š\r\nè½¯ç‰©ä½“å˜å½¢å¤æ‚ï¼Œéœ€è¦æ›´å¤šç‚¹æ¥æ•æ‰ç»†èŠ‚ã€‚\r\nå¼¯æ›²çš„åœ°æ–¹å¤šé€‰ç‚¹ï¼š\r\nå½¢çŠ¶å¤æ‚çš„è¾¹ç¼˜éœ€è¦æ›´å¤šæ§åˆ¶ç‚¹ã€‚\r\n\r\næ•ˆæœï¼š æ—¢ä¿è¯äº†ä»¿çœŸé€Ÿåº¦ï¼ˆå•å¡ RTX 3090\r\nå‡ åˆ†é’Ÿå°±èƒ½ç®—å‡ºç»“æœï¼‰ï¼Œåˆä¿è¯äº†è½¯ä½“å˜å½¢çš„çœŸå®æ„Ÿã€‚\r\n\r\n\r\n4. å®éªŒç»“æœä¸å¯¹æ¯”\r\n\r\né€Ÿåº¦ï¼š ç›¸æ¯”äºåˆ©ç”¨è§†é¢‘ç”Ÿæˆæ¨¡å‹ï¼ˆVideo\r\nDiffusionï¼‰æ¥åšç‰©ç†ä»¿çœŸçš„æ–¹æ³•ï¼ˆé€šå¸¸éœ€è¦å‡ å°æ—¶ï¼‰ï¼Œæœ¬æ–¹æ³•åªéœ€è¦\r\n2åˆ†é’Ÿ å·¦å³ã€‚\r\nçœŸå®æ„Ÿï¼š åœ¨ç”¨æˆ·è°ƒç ”ä¸­ï¼Œäººä»¬è®¤ä¸º Sim Anything\r\nç”Ÿæˆçš„ç‰©ç†è¿åŠ¨æ¯” DreamGaussian4D\r\nç­‰æ–¹æ³•æ›´ç¬¦åˆç‰©ç†è§„å¾‹ï¼ˆæ¯”å¦‚å¸ƒæ–™çš„æ‘†åŠ¨ã€æœå†»çš„é¢¤åŠ¨ï¼‰ã€‚\r\nå¯¹æ¯”ä¼ ç»Ÿæ–¹æ³•ï¼š\r\n\r\nPhysGaussian:\r\næœ¬æ–‡æ–¹æ³•ä¸å…¶ç±»ä¼¼ï¼Œä½†å¢åŠ äº†å…¨è‡ªåŠ¨çš„å‚æ•°ä¼°è®¡å’Œæ›´ä¼˜çš„é‡‡æ ·ç­–ç•¥ï¼Œä¸ä»…é™äºå•ä¸€ç‰©ä½“ï¼Œèƒ½å¤„ç†æ•´ä¸ªåœºæ™¯ã€‚\r\nè§†é¢‘ç”Ÿæˆç±»æ–¹æ³• (PhysDreamer):\r\nè§†é¢‘ç”Ÿæˆè™½ç„¶ç”»é¢å¥½çœ‹ï¼Œä½†å®¹æ˜“å‡ºç°â€œç‰©ç†å¹»è§‰â€ï¼ˆä¸ç¬¦åˆç‰›é¡¿å®šå¾‹ï¼‰ï¼Œè€Œä¸”ææ…¢ã€‚\r\n\r\n\r\n\r\n\r\næ€»ç»“ç¬”è®°\r\nä¸éœ€è¦è½¬ç½‘æ ¼ï¼š ä¸éœ€è¦å°† 3DGS è½¬åŒ–ä¸º Mesh æˆ–\r\nSDFã€‚\r\næ ¸å¿ƒæ˜¯ MPMï¼š ä¹Ÿå°±æ˜¯ç‰©è´¨ç‚¹æ³•ã€‚è¿™æ˜¯è¿æ¥\r\n3DGSï¼ˆè§†è§‰ï¼‰å’Œç‰©ç†ä¸–ç•Œçš„æ¡¥æ¢ã€‚\r\næ•°æ®ç»“æ„å¯¹åº”ï¼š\r\n\r\n3DGS çš„ å‡å€¼ä¸­å¿ƒ (Mean Position) = ç‰©ç†ç²’å­çš„\r\nä½ç½®ã€‚\r\n3DGS çš„ åæ–¹å·®çŸ©é˜µ (Covariance) = å—ç‰©ç†\r\nå˜å½¢æ¢¯åº¦ (Deformation Gradient) é©±åŠ¨çš„å½¢çŠ¶å˜é‡ã€‚\r\n\r\næ€§èƒ½ä¼˜åŒ–å…³é”®ï¼š\r\nä¸è¦ä»¿çœŸæ¯ä¸€ä¸ªé«˜æ–¯ç‚¹ã€‚ä½¿ç”¨ä¸‹é‡‡æ ·ï¼ˆSub-samplingï¼‰æŠ€æœ¯ï¼Œé€‰å–å…³é”®çš„â€œé©±åŠ¨ç²’å­â€è¿›è¡Œç‰©ç†è®¡ç®—ï¼Œåˆ©ç”¨åˆšæ€§å˜æ¢\r\n(Rigid Body Transformation) æ’å€¼æ¥é©±åŠ¨å‘¨å›´çš„é«˜æ–¯ç‚¹ã€‚\r\n\r\n","categories":["ä¸‰ç»´é‡å»º","ç‰©ç†ä»¿çœŸ"],"tags":["3DGS"]},{"title":"PhysGaussiané˜…è¯»ç¬”è®°","url":"/2025/12/16/22-PhysGaussian/","content":"\r\n1. æ ¸å¿ƒæ€æƒ³\r\nè¿™ç¯‡è®ºæ–‡æå‡ºäº† PhysGaussianï¼Œæ ¸å¿ƒç†å¿µæ˜¯\r\n\"æ‰€è§å³æ‰€ä»¿\" (What You See Is What You Simulate, )ã€‚å®ƒä¸å†éœ€è¦å°† 3DGS\r\nè½¬æ¢ä¸ºä¸‰è§’å½¢ç½‘æ ¼æˆ–å››é¢ä½“ç½‘æ ¼ï¼Œè€Œæ˜¯ç›´æ¥å°† 3DGS\r\nä¸­çš„æ¯ä¸€ä¸ªâ€œé«˜æ–¯æ¤­çƒâ€è§†ä¸ºç‰©ç†æ¨¡æ‹Ÿä¸­çš„ä¸€ä¸ªâ€œç²’å­â€ã€‚\r\n\r\nä¼ ç»Ÿæµç¨‹ï¼šç‰©ä½“ -&gt; è½¬æ¢ä¸ºç½‘æ ¼ -&gt;\r\nç‰©ç†å¼•æ“è§£ç®—ç½‘æ ¼å½¢å˜ -&gt; æ¸²æŸ“å¼•æ“æ ¹æ®ç½‘æ ¼æ›´æ–°ç”»é¢ã€‚\r\næœ¬è®ºæ–‡æµç¨‹ï¼šç‰©ä½“ (3DGS) -&gt;\r\nç‰©ç†å¼•æ“ç›´æ¥æ¨ç®—é«˜æ–¯çƒçš„ä½ç§»å’Œå½¢å˜ -&gt;\r\næ¸²æŸ“å¼•æ“ç›´æ¥ç”»å‡ºæ›´æ–°åçš„é«˜æ–¯çƒã€‚\r\n\r\n\r\n2. åŸºç¡€æ¦‚å¿µ\r\n\r\n3D Gaussian Splatting (3DGS):\r\n\r\né€šä¿—è§£é‡Šï¼š ä¸€ç§æ–°çš„ 3D\r\nç»˜å›¾æŠ€æœ¯ã€‚ä»¥å‰æˆ‘ä»¬ç”¨ä¸‰è§’å½¢æ‹¼å‡ºç‰©ä½“ï¼ˆåƒæŠ˜çº¸ï¼‰ï¼Œç°åœ¨æˆ‘ä»¬ç”¨æ— æ•°ä¸ªæ¨¡ç³Šçš„æ¤­çƒä½“ï¼ˆé«˜æ–¯çƒï¼‰å †å å‡ºç‰©ä½“ã€‚æ¯ä¸ªçƒæœ‰ä½ç½®ã€é¢œè‰²ã€å¤§å°ã€æ—‹è½¬è§’åº¦ã€‚\r\nä¼˜åŠ¿ï¼š æ¸²æŸ“é€Ÿåº¦æå¿«ï¼Œç”»è´¨é€¼çœŸã€‚\r\n\r\nè¿ç»­ä»‹è´¨åŠ›å­¦ (Continuum Mechanics):\r\n\r\nç ”ç©¶ç‰©ä½“åœ¨å—åŠ›æ—¶å¦‚ä½•è¿åŠ¨å’Œå˜å½¢çš„å­¦ç§‘ã€‚å®ƒæŠŠç‰©ä½“çœ‹ä½œæ˜¯è¿ç»­ä¸æ–­çš„ææ–™ï¼Œè€Œä¸æ˜¯åŸå­å †ç§¯ã€‚\r\nå…³é”®ç‚¹ï¼šå®ƒé€šè¿‡â€œå½¢å˜æ¢¯åº¦â€ï¼ˆDeformation Gradientï¼Œè®°ä¸º ï¼‰æ¥æè¿°ç‰©ä½“å±€éƒ¨æ˜¯å¦‚ä½•è¢«æ‹‰ä¼¸ã€æ—‹è½¬æˆ–å‰ªåˆ‡çš„ã€‚\r\n\r\nç‰©è´¨ç‚¹æ³• (MPM, Material Point Method):\r\n\r\næ ¸å¿ƒé€»è¾‘ï¼šå®ƒæ··åˆä½¿ç”¨äº†ç²’å­ï¼ˆLagrangianï¼Œéšç‰©è´¨ç§»åŠ¨ï¼‰å’ŒèƒŒæ™¯ç½‘æ ¼ï¼ˆEulerianï¼Œå›ºå®šä¸åŠ¨ï¼‰ã€‚\r\nä¸ºä»€ä¹ˆé€‰å®ƒï¼š3DGS æœ¬è´¨æ˜¯ç¦»æ•£çš„â€œç‚¹â€ï¼ŒMPM\r\nåˆšå¥½ä¹Ÿæ˜¯åŸºäºâ€œç‚¹â€ï¼ˆç²’å­ï¼‰çš„ã€‚ä¸¤è€…å¤©ç”Ÿå¥‘åˆï¼Œæ¯”åŸºäºç½‘æ ¼çš„æœ‰é™å…ƒæ³•ï¼ˆFEMï¼‰æ›´é€‚åˆå¤„ç†\r\n3DGSã€‚\r\n\r\n\r\n\r\n3. æ ¸å¿ƒæ–¹æ³•\r\nPhysGaussian\r\nçš„æ ¸å¿ƒåœ¨äºå°†å›¾å½¢å­¦çš„å±æ€§ä¸ç‰©ç†å­¦çš„å±æ€§ç»‘å®šåœ¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šã€‚\r\n3.1 ç»Ÿä¸€è¡¨è¾¾ (Unified\r\nRepresentation)\r\nè®ºæ–‡å°† 3DGS çš„é«˜æ–¯æ ¸ç›´æ¥è§†ä¸º MPM æ¨¡æ‹Ÿä¸­çš„ç²’å­ã€‚\r\n\r\nå›¾å½¢å±æ€§ï¼šä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾ã€é¢œè‰²ï¼ˆçƒè°ç³»æ•°ï¼‰ã€ä¸é€æ˜åº¦ã€‚\r\nç‰©ç†å±æ€§ï¼šè´¨é‡ã€é€Ÿåº¦ã€å½¢å˜æ¢¯åº¦ã€åº”åŠ›ï¼ˆå†…éƒ¨çš„åŠ›ï¼‰ã€‚\r\n\r\n3.2 è¿åŠ¨å­¦æ¼”å˜ (Kinematics)\r\nå½“ç‰©ä½“è¢«æŒ¤å‹æ—¶ï¼Œä¸ä»…ä½ç½®å˜äº†ï¼Œå½¢çŠ¶ä¹Ÿå¾—å˜ã€‚å¦‚æœé«˜æ–¯çƒåªæ˜¯å¹³ç§»ï¼Œæ¸²æŸ“å‡ºæ¥çš„ç‰©ä½“çœ‹èµ·æ¥ä¼šåƒæ˜¯åœ¨â€œå¹³ç§»é”™ä½â€ï¼Œè€Œä¸æ˜¯â€œå˜å½¢â€ã€‚\r\n\r\nä½ç½®æ›´æ–°ï¼šç”± MPM ç®—å‡ºç²’å­çš„æ–°é€Ÿåº¦å’Œæ–°ä½ç½®ã€‚\r\nå½¢çŠ¶æ›´æ–°ï¼ˆåæ–¹å·®çŸ©é˜µæ¼”å˜ï¼‰ï¼š\r\nè¿™æ˜¯è®ºæ–‡çš„ç²¾é«“ã€‚æ ¹æ®è¿ç»­ä»‹è´¨åŠ›å­¦ï¼Œå¦‚æœçŸ¥é“ç‰©ä½“å±€éƒ¨çš„å½¢å˜æ¢¯åº¦ ï¼ˆæ¯”å¦‚å±€éƒ¨è¢«æ‹‰é•¿äº† 2\r\nå€ï¼‰ï¼Œé‚£ä¹ˆé«˜æ–¯çƒçš„å½¢çŠ¶ï¼ˆåæ–¹å·®çŸ©é˜µ ï¼‰ä¹Ÿåº”è¯¥è¢«ç›¸åº”åœ°æ‹‰ä¼¸ã€‚\r\n\r\nå…¬å¼é€»è¾‘ï¼šæ–°çš„å½¢çŠ¶ = å½¢å˜æ¢¯åº¦  åŸå§‹å½¢çŠ¶  å½¢å˜æ¢¯åº¦çš„è½¬ç½®ã€‚\r\né€šä¿—è§£é‡Šï¼šå¦‚æœä¸€ä¸ªåŸæœ¬æ˜¯åœ†çƒçš„é«˜æ–¯æ ¸ï¼Œæ‰€åœ¨çš„åŒºåŸŸè¢«ç‰©ç†å¼•æ“åˆ¤å®šä¸ºâ€œå‹æ‰â€ï¼Œé‚£ä¹ˆè¿™ä¸ªé«˜æ–¯æ ¸åœ¨æ¸²æŸ“æ—¶å°±ä¼šè‡ªåŠ¨å˜æˆä¸€ä¸ªæ‰å¹³çš„é£ç¢Ÿå½¢çŠ¶ã€‚\r\n\r\n\r\n3.3 è§†è§‰å¤–è§‚çš„æ—‹è½¬ (SH\r\nRotation)\r\n3DGS ä½¿ç”¨çƒè°å‡½æ•° (Spherical Harmonics, SH)\r\næ¥è¡¨ç¤ºé¢œè‰²ï¼Œè¿™ç§é¢œè‰²æ˜¯éšè§‚å¯Ÿè§’åº¦å˜åŒ–çš„ï¼ˆæ¯”å¦‚é‡‘å±å…‰æ³½ï¼‰ã€‚\r\n\r\né—®é¢˜ï¼šå¦‚æœç‰©ä½“æ—‹è½¬äº† 90\r\nåº¦ï¼Œä½†ä»–èº«ä¸Šçš„â€œå…‰æ³½â€æ²¡è·Ÿç€è½¬ï¼Œçœ‹èµ·æ¥å°±ä¼šå¾ˆå‡ã€‚\r\nè§£å†³ï¼šåˆ©ç”¨ç‰©ç†è®¡ç®—å‡ºçš„å±€éƒ¨æ—‹è½¬ä¿¡æ¯ï¼Œå¯¹çƒè°ç³»æ•°çš„æ–¹å‘è¿›è¡Œå˜æ¢ï¼Œç¡®ä¿å…‰å½±éšç‰©ä½“ä¸€èµ·è¿åŠ¨ã€‚\r\n\r\n\r\n4. å…³é”®æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ\r\nç›´æ¥æ‹¿ 3DGS åšä»¿çœŸæœ‰ä¸¤ä¸ªå¤§å‘ï¼Œè®ºæ–‡ç»™å‡ºäº†å¡«å‘æ–¹æ¡ˆã€‚\r\næŒ‘æˆ˜ä¸€ï¼šç©ºå¿ƒå£³é—®é¢˜\r\n(Hollow Shell Problem)\r\n3DGS è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹é€šå¸¸åªæœ‰è¡¨é¢æœ‰é«˜æ–¯ç‚¹ï¼Œå†…éƒ¨æ˜¯ç©ºçš„ã€‚\r\n\r\nç‰©ç†ä¸Šçš„é—®é¢˜ï¼šå¦‚æœä¸€ä¸ªæ˜¯ç©ºå£³ï¼Œå®ƒæ˜¯æ²¡æœ‰è´¨é‡çš„ï¼Œæˆ–è€…è´¨é‡åˆ†å¸ƒä¸å¯¹ã€‚ç¨å¾®ä¸€ç¢°å°±ä¼šåƒæ°”çƒä¸€æ ·ç˜ªæ‰ï¼Œæˆ–è€…æ— æ³•æ¨¡æ‹Ÿå®å¿ƒçš„å¼¹æ€§ï¼ˆæ¯”å¦‚æä¸€å—å®å¿ƒæ©¡èƒ¶ï¼‰ã€‚\r\nè§£å†³æ–¹æ¡ˆï¼šå†…éƒ¨å¡«å…… (Internal Filling)\r\n\r\nåˆ©ç”¨ 3DGS çš„ä¸é€æ˜åº¦åœºï¼ˆOpacity Fieldï¼‰ã€‚\r\nå‘ç‰©ä½“å†…éƒ¨å‘å°„å°„çº¿ï¼Œå¦‚æœå°„çº¿çš„èƒ½é‡ä»ä½å˜é«˜å†å˜ä½ï¼Œè¯´æ˜ç©¿è¿‡äº†ç‰©ä½“ã€‚\r\nåœ¨æ£€æµ‹åˆ°çš„ç‰©ä½“â€œå†…éƒ¨â€ç©ºæ´åŒºåŸŸï¼Œäººå·¥ç”Ÿæˆæ–°çš„ä¸å¯è§ç²’å­ï¼ˆOpacity ä¸º\r\n0ï¼Œä¸å‚ä¸æ¸²æŸ“ï¼Œåªå‚ä¸ç‰©ç†è®¡ç®—ï¼‰ã€‚\r\nè¿™æ ·ç‰©ä½“å°±æœ‰äº†â€œå®å¿ƒâ€çš„ç‰©ç†å±æ€§ï¼Œç¢°æ’å’Œå½¢å˜æ‰çœŸå®ã€‚\r\n\r\n\r\næŒ‘æˆ˜äºŒï¼šé•¿æ¡ä¼ªå½±é—®é¢˜\r\n(Needle Artifacts)\r\n3DGS ä¸ºäº†æ‹Ÿåˆè¡¨é¢ï¼Œæœ‰æ—¶å€™ä¼šæŠŠé«˜æ–¯çƒæ‹‰å¾—æé•¿ï¼ˆåƒä¸€æ ¹é’ˆï¼‰ã€‚\r\n\r\nç‰©ç†ä¸Šçš„é—®é¢˜ï¼šå½“è¿™äº›â€œé•¿é’ˆâ€åœ¨ç‰©ç†æ¨¡æ‹Ÿä¸­å‘ç”Ÿå‰§çƒˆæ—‹è½¬æˆ–å¼¯æ›²æ—¶ï¼Œå®ƒä»¬å¯èƒ½ä¼šåƒåˆºçŒ¬çš„åˆºä¸€æ ·æˆ³å‡ºç‰©ä½“è¡¨é¢ï¼Œå¯¼è‡´ç”»é¢å‡ºç°å¾ˆå¤šæ¯›åˆºã€‚\r\nè§£å†³æ–¹æ¡ˆï¼šå„å‘å¼‚æ€§æ­£åˆ™åŒ– (Anisotropy Regularizer)\r\n\r\nåœ¨è®­ç»ƒ 3DGS çš„é˜¶æ®µåŠ å…¥ä¸€ä¸ªæƒ©ç½šé¡¹ï¼ˆLossï¼‰ã€‚\r\né€šä¿—è§£é‡Šï¼šè®­ç»ƒæ—¶å‘Šè¯‰ç®—æ³•ï¼Œâ€œä½ å°½é‡æŠŠé«˜æ–¯çƒåšå¾—åœ†ä¸€ç‚¹ï¼Œä¸è¦å¤ªé•¿å¤ªæ‰â€ã€‚å¼ºåˆ¶é™åˆ¶é•¿è½´å’ŒçŸ­è½´çš„æ¯”ä¾‹ï¼Œä¿è¯ç²’å­å½¢çŠ¶åœ¨åç»­ç‰©ç†å½¢å˜ä¸­æ›´é²æ£’ã€‚\r\n\r\n\r\n\r\n5. å…³äºç¢°æ’æ£€æµ‹ (Collision)\r\nç¢°æ’é—®é¢˜ï¼Œåœ¨è®ºæ–‡ä¸­æ˜¯é€šè¿‡ MPM ç®—æ³•å¤©ç„¶è§£å†³çš„ã€‚\r\n\r\nåŸç†ï¼šMPM\r\nç®—æ³•ä¸­ï¼Œæ‰€æœ‰ç²’å­çš„åŠ¨é‡éƒ½ä¼šå…ˆä¼ é€’ç»™èƒŒæ™¯ç½‘æ ¼ï¼ˆGridï¼‰ï¼Œåœ¨ç½‘æ ¼ä¸Šè®¡ç®—å—åŠ›ï¼Œå†ä¼ å›ç²’å­ã€‚\r\næ•ˆæœï¼š\r\n\r\nç‰©ä½“ä¸ç‰©ä½“ç¢°æ’ï¼šå½“ä¸¤ä¸ªç‰©ä½“ï¼ˆä¸¤å›¢é«˜æ–¯äº‘ï¼‰é è¿‘æ—¶ï¼Œå®ƒä»¬ä¼šæ˜ å°„åˆ°åŒä¸€ä¸ªèƒŒæ™¯ç½‘æ ¼èŠ‚ç‚¹ä¸Šã€‚ç½‘æ ¼èŠ‚ç‚¹ä¼šå‘ç°â€œè¿™é‡ŒåŠ¨é‡å†²çªäº†â€ï¼Œè‡ªåŠ¨è®¡ç®—å‡ºåå¼¹åŠ›ã€‚ä¸éœ€è¦æ˜¾å¼åœ°å†™ä»£ç å»åˆ¤æ–­â€œä¸‰è§’å½¢Aæ˜¯å¦ç©¿æ’äº†ä¸‰è§’å½¢Bâ€ã€‚\r\nç‰©ä½“ä¸åœ°é¢ç¢°æ’ï¼šé€šè¿‡è®¾ç½®ç½‘æ ¼è¾¹ç•Œæ¡ä»¶å³å¯å®ç°ã€‚\r\nè‡ªç¢°æ’ï¼šæ¯”å¦‚ä¸€å—æµ·ç»µæŠ˜å èµ·æ¥ï¼Œè‡ªå·±ç¢°åˆ°è‡ªå·±ï¼ŒMPM\r\nä¹Ÿèƒ½è‡ªåŠ¨å¤„ç†ã€‚\r\n\r\n\r\n\r\n6. ä»¿çœŸèƒ½åŠ›å±•ç¤º\r\nè¯¥æ–¹æ³•ä¸ä»…èƒ½åšç®€å•çš„ç§»åŠ¨ï¼Œè¿˜èƒ½æ¨¡æ‹Ÿå¤šç§æè´¨ï¼š\r\n\r\nå¼¹æ€§ä½“\r\n(Elasticity)ï¼šå¦‚æœå†»ã€æ©¡èƒ¶ç‹ç‹¸ã€‚å½¢å˜åèƒ½æ¢å¤åŸçŠ¶ã€‚\r\nå¡‘æ€§é‡‘å±\r\n(Metal)ï¼šå¦‚è¢«æ’æ‰çš„æ˜“æ‹‰ç½ã€‚æ’æ‰åå°±æ‰äº†ï¼Œä¸ä¼šå¼¹å›æ¥ã€‚\r\néç‰›é¡¿æµä½“/ç²˜å¡‘æ€§\r\n(Viscoplastic)ï¼šå¦‚è›‹ç³•ä¸Šçš„å¥¶æ²¹ã€æœé…±ã€‚\r\né¢—ç²’ææ–™ (Granular)ï¼šå¦‚æ²™åœŸã€æ•£è½çš„ç²‰æœ«ã€‚\r\næ–­è£‚ (Fracture)ï¼šæ¯”å¦‚æ’•é¢åŒ…ã€‚å› ä¸º 3DGS\r\næ˜¯ç¦»æ•£çš„ç‚¹ï¼Œæ‰€ä»¥â€œæ’•å¼€â€ç‰©ä½“åªæ˜¯æŠŠç‚¹åˆ†å¼€è€Œå·²ï¼Œä¸éœ€è¦åƒç½‘æ ¼é‚£æ ·å¤„ç†å¤æ‚çš„æ‹“æ‰‘æ–­è£‚ï¼ˆRemeshingï¼‰ã€‚\r\n\r\n\r\n7. æ€»ç»“ï¼šä¼˜ç‚¹ä¸å±€é™æ€§\r\nä¼˜ç‚¹\r\n\r\næ‰€è§å³æ‰€ä»¿ï¼šä¸éœ€è¦ç»´æŠ¤ä¸¤å¥—æ¨¡å‹ï¼ˆæ¸²æŸ“ç½‘æ ¼ vs\r\nç‰©ç†ç½‘æ ¼ï¼‰ï¼Œæ¶ˆé™¤äº†å‡ ä½•ä¸åŒ¹é…ã€‚\r\næµç¨‹ç®€åŒ–ï¼šçœå»äº†ç½‘æ ¼ç”Ÿæˆï¼ˆMeshingï¼‰è¿™ä¸€ç¹çä¸”å®¹æ˜“å‡ºé”™çš„æ­¥éª¤ã€‚\r\nå¤©ç„¶æ”¯æŒå¤§å½¢å˜ä¸æ‹“æ‰‘æ”¹å˜ï¼šæ’•è£‚ã€æµä½“åŒ–ã€èåŒ–ç­‰æ•ˆæœï¼Œç”¨ç‚¹äº‘ï¼ˆMPMï¼‰åšæ¯”ç”¨ç½‘æ ¼åšå®¹æ˜“å¾—å¤šã€‚\r\næ¸²æŸ“è´¨é‡é«˜ï¼šç»§æ‰¿äº† 3DGS çš„ç…§ç‰‡çº§æ¸²æŸ“èƒ½åŠ›ã€‚\r\n\r\nå±€é™\r\n\r\né˜´å½±é—®é¢˜ï¼šç›®å‰çš„ 3DGS\r\nå¾ˆéš¾å¤„ç†åŠ¨æ€é˜´å½±ï¼ˆShadowsï¼‰ï¼Œæ‰€ä»¥è™½ç„¶ç‰©ä½“åŠ¨äº†ï¼Œä½†é˜´å½±å¯èƒ½ä¸çœŸå®ã€‚\r\nå‚æ•°æ‰‹åŠ¨è®¾ç½®ï¼šç‰©ä½“çš„ç¡¬åº¦ã€å¯†åº¦ç­‰ç‰©ç†å‚æ•°éœ€è¦äººå·¥æŒ‡å®šï¼Œç›®å‰è¿˜ä¸èƒ½å®Œå…¨ä»è§†é¢‘ä¸­è‡ªåŠ¨å­¦ä¹ å‡ºæ¥ã€‚\r\nè®¡ç®—é‡ï¼šè™½ç„¶æ¯”çº¯ç½‘æ ¼ç‰©ç†æ¨¡æ‹Ÿæ–¹ä¾¿ï¼Œä½† MPM\r\næ¨¡æ‹Ÿæœ¬èº«çš„è®¡ç®—é‡ä¾ç„¶ä¸å°ï¼ˆè™½ç„¶å¯ä»¥ GPU åŠ é€Ÿï¼‰ã€‚\r\n\r\n","categories":["ä¸‰ç»´é‡å»º","ç‰©ç†ä»¿çœŸ"],"tags":["3DGS"]},{"title":"MotrixSim MuJoCo ç¤ºä¾‹åˆ†æç¬”è®°","url":"/2025/12/29/25-MotrixSim_Mujoco/","content":"ğŸ“ æ–‡ä»¶æ¦‚è§ˆ\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\næ–‡ä»¶å\r\nåœºæ™¯æè¿°\r\næ ¸å¿ƒæ¦‚å¿µ\r\n\r\n\r\n\r\n\r\ngrasp_shaking_test.py\r\næœºæ¢°è‡‚æŠ“å–ä¸æ‘‡æ™ƒæµ‹è¯•\r\nè½¨è¿¹æ§åˆ¶ã€å¤¹çˆªæ§åˆ¶ã€å½•åˆ¶\r\n\r\n\r\ngyroscope.py\r\né™€èºä»ªä»¿çœŸï¼ˆæœ‰é‡åŠ›ï¼‰\r\nåˆå§‹é€Ÿåº¦è®¾ç½®ã€DOF æ§åˆ¶\r\n\r\n\r\ngyroscope_zero_gravity.py\r\né›¶é‡åŠ›é™€èºä»ª\r\né›¶é‡åŠ›ç¯å¢ƒã€å¤šè½´æ—‹è½¬\r\n\r\n\r\nnewton_cradle.py\r\nç‰›é¡¿æ‘†\r\nç¢°æ’æ¨¡æ‹Ÿã€èƒ½é‡ä¼ é€’\r\n\r\n\r\n\r\n\r\n1. æœºæ¢°è‡‚æŠ“å–æ‘‡æ™ƒæµ‹è¯•\r\n\r\næ–‡ä»¶: grasp_shaking_test.py\r\nåœºæ™¯æè¿°\r\nè¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ Franka Emika Panda\r\næœºæ¢°è‡‚è¿›è¡ŒæŠ“å–æµ‹è¯•çš„ä»¿çœŸåœºæ™¯ã€‚æœºæ¢°è‡‚ä¼šæŠ“èµ·ä¸€ä¸ªç‰©ä½“ï¼ˆç«‹æ–¹ä½“ã€çƒæˆ–ç“¶å­ï¼‰ï¼Œç„¶åè¿›è¡Œæ‘‡æ™ƒæµ‹è¯•æˆ–æ»‘ç§»æµ‹è¯•ï¼ŒéªŒè¯æŠ“å–çš„ç¨³å®šæ€§ã€‚\r\næ ¸å¿ƒåŠŸèƒ½\r\n\r\nå¤šç‰©ä½“æ”¯æŒ: æ”¯æŒæŠ“å– 3 ç§ä¸åŒç‰©ä½“\r\n\r\ncube - ç«‹æ–¹ä½“\r\nball - çƒä½“\r\nbottle - ç“¶å­\r\n\r\nä¸¤ç§æµ‹è¯•æ¨¡å¼:\r\n\r\næ‘‡æ™ƒæµ‹è¯• (shake): æŠ“å–åéšæœºæ‘‡æ™ƒæ‰‹è‡‚\r\næ»‘ç§»æµ‹è¯• (slip):\r\næŠ“å–åä¿æŒé™æ­¢ï¼Œæµ‹è¯•ç‰©ä½“æ˜¯å¦æ»‘è½\r\n\r\nå½•åˆ¶åŠŸèƒ½: å¯å°†ä»¿çœŸè¿‡ç¨‹å½•åˆ¶ä¸º MP4 è§†é¢‘\r\n\r\nä»£ç ç»“æ„åˆ†æ\r\n# å‘½ä»¤è¡Œå‚æ•°å®šä¹‰_Obj = flags.DEFINE_string(\"object\", \"cube\", \"...\")     # ç‰©ä½“é€‰æ‹©_Shake = flags.DEFINE_boolean(\"shake\", True, \"...\")     # æ˜¯å¦æ‘‡æ™ƒ_Record = flags.DEFINE_boolean(\"record\", True, \"...\")   # æ˜¯å¦å½•åˆ¶\r\nä»¿çœŸæµç¨‹ (çŠ¶æ€æœº)\r\nstateDiagram-v2\r\n    [*] --&gt; ç§»åŠ¨åˆ°æŠ¬èµ·ä½ç½®: step 0-500\r\n    ç§»åŠ¨åˆ°æŠ¬èµ·ä½ç½® --&gt; ç§»åŠ¨åˆ°æŠ“å–ä½ç½®: step 500-1000\r\n    ç§»åŠ¨åˆ°æŠ“å–ä½ç½® --&gt; é—­åˆå¤¹çˆª: step 1000-1500\r\n    é—­åˆå¤¹çˆª --&gt; æŠ¬èµ·ç‰©ä½“: step 1500-2000\r\n    æŠ¬èµ·ç‰©ä½“ --&gt; æ‘‡æ™ƒæµ‹è¯•: step 2000-10000 (if shake)\r\n    æŠ¬èµ·ç‰©ä½“ --&gt; ä¿æŒé™æ­¢: step 2000-10000 (if !shake)\r\n    æ‘‡æ™ƒæµ‹è¯• --&gt; æµ‹è¯•é€šè¿‡: step &gt; 10000\r\n    ä¿æŒé™æ­¢ --&gt; æµ‹è¯•é€šè¿‡: step &gt; 10000\r\n    æ‘‡æ™ƒæµ‹è¯• --&gt; æµ‹è¯•å¤±è´¥: ç‰©ä½“æ‰è½ (z &lt; 0.04)\r\n    ä¿æŒé™æ­¢ --&gt; æµ‹è¯•å¤±è´¥: ç‰©ä½“æ‰è½ (z &lt; 0.04)\r\nå…³é”®æŠ€æœ¯ç‚¹\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\næŠ€æœ¯ç‚¹\r\nè¯´æ˜\r\nä»£ç ä½ç½®\r\n\r\n\r\n\r\n\r\nKeyframe ä½¿ç”¨\r\nä½¿ç”¨é¢„å®šä¹‰å…³é”®å¸§ä½œä¸ºç›®æ ‡ä½å§¿\r\nmodel.key(\"home\"), model.key(\"grasp\"),\r\nmodel.key(\"lift\")\r\n\r\n\r\nçº¿æ€§æ’å€¼\r\nä½¿ç”¨ lerp å‡½æ•°å¹³æ»‘è¿‡æ¸¡å…³èŠ‚ä½ç½®\r\nlerp(a, b, t)\r\n\r\n\r\nå¤¹çˆªæ§åˆ¶\r\né€šè¿‡ ctrl[7] æ§åˆ¶å¤¹çˆªå¼€åˆ\r\ndata.ctrl[7] = lerp(0.04, 0, ...)\r\n\r\n\r\néšæœºæ‰°åŠ¨\r\næ‘‡æ™ƒæ—¶ä½¿ç”¨é«˜æ–¯å™ªå£°æ‰°åŠ¨\r\nnp.random.normal(0, 0.025, size=7)\r\n\r\n\r\næ‰è½æ£€æµ‹\r\nç›‘æµ‹ç‰©ä½“ z åæ ‡åˆ¤æ–­æ˜¯å¦æ‰è½\r\nobj_pos[2] &lt; 0.04\r\n\r\n\r\nè§†é¢‘å½•åˆ¶\r\nä½¿ç”¨ imageio ä¿å­˜å¸§åºåˆ—\r\nimageio.mimwrite(...)\r\n\r\n\r\n\r\nä½¿ç”¨ç¤ºä¾‹\r\n# æŠ“å–ç«‹æ–¹ä½“å¹¶æ‘‡æ™ƒpython examples/mujoco/grasp_shaking_test.py --object=cube --shake=True# æŠ“å–ç“¶å­è¿›è¡Œæ»‘ç§»æµ‹è¯•ï¼ˆä¸æ‘‡æ™ƒï¼‰python examples/mujoco/grasp_shaking_test.py --object=bottle --shake=False --record=False\r\n\r\n2. é™€èºä»ªä»¿çœŸï¼ˆæœ‰é‡åŠ›ï¼‰\r\n\r\næ–‡ä»¶: gyroscope.py\r\nåœºæ™¯æè¿°\r\næ¨¡æ‹Ÿä¸€ä¸ªåœ¨é‡åŠ›ç¯å¢ƒä¸‹æ—‹è½¬çš„é™€èºä»ªã€‚é™€èºä»ªè¢«èµ‹äºˆåˆå§‹è§’é€Ÿåº¦åï¼Œä¼šåœ¨é‡åŠ›ä½œç”¨ä¸‹äº§ç”Ÿè¿›åŠ¨ï¼ˆprecessionï¼‰ç°è±¡ã€‚\r\nç‰©ç†åŸç†\r\n\n  \n    \n      é™€èºè¿›åŠ¨\r\n\n    \n    \n      å½“é™€èºä»ªé«˜é€Ÿæ—‹è½¬æ—¶ï¼Œç”±äºé‡åŠ›äº§ç”Ÿçš„åŠ›çŸ©ä¸ä¼šä½¿å…¶ç«‹å³å€¾å€’ï¼Œè€Œæ˜¯ä½¿æ—‹è½¬è½´ç»•å‚ç›´æ–¹å‘ç¼“æ…¢æ—‹è½¬ï¼Œè¿™å°±æ˜¯è¿›åŠ¨ç°è±¡ã€‚\r\n\n    \n  \r\nå…³é”®ä»£ç è§£æ\r\n# è·å–å…³èŠ‚çš„è‡ªç”±åº¦åœ°å€joint_name = \"ball_1\"joint_id = mujoco.mj_name2id(model, mujoco.mjtObj.mjOBJ_JOINT, joint_name)dof_vel_adr = model.jnt_dofadr[joint_id]# è®¾ç½®åˆå§‹è§’é€Ÿåº¦ (ç»• Z è½´)data.qvel[dof_vel_adr + 5] = 50  # é«˜é€Ÿè‡ªè½¬\r\nDOF é€Ÿåº¦åœ°å€è¯´æ˜\r\nå¯¹äºä¸€ä¸ª 6-DOF çƒå…³èŠ‚:\r\n\r\ndof_vel_adr + 0~2: çº¿é€Ÿåº¦ (vx, vy, vz)\r\ndof_vel_adr + 3~5: è§’é€Ÿåº¦ (wx, wy, wz)\r\n\r\nå› æ­¤ dof_vel_adr + 5 è®¾ç½®çš„æ˜¯ç»•å±€éƒ¨ Z è½´çš„è§’é€Ÿåº¦ã€‚\r\nä»¿çœŸç‰¹ç‚¹\r\n\r\nç›¸æœºè®¾ç½®: å°†ç›¸æœºè·ç¦»è®¾ä¸º\r\n5ï¼Œä»¥ä¾¿è§‚å¯Ÿå®Œæ•´çš„è¿›åŠ¨è¿åŠ¨\r\nå®æ—¶åŒæ­¥: ä½¿ç”¨ time.sleep\r\nä¿æŒä»¿çœŸä¸å®é™…æ—¶é—´åŒæ­¥\r\n\r\n\r\n3. é›¶é‡åŠ›é™€èºä»ª\r\n\r\næ–‡ä»¶: gyroscope_zero_gravity.py\r\nåœºæ™¯æè¿°\r\nåœ¨é›¶é‡åŠ›ç¯å¢ƒä¸‹æ¨¡æ‹Ÿé™€èºä»ªçš„è‡ªç”±æ—‹è½¬ã€‚ç”±äºæ²¡æœ‰é‡åŠ›ï¼Œé™€èºä»ªä¸ä¼šäº§ç”Ÿè¿›åŠ¨ï¼Œè€Œæ˜¯ä¿æŒè§’åŠ¨é‡å®ˆæ’çš„çº¯æ—‹è½¬è¿åŠ¨ã€‚\r\nä¸æœ‰é‡åŠ›ç‰ˆæœ¬çš„å¯¹æ¯”\r\n\r\n\r\n\r\nç‰¹æ€§\r\ngyroscope.py\r\ngyroscope_zero_gravity.py\r\n\r\n\r\n\r\n\r\né‡åŠ›\r\næœ‰\r\næ— \r\n\r\n\r\nåˆå§‹è§’é€Ÿåº¦\r\nå•è½´ (Zè½´: 50)\r\nåŒè½´ (Xè½´: 10, Zè½´: 5)\r\n\r\n\r\nè¿åŠ¨ç‰¹ç‚¹\r\nè¿›åŠ¨\r\nè‡ªç”±æ—‹è½¬\r\n\r\n\r\n\r\nå…³é”®ä»£ç è§£æ\r\n# è®¾ç½®å¤šè½´åˆå§‹è§’é€Ÿåº¦data.qvel[dof_vel_adr + 5] = 5   # Zè½´è§’é€Ÿåº¦data.qvel[dof_vel_adr + 3] = 10  # Xè½´è§’é€Ÿåº¦\r\nå¯è§†åŒ–åŠŸèƒ½\r\n# æ¯éš” 2 ç§’åˆ‡æ¢æ¥è§¦ç‚¹æ˜¾ç¤ºwith viewer.lock():    viewer.opt.flags[mujoco.mjtVisFlag.mjVIS_CONTACTPOINT] = int(data.time % 2)\r\nè¿™ä¸ªåŠŸèƒ½å±•ç¤ºäº†å¦‚ä½•åŠ¨æ€æ§åˆ¶ MuJoCo çš„å¯è§†åŒ–é€‰é¡¹ã€‚\r\n\r\n4. ç‰›é¡¿æ‘†\r\n\r\næ–‡ä»¶: newton_cradle.py\r\nåœºæ™¯æè¿°\r\nç»å…¸çš„ç‰›é¡¿æ‘†ï¼ˆNewton's\r\nCradleï¼‰ç‰©ç†æ¼”ç¤ºã€‚è¿™æ˜¯ä¸€ä¸ªå±•ç¤ºåŠ¨é‡å®ˆæ’å’Œèƒ½é‡å®ˆæ’çš„ç»å…¸ç‰©ç†å®éªŒè£…ç½®ã€‚\r\nç‰©ç†åŸç†\r\n\n  \n    \n      ç‰›é¡¿æ‘†åŸç†\r\n\n    \n    \n      å½“ä¸€ç«¯çš„çƒè¢«æ‹‰èµ·é‡Šæ”¾åï¼Œæ’å‡»é™æ­¢çš„çƒç»„ï¼ŒåŠ¨é‡å’Œèƒ½é‡é€šè¿‡çƒç»„ä¼ é€’ï¼Œä½¿å¦ä¸€ç«¯çš„çƒä»¥ç›¸åŒé€Ÿåº¦å¼¹èµ·ã€‚è¿™å®Œç¾å±•ç¤ºäº†å¼¹æ€§ç¢°æ’ä¸­çš„åŠ¨é‡å®ˆæ’å’ŒåŠ¨èƒ½å®ˆæ’ã€‚\r\n\n    \n  \r\nä»£ç ç»“æ„\r\ndef main():    # åŠ è½½æ¨¡å‹ (ä½¿ç”¨ MuJoCo ç‰ˆæœ¬çš„ç‰›é¡¿æ‘†)    model = mujoco.MjModel.from_xml_path(\"examples/assets/newton_cradle_mj.xml\")    data = mujoco.MjData(model)    with mujoco.viewer.launch_passive(model, data) as viewer:        # è®¾ç½®ç›¸æœºè§†è§’ - æ­£ä¾§é¢è§‚å¯Ÿ        with viewer.lock():            viewer.cam.lookat = [0, 0, 7]    # è§‚å¯Ÿç‚¹            viewer.cam.distance = 20          # è·ç¦»            viewer.cam.azimuth = -90          # æ–¹ä½è§’ (æ­£ä¾§é¢)            viewer.cam.elevation = 0          # ä»°è§’ (æ°´å¹³)\r\nç›¸æœºè®¾ç½®è¯´æ˜\r\n\r\n\r\n\r\nå‚æ•°\r\nå€¼\r\nè¯´æ˜\r\n\r\n\r\n\r\n\r\nlookat\r\n[0, 0, 7]\r\nç›¸æœºæ³¨è§†ç‚¹ï¼Œä½äºæ‘†é”¤æ‚¬æŒ‚é«˜åº¦\r\n\r\n\r\ndistance\r\n20\r\nç›¸æœºä¸æ³¨è§†ç‚¹è·ç¦»\r\n\r\n\r\nazimuth\r\n-90\r\næ–¹ä½è§’ï¼Œè®¾ä¸ºæ­£ä¾§é¢è§†è§’\r\n\r\n\r\nelevation\r\n0\r\nä»°è§’ï¼Œæ°´å¹³è§‚å¯Ÿ\r\n\r\n\r\n\r\nèµ„æºæ–‡ä»¶\r\nä»“åº“ä¸­æœ‰ä¸¤ä¸ªç‰›é¡¿æ‘†æ¨¡å‹æ–‡ä»¶ï¼š\r\n\r\nnewton_cradle_mj.xml - MuJoCo ç‰ˆæœ¬\r\nnewton_cradle_mt.xml - MotrixSim ç‰ˆæœ¬\r\n(å¯èƒ½ç”¨äºå¯¹æ¯”)\r\n\r\n\r\nğŸ“Š ä»£ç æ¨¡å¼æ€»ç»“\r\né€šç”¨ä»¿çœŸå¾ªç¯\r\næ‰€æœ‰ç¤ºä¾‹éƒ½éµå¾ªç›¸åŒçš„ä»¿çœŸå¾ªç¯æ¨¡å¼ï¼š\r\nwith mujoco.viewer.launch_passive(model, data) as viewer:    while True:        step_start = time.time()                # 1. æ‰§è¡Œç‰©ç†æ­¥è¿›        mujoco.mj_step(model, data)                # 2. åŒæ­¥æ¸²æŸ“        viewer.sync()                # 3. å®æ—¶åŒæ­¥        time_until_next_step = model.opt.timestep - (time.time() - step_start)        if time_until_next_step &gt; 0:            time.sleep(time_until_next_step)\r\nå…³é”® API å‡½æ•°\r\n\r\n\r\n\r\nå‡½æ•°\r\nç”¨é€”\r\n\r\n\r\n\r\n\r\nmujoco.MjModel.from_xml_path()\r\nä» XML æ–‡ä»¶åŠ è½½æ¨¡å‹\r\n\r\n\r\nmujoco.MjData(model)\r\nåˆ›å»ºä»¿çœŸæ•°æ®ç»“æ„\r\n\r\n\r\nmujoco.mj_step(model, data)\r\næ‰§è¡Œä¸€æ­¥ç‰©ç†ä»¿çœŸ\r\n\r\n\r\nmujoco.mj_name2id()\r\né€šè¿‡åç§°æŸ¥æ‰¾å¯¹è±¡ ID\r\n\r\n\r\nmujoco.mj_resetDataKeyframe()\r\né‡ç½®åˆ°å…³é”®å¸§çŠ¶æ€\r\n\r\n\r\nviewer.launch_passive()\r\nå¯åŠ¨è¢«åŠ¨æ¨¡å¼æŸ¥çœ‹å™¨\r\n\r\n\r\nviewer.sync()\r\nåŒæ­¥æ¸²æŸ“çŠ¶æ€\r\n\r\n\r\n\r\n\r\nğŸ¯ æ€»ç»“\r\nè¿™äº› MuJoCo ç¤ºä¾‹å±•ç¤ºäº†ï¼š\r\n\r\nåŸºç¡€ä»¿çœŸ: å¦‚ä½•åŠ è½½æ¨¡å‹ã€åˆ›å»ºæ•°æ®ã€è¿è¡Œä»¿çœŸå¾ªç¯\r\nåˆå§‹æ¡ä»¶è®¾ç½®: å¦‚ä½•è®¾ç½®åˆå§‹é€Ÿåº¦å’Œä½ç½®\r\næ§åˆ¶æ¥å£: å¦‚ä½•é€šè¿‡ data.ctrl\r\næ§åˆ¶æ‰§è¡Œå™¨\r\nè½¨è¿¹è§„åˆ’: å¦‚ä½•ä½¿ç”¨æ’å€¼å®ç°å¹³æ»‘è¿åŠ¨\r\nçŠ¶æ€ç›‘æµ‹: å¦‚ä½•è¯»å–å’Œåˆ¤æ–­ä»¿çœŸçŠ¶æ€\r\nå¯è§†åŒ–æ§åˆ¶: å¦‚ä½•è®¾ç½®ç›¸æœºå’Œåˆ‡æ¢æ˜¾ç¤ºé€‰é¡¹\r\nå½•åˆ¶åŠŸèƒ½: å¦‚ä½•æ•è·å¸§å¹¶ä¿å­˜ä¸ºè§†é¢‘\r\n\r\n\n  \n    \n      æ³¨æ„\r\n\n    \n    \n      è¿™äº›ç¤ºä¾‹ä½¿ç”¨çš„æ˜¯åŸç”Ÿ MuJoCo Python APIï¼Œä¸ MotrixSim\r\nçš„ API æœ‰æ‰€ä¸åŒã€‚MotrixSim æä¾›äº†æ›´é«˜çº§çš„æŠ½è±¡å’Œæ›´ä¸°å¯Œçš„åŠŸèƒ½ï¼Œå‚è§\r\nexamples/ ç›®å½•ä¸‹çš„å…¶ä»–ç¤ºä¾‹ã€‚\r\n\n    \n  \r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["Motrix"]},{"title":"äº‘æœåŠ¡å™¨æœ¬æœºä»£ç†è®¾ç½®","url":"/2026/01/12/26-RemoteForward/","content":"1. æœ¬åœ°é…ç½®\r\nåœ¨æœ¬åœ°ç”µè„‘çš„ ~/.ssh/config\r\næ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ°æˆ–æ·»åŠ å¯¹åº”æœåŠ¡å™¨çš„é…ç½®æ®µï¼Œæ’å…¥ RemoteForward\r\næŒ‡ä»¤ã€‚\r\nHost your_server_alias    HostName æœåŠ¡å™¨IPåœ°å€    Port SSHç«¯å£å·    User root    # æ ¸å¿ƒæŒ‡ä»¤ï¼šå°†è¿œç¨‹æœåŠ¡å™¨çš„ 17890 è½¬å‘åˆ°æœ¬åœ°çš„ 7890 (å‡è®¾æœ¬åœ°ä»£ç†ç«¯å£ä¸º 7890)    RemoteForward 17890 127.0.0.1:7890\r\n2. æœåŠ¡å™¨é…ç½®\r\nè¿æ¥è¿›å…¥æœåŠ¡å™¨åï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿å½“å‰ç»ˆç«¯ç”Ÿæ•ˆã€‚\r\nexport http_proxy=http://127.0.0.1:17890export https_proxy=http://127.0.0.1:17890\r\nè‹¥å¸Œæœ›æ¯æ¬¡ç™»å½•æœåŠ¡å™¨éƒ½è‡ªåŠ¨å¼€å¯è¯¥ä»£ç†é…ç½®ï¼Œå¯å°†ä¸Šè¿°å‘½ä»¤å†™å…¥æœåŠ¡å™¨çš„\r\n~/.bashrcã€‚\r\n3. è¿é€šæ€§éªŒè¯\r\né…ç½®å®Œæˆåï¼Œåœ¨æœåŠ¡å™¨ä¸Šæµ‹è¯•æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®å¤–ç½‘èµ„æºï¼š\r\ncurl -I https://www.google.com\r\n","categories":["ç¼–ç¨‹ç»éªŒ"],"tags":["Remote"]},{"title":"Policy Gradient and Advantage Estimation","url":"/2025/07/01/18-DeepRL_lecture3/","content":"ä¸€ã€ç­–ç•¥æ¢¯åº¦æ¨å¯¼\r\n(Policy Gradient derivation)\r\nç­–ç•¥ä¼˜åŒ–çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ç»„å‚æ•° \r\næ¥æœ€å¤§åŒ–æœŸæœ›å›æŠ¥ã€‚æˆ‘ä»¬ä½¿ç”¨çš„ç­–ç•¥æ˜¯éšæœºæ€§ç­–ç•¥ ï¼Œå®ƒè¡¨ç¤ºåœ¨çŠ¶æ€  ä¸‹é‡‡å–åŠ¨ä½œ  çš„æ¦‚ç‡ã€‚\r\nç›®æ ‡å‡½æ•°\r\næˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å¤§åŒ–æœŸæœ›çš„ç´¯ç§¯å¥–åŠ±ï¼š\r\n\r\næˆ‘ä»¬å°†ä¸€ä¸ªçŠ¶æ€-åŠ¨ä½œåºåˆ—ï¼ˆå³è½¨è¿¹ï¼‰è¡¨ç¤ºä¸º ï¼Œè¯¥è½¨è¿¹çš„å›æŠ¥ä¸º ã€‚\r\nç›®æ ‡å‡½æ•°å¯ä»¥å†™æˆå¯¹æ‰€æœ‰å¯èƒ½è½¨è¿¹çš„æœŸæœ›ï¼š\r\n\r\nå…¶ä¸­  æ˜¯åœ¨ç­–ç•¥\r\n ä¸‹ï¼Œè½¨è¿¹  å‘ç”Ÿçš„æ¦‚ç‡ã€‚\r\nä¼¼ç„¶æ¯”ç­–ç•¥æ¢¯åº¦ (Likelihood Ratio Policy\r\nGradient)\r\nä¸ºäº†é€šè¿‡æ¢¯åº¦ä¸Šå‡æ¥ä¼˜åŒ–å‚æ•° ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ç›®æ ‡å‡½æ•°  å¯¹  çš„æ¢¯åº¦ã€‚æ¨å¯¼è¿‡ç¨‹å¦‚ä¸‹ï¼š\r\n\r\nå¯¹ç›®æ ‡å‡½æ•°æ±‚å¯¼ï¼š \r\nå°†æ¢¯åº¦ç®—å­ç§»å…¥æ±‚å’Œå·å†…ï¼š \r\nåº”ç”¨ \"log-derivative trick\" (å³ )ï¼š \r\né‡æ–°æ•´ç†ï¼š \r\nå°†åˆ†æ•°å½¢å¼è½¬æ¢ä¸ºå¯¹æ•°æ¢¯åº¦å½¢å¼ï¼š \r\nè¿™ä¸ªæœ€ç»ˆçš„è¡¨è¾¾å¼ \r\næ˜¯æ¢¯åº¦çš„ä¸€ä¸ªæœŸæœ›å½¢å¼ ã€‚\r\n\r\næ¢¯åº¦ä¼°è®¡\r\nåœ¨å®è·µä¸­ï¼Œæˆ‘ä»¬æ— æ³•éå†æ‰€æœ‰å¯èƒ½çš„è½¨è¿¹ã€‚å› æ­¤ï¼Œæˆ‘ä»¬é€šè¿‡ä»å½“å‰ç­–ç•¥  é‡‡æ ·  æ¡è½¨è¿¹ï¼Œæ¥è¿‘ä¼¼è®¡ç®—æ¢¯åº¦ï¼š\r\n\r\nè¿™ä¸ªä¼°è®¡æ˜¯æ— åçš„ï¼Œå³ ã€‚\r\nç›´è§‚ç†è§£\r\nç­–ç•¥æ¢¯åº¦çš„ç›´è§‚å«ä¹‰æ˜¯ï¼š\r\n\r\nå¯¹äºå›æŠ¥ \r\nä¸ºæ­£çš„è½¨è¿¹ï¼Œæˆ‘ä»¬å¢å¤§æ¦‚ç‡ ï¼Œå³å¢å¤§ ã€‚\r\nå¯¹äºå›æŠ¥ \r\nä¸ºè´Ÿçš„è½¨è¿¹ï¼Œæˆ‘ä»¬å‡å°æ¦‚ç‡ ï¼Œå³å‡å° ã€‚\r\n\r\nè¿™ç§æ–¹æ³•å³ä½¿åœ¨å›æŠ¥å‡½æ•° \r\nä¸è¿ç»­æˆ–æœªçŸ¥çš„æƒ…å†µä¸‹ä¹Ÿæœ‰æ•ˆã€‚\r\näºŒã€æ—¶é—´åˆ†è§£ (Temporal\r\ndecomposition)\r\nåœ¨ä¸Šä¸€æ­¥ä¸­ï¼Œç­–ç•¥æ¢¯åº¦æ˜¯åŸºäºæ•´æ¡è½¨è¿¹çš„æ¦‚ç‡ \r\næ¥è®¡ç®—çš„ã€‚ä¸ºäº†è®©è¿™ä¸ªè¡¨è¾¾å¼æ›´æ˜“äºè®¡ç®—ï¼Œç‰¹åˆ«æ˜¯ä¸ºäº†æ¶ˆé™¤å¯¹ç¯å¢ƒåŠ¨æ€æ¨¡å‹ï¼ˆdynamics\r\nmodelï¼‰çš„ä¾èµ–ï¼Œæˆ‘ä»¬å°†å…¶åˆ†è§£åˆ°æ¯ä¸ªæ—¶é—´æ­¥ã€‚\r\nåˆ†è§£è·¯å¾„æ¦‚ç‡çš„å¯¹æ•°æ¢¯åº¦\r\n\r\nä¸€æ¡è½¨è¿¹ \r\nçš„æ¦‚ç‡æ˜¯åˆå§‹çŠ¶æ€æ¦‚ç‡ã€æ‰€æœ‰æ—¶é—´æ­¥çš„ç¯å¢ƒè½¬ç§»æ¦‚ç‡å’Œç­–ç•¥æ¦‚ç‡çš„ä¹˜ç§¯ï¼š  å…¶ä¸­ \r\næ˜¯ç¯å¢ƒåŠ¨æ€ï¼Œä¸ç­–ç•¥å‚æ•° \r\næ— å…³ï¼Œè€Œ \r\næ˜¯æˆ‘ä»¬çš„ç­–ç•¥ï¼Œä¸ \r\nç›¸å…³ã€‚\r\nå¯¹å…¶å–å¯¹æ•°ï¼Œä¹˜ç§¯å°±å˜æˆäº†æ±‚å’Œï¼š \r\nå¯¹ \r\næ±‚æ¢¯åº¦ã€‚ç”±äºç¯å¢ƒåŠ¨æ€  å’Œåˆå§‹çŠ¶æ€æ¦‚ç‡\r\n éƒ½ä¸ä¾èµ–äº ï¼Œå®ƒä»¬çš„æ¢¯åº¦ä¸ºé›¶ã€‚å› æ­¤ï¼Œæ¢¯åº¦è¡¨è¾¾å¼å¯ä»¥ç®€åŒ–ä¸ºï¼š\r\n\r\nå°†æ¢¯åº¦ç®—å­ç§»å…¥æ±‚å’Œå·å†…ï¼š \r\n\r\næœ€ç»ˆçš„ç­–ç•¥æ¢¯åº¦ä¼°è®¡\r\né€šè¿‡å°†ä¸Šè¿°åˆ†è§£åçš„ç»“æœä»£å…¥æˆ‘ä»¬ä¹‹å‰çš„æ¢¯åº¦ä¼°è®¡å…¬å¼ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ªæ›´å®ç”¨ã€æ— éœ€çŸ¥é“ç¯å¢ƒåŠ¨æ€æ¨¡å‹çš„è¡¨è¾¾å¼ï¼š\r\n\r\nè¿™ä¸ªä¼°è®¡ä»ç„¶æ˜¯æ— åçš„ï¼Œå¹¶ä¸”æˆ‘ä»¬å®Œå…¨å¯ä»¥æ ¹æ®é‡‡æ ·çš„è½¨è¿¹æ•°æ®ï¼ˆçŠ¶æ€  å’ŒåŠ¨ä½œ ï¼‰ä»¥åŠæˆ‘ä»¬çš„ç­–ç•¥æ¨¡å‹  æ¥è®¡ç®—å®ƒï¼Œä¸å†éœ€è¦ç¯å¢ƒæ¨¡å‹\r\nã€‚\r\nä¸‰ã€åŸºçº¿ç¼©å‡ (Baseline\r\nsubtraction)\r\nå°½ç®¡æˆ‘ä»¬æ¨å¯¼å‡ºçš„ç­–ç•¥æ¢¯åº¦ä¼°è®¡æ˜¯æ— åçš„ï¼Œä½†å®ƒé€šå¸¸å…·æœ‰éå¸¸é«˜çš„æ–¹å·®ï¼Œè¿™ä½¿å¾—è®­ç»ƒè¿‡ç¨‹ä¸ç¨³å®šä¸”æ•ˆç‡ä½ä¸‹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥ä¸€ä¸ªâ€œåŸºçº¿â€ï¼ˆBaselineï¼‰æ¥é™ä½æ–¹å·®ã€‚\r\nå¼•å…¥åŸºçº¿\r\næˆ‘ä»¬ä»è½¨è¿¹çš„å›æŠ¥ä¸­å‡å»ä¸€ä¸ªåŸºçº¿å€¼  ã€‚æ–°çš„æ¢¯åº¦ä¼°è®¡å™¨å½¢å¼å¦‚ä¸‹ï¼š\r\n\r\nåªè¦åŸºçº¿ \r\nä¸ä¾èµ–äºåŠ¨ä½œï¼Œè¿™ä¸ªæ–°çš„ä¼°è®¡å™¨å°±ä»ç„¶æ˜¯æ— åçš„ã€‚è¯æ˜å¦‚ä¸‹ï¼š\r\næˆ‘ä»¬åªéœ€è¯æ˜å‡å»é¡¹çš„æœŸæœ›ä¸ºé›¶ï¼š\r\n\r\n\r\n \r\nåˆ©ç”¨æ—¶é—´ç»“æ„\r\nä¸€ä¸ªé‡è¦çš„è§‚å¯Ÿæ˜¯ï¼šåœ¨ \r\næ—¶åˆ»çš„ç­–ç•¥ \r\nåªä¼šå½±å“ \r\næ—¶åˆ»åŠä¹‹åçš„å›æŠ¥ï¼Œè€Œä¸ä¼šå½±å“è¿‡å»çš„å›æŠ¥ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ¢¯åº¦ä¼°è®¡å™¨ä¸­çš„æ€»å›æŠ¥\r\n\r\næ›¿æ¢ä¸ºâ€œæœªæ¥å›æŠ¥æ€»å’Œâ€ï¼ˆreward-to-goï¼‰ï¼Œä»è€Œè¿›ä¸€æ­¥é™ä½æ–¹å·®ã€‚\r\nç»“åˆåŸºçº¿ï¼Œæ¢¯åº¦ä¼°è®¡å™¨å¯ä»¥å†™æˆï¼š\r\n\r\nè¿™é‡Œçš„åŸºçº¿  å¯ä»¥ä¾èµ–äºçŠ¶æ€\r\n ã€‚\r\nåŸºçº¿çš„é€‰æ‹©\r\né€‰æ‹©ä¸€ä¸ªå¥½çš„åŸºçº¿å¯¹äºæœ‰æ•ˆé™ä½æ–¹å·®è‡³å…³é‡è¦ã€‚å¸¸è§çš„é€‰æ‹©æœ‰ï¼š\r\n\r\nå¸¸æ•°åŸºçº¿: \r\næœ€ä¼˜å¸¸æ•°åŸºçº¿: \r\nã€‚\r\næ—¶å˜åŸºçº¿: \r\nã€‚\r\nçŠ¶æ€ç›¸å…³çš„æœŸæœ›å›æŠ¥ (ä»·å€¼å‡½æ•°):\r\nä¸€ä¸ªéå¸¸æœ‰æ•ˆä¸”å¸¸ç”¨çš„åŸºçº¿æ˜¯çŠ¶æ€ä»·å€¼å‡½æ•°  ã€‚ \r\nä½¿ç”¨ä»·å€¼å‡½æ•°ä½œä¸ºåŸºçº¿ï¼Œæ„å‘³ç€æˆ‘ä»¬æ ¹æ®ä¸€ä¸ªåŠ¨ä½œçš„å›æŠ¥æ¯”å½“å‰çŠ¶æ€çš„æœŸæœ›å›æŠ¥å¥½å¤šå°‘ï¼Œæ¥æˆæ¯”ä¾‹åœ°å¢åŠ è¯¥åŠ¨ä½œçš„å¯¹æ•°æ¦‚ç‡ã€‚è¿™æ—¶ï¼Œ è¢«ç§°ä¸ºä¼˜åŠ¿å‡½æ•° (Advantage\r\nFunction)ã€‚\r\n\r\nå››ã€ä»·å€¼å‡½æ•°ä¼°è®¡\r\n(Value function estimation)\r\nä¸ºäº†ä½¿ç”¨çŠ¶æ€ä»·å€¼å‡½æ•° \r\nä½œä¸ºåŸºçº¿ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥ä¼°è®¡å®ƒçš„å€¼ã€‚é€šå¸¸ä½¿ç”¨ä¸€ä¸ªå¸¦å‚æ•°  çš„å‡½æ•°é€¼è¿‘å™¨ï¼ˆå¦‚ç¥ç»ç½‘ç»œï¼‰\r\næ¥è¿›è¡Œä¼°è®¡ã€‚ä¸»è¦æœ‰ä¸¤ç§æ–¹æ³•ï¼šè’™ç‰¹å¡æ´›ä¼°è®¡å’Œè‡ªä¸¾æ³•ï¼ˆBootstrappingï¼‰ã€‚\r\n1. è’™ç‰¹å¡æ´›ä¼°è®¡ (Monte Carlo Estimation)\r\nè¿™ç§æ–¹æ³•ä½¿ç”¨å®Œæ•´çš„è½¨è¿¹æ¥è·å–å›æŠ¥çš„ç»éªŒæ ·æœ¬ä½œä¸º  çš„ç›®æ ‡å€¼ã€‚\r\n\r\næ­¥éª¤:\r\n\r\nä½¿ç”¨å½“å‰ç­–ç•¥  æ”¶é›†ä¸€æ‰¹è½¨è¿¹\r\nã€‚\r\nå¯¹äºæ¯æ¡è½¨è¿¹ä¸­çš„æ¯ä¸€ä¸ªæ—¶é—´æ­¥ ï¼Œè®¡ç®—ä»è¯¥ç‚¹å¼€å§‹çš„å®é™…ç´¯ç§¯å›æŠ¥ï¼ˆreward-to-goï¼‰:\r\nã€‚\r\né€šè¿‡æœ€å°åŒ–é¢„æµ‹å€¼ \r\nä¸å®é™…å›æŠ¥ä¹‹é—´çš„å‡æ–¹è¯¯å·®æ¥æ›´æ–°å‚æ•° ã€‚\r\n\r\nä¼˜åŒ–ç›®æ ‡: \r\n\r\n2. è‡ªä¸¾æ³•/æ—¶åºå·®åˆ†ä¼°è®¡ (Bootstrap Estimation / TD\r\nEstimation)\r\nè¿™ç§æ–¹æ³•ä¸ä¾èµ–äºå®Œæ•´çš„è½¨è¿¹ï¼Œè€Œæ˜¯ä½¿ç”¨è´å°”æ›¼æ–¹ç¨‹ï¼Œé€šè¿‡ä¸‹ä¸€ä¸ªçŠ¶æ€çš„ä»·å€¼ä¼°è®¡æ¥æ›´æ–°å½“å‰çŠ¶æ€çš„ä»·å€¼ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºâ€œæ‹ŸåˆVè¿­ä»£â€ï¼ˆFitted\r\nV iterationï¼‰ã€‚\r\n\r\nè´å°”æ›¼æ–¹ç¨‹: \r\næ­¥éª¤:\r\n\r\nä½¿ç”¨å½“å‰ç­–ç•¥æ”¶é›†è½¬æ¢æ ·æœ¬æ•°æ®  (å½“å‰çŠ¶æ€ï¼ŒåŠ¨ä½œï¼Œä¸‹ä¸€çŠ¶æ€ï¼Œå¥–åŠ±)ã€‚\r\nä½¿ç”¨â€œTDç›®æ ‡å€¼â€  ä½œä¸ºå½“å‰çŠ¶æ€ä»·å€¼  çš„å­¦ä¹ ç›®æ ‡ã€‚è¿™é‡Œçš„ \r\næ˜¯ç”¨æ—§å‚æ•°è®¡ç®—çš„ä¸‹ä¸€çŠ¶æ€çš„ä»·å€¼ä¼°è®¡ã€‚\r\né€šè¿‡æœ€å°åŒ–â€œTDè¯¯å·®â€  çš„å¹³æ–¹æ¥æ›´æ–°å‚æ•°\r\nã€‚\r\n\r\nä¼˜åŒ–ç›®æ ‡: \r\nï¼ˆè¿™é‡Œçš„ \r\næ˜¯ä¸€ä¸ªæ­£åˆ™åŒ–é¡¹ç³»æ•°ï¼Œé˜²æ­¢æ›´æ–°æ­¥é•¿è¿‡å¤§ï¼‰\r\n\r\näº”ã€ä¼˜åŠ¿å‡½æ•°ä¼°è®¡\r\n(Advantage Estimation (A2C/A3C/GAE))\r\nç­–ç•¥æ¢¯åº¦æ›´æ–°çš„æ ¸å¿ƒæ˜¯ä¼˜åŠ¿å‡½æ•° ã€‚å…¶ä¸­ï¼Œ æ˜¯åœ¨çŠ¶æ€  æ‰§è¡ŒåŠ¨ä½œ  åæœŸæœ›çš„å›æŠ¥ï¼Œè€Œ  æ˜¯åœ¨çŠ¶æ€ \r\nçš„æœŸæœ›å›æŠ¥ã€‚ä½¿ç”¨è’™ç‰¹å¡æ´›æ–¹æ³•ç›´æ¥ä»å•æ¬¡äº¤äº’ä¸­ä¼°è®¡  å€¼ï¼ˆå³ä½¿ç”¨ \r\nä½œä¸ºä¼°è®¡ï¼‰ä¼šæœ‰å¾ˆé«˜çš„æ–¹å·®ï¼Œä¸”ä¸åˆ©ç”¨æ ·æœ¬é—´çš„æ³›åŒ–ã€‚å› æ­¤ï¼Œå‘å±•å‡ºäº†æ›´ç²¾ç»†çš„ä¼°è®¡æ–¹æ³•æ¥åœ¨åå·®å’Œæ–¹å·®ä¹‹é—´åšæƒè¡¡ã€‚\r\nè¿™äº›æ–¹æ³•é€šè¿‡ä½¿ç”¨ä¸€ä¸ªâ€œè¯„è®ºå®¶â€ï¼ˆCriticï¼Œå³ä»·å€¼å‡½æ•° ï¼‰æ¥é™ä½â€œè¡ŒåŠ¨å®¶â€ï¼ˆActorï¼Œå³ç­–ç•¥\r\nï¼‰çš„æ¢¯åº¦ä¼°è®¡æ–¹å·®ã€‚\r\n1. é€šè¿‡å‡½æ•°é€¼è¿‘é™ä½æ–¹å·®\r\næˆ‘ä»¬å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼æ¥ä¼°è®¡Qå€¼ï¼Œä»è€Œå¾—åˆ°ä¸åŒåå·®å’Œæ–¹å·®çš„ä¼˜åŠ¿å‡½æ•°ä¼°è®¡ã€‚\r\n\r\nå¯ä»¥è¢«å±•å¼€ä¸ºä¸åŒæ­¥æ•°ï¼ˆk-stepï¼‰çš„å›æŠ¥ï¼š\r\n\r\n1æ­¥ä¼°è®¡: \r\n2æ­¥ä¼°è®¡: \r\nkæ­¥ä¼°è®¡: \r\nè’™ç‰¹å¡æ´›ä¼°è®¡ (æ— ç©·æ­¥): \r\n\r\n2. A2C / A3C (ä¼˜åŠ¿è¡ŒåŠ¨å®¶-è¯„è®ºå®¶)\r\nå¼‚æ­¥ä¼˜åŠ¿è¡ŒåŠ¨å®¶-è¯„è®ºå®¶ï¼ˆAsynchronous Advantage\r\nActor-Criticï¼‰ç®—æ³•é€šå¸¸é‡‡ç”¨kæ­¥ä¼°è®¡ä¸­çš„ä¸€ç§æ¥è®¡ç®—ç›®æ ‡Qå€¼ï¼ˆä¾‹å¦‚ä½¿ç”¨5æ­¥å›æŠ¥ï¼‰ã€‚è¿™æ˜¯ä¸€ç§åœ¨åå·®ï¼ˆä½¿ç”¨å‡½æ•°é€¼è¿‘å¯¼è‡´ï¼‰å’Œæ–¹å·®ï¼ˆä½¿ç”¨çœŸå®å›æŠ¥å¯¼è‡´ï¼‰ä¹‹é—´çš„æŠ˜ä¸­ã€‚\r\n3. GAE (æ³›åŒ–ä¼˜åŠ¿ä¼°è®¡)\r\næ³›åŒ–ä¼˜åŠ¿ä¼°è®¡ï¼ˆGeneralized Advantage\r\nEstimationï¼‰é€šè¿‡å¼•å…¥ä¸€ä¸ªé¢å¤–çš„å‚æ•°  (å…¶ä¸­ )ï¼Œå¯¹æ‰€æœ‰kæ­¥ä¼°è®¡è¿›è¡ŒåŠ æƒå¹³å‡ï¼Œä»è€Œæ›´çµæ´»åœ°æ§åˆ¶åå·®å’Œæ–¹å·®çš„å¹³è¡¡ã€‚\r\n\r\nGAEæ˜¯æ‰€æœ‰kæ­¥å›æŠ¥çš„ \r\næŒ‡æ•°åŠ æƒå¹³å‡ã€‚\r\nè¿™ä¸ªæ€æƒ³ä¸ TD(lambda) å’Œèµ„æ ¼è¿¹ï¼ˆeligibility tracesï¼‰æœ‰å…³ã€‚\r\n\r\nä½¿ç”¨A3Cæˆ–GAEçš„ç­–ç•¥æ¢¯åº¦ç®—æ³•æµç¨‹\r\n\r\nåˆå§‹åŒ–ç­–ç•¥ç½‘ç»œ \r\nå’Œä»·å€¼ç½‘ç»œ ã€‚\r\nå¾ªç¯ä»¥ä¸‹æ­¥éª¤ï¼š\r\n\r\næ”¶é›†æ•°æ®: åœ¨ç¯å¢ƒä¸­æ‰§è¡Œå½“å‰ç­–ç•¥ï¼Œæ”¶é›†è½¬æ¢æ•°æ® ã€‚\r\nè®¡ç®—ä¼˜åŠ¿å‡½æ•°: ä½¿ç”¨æ”¶é›†çš„æ•°æ®å’Œå½“å‰ä»·å€¼ç½‘ç»œ  è®¡ç®—Qå€¼çš„ä¼°è®¡ ï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨kæ­¥å›æŠ¥æˆ–GAEï¼‰ï¼Œå¹¶ç”±æ­¤å¾—åˆ°ä¼˜åŠ¿å‡½æ•°ä¼°è®¡\r\nã€‚\r\næ›´æ–°ä»·å€¼ç½‘ç»œ: é€šè¿‡æœ€å°åŒ–é¢„æµ‹å€¼  ä¸ç›®æ ‡å€¼ \r\nä¹‹é—´çš„è¯¯å·®æ¥æ›´æ–°è¯„è®ºå®¶ï¼ˆä»·å€¼ç½‘ç»œï¼‰çš„å‚æ•° ã€‚\r\næ›´æ–°ç­–ç•¥ç½‘ç»œ: ä½¿ç”¨è®¡ç®—å‡ºçš„ä¼˜åŠ¿å‡½æ•°ä¼°è®¡  æ¥æ›´æ–°è¡ŒåŠ¨å®¶ï¼ˆç­–ç•¥ç½‘ç»œï¼‰çš„å‚æ•°\r\nï¼š \r\n\r\n\r\n","categories":["å¼ºåŒ–å­¦ä¹ "],"tags":["RL"]},{"title":"MotrixSim ä»“åº“åˆ†æä¸ go2.py è¯¦è§£","url":"/2025/12/29/24-MotrixSim/","content":"ğŸ” ä»“åº“åˆ†æ\r\nç‰¹å¾åˆ†æ\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nç‰¹å¾\r\nåˆ†æ\r\n\r\n\r\n\r\n\r\næ ¸å¿ƒå¼•æ“ä»£ç \r\nâŒ æœªå…¬å¼€ã€‚motrixsim æ ¸å¿ƒé€šè¿‡\r\npip install motrixsim ä» PyPI å®‰è£…\r\n\r\n\r\nPython ç»‘å®š\r\nâŒ æœªå…¬å¼€ã€‚åº•å±‚ä½¿ç”¨ Rust å®ç°ï¼Œåªæš´éœ² Python API\r\n\r\n\r\nç¤ºä¾‹ä»£ç \r\nâœ… å®Œæ•´ã€‚åŒ…å« 39+ ä¸ª Python ç¤ºä¾‹æ–‡ä»¶\r\n\r\n\r\nAPI æ–‡æ¡£\r\nâœ… å®Œæ•´ã€‚å¯ä»¥ä» https://motrixsim.readthedocs.io è®¿é—®\r\n\r\n\r\nèµ„æºæ–‡ä»¶\r\nâœ… å®Œæ•´ã€‚åŒ…å«æœºå™¨äººæ¨¡å‹ã€åœºæ™¯ã€ç­–ç•¥ç½‘ç»œç­‰\r\n\r\n\r\n\r\nä»“åº“ç»“æ„\r\nmotrixsim-docs/â”œâ”€â”€ docs/                    # æ–‡æ¡£æºç â”‚   â””â”€â”€ source/              # åŒ…å« API å‚è€ƒã€æ•™ç¨‹ç­‰â”œâ”€â”€ examples/                # â­ ç¤ºä¾‹ä»£ç  (39+ ä¸ª Python æ–‡ä»¶)â”‚   â”œâ”€â”€ go1.py               # å››è¶³æœºå™¨äºº Go1 ç¤ºä¾‹â”‚   â”œâ”€â”€ go2.py               # å››è¶³æœºå™¨äºº Go2 ç¤ºä¾‹â”‚   â”œâ”€â”€ g1_keyboard_control.py  # äººå½¢æœºå™¨äºº G1 é”®ç›˜æ§åˆ¶â”‚   â”œâ”€â”€ robotic_arm.py       # æœºæ¢°è‡‚ç¤ºä¾‹â”‚   â””â”€â”€ assets/              # æ¨¡å‹å’Œèµ„æºæ–‡ä»¶â”œâ”€â”€ legged_gym/              # è…¿å¼æœºå™¨äººå¼ºåŒ–å­¦ä¹ ç¯å¢ƒâ”œâ”€â”€ pyproject.toml           # ä¾èµ–é…ç½®â”œâ”€â”€ README.md                # é¡¹ç›®è¯´æ˜â””â”€â”€ LICENSE                  # Apache 2.0 è®¸å¯è¯\r\n\n  \n    \n      é‡è¦\r\n\n    \n    \n      æ ¸å¿ƒç‰©ç†å¼•æ“ä»£ç æœªå…¬å¼€\r\nmotrixsim\r\nçš„æ ¸å¿ƒå®ç°ï¼ˆç‰©ç†æ±‚è§£å™¨ã€ç¢°æ’æ£€æµ‹ã€æ¸²æŸ“å¼•æ“ç­‰ï¼‰æ˜¯é—­æºçš„ã€‚\r\nè¿™ä¸ªä»“åº“åªæä¾›ï¼šä½¿ç”¨è¯´æ˜ã€API ç¤ºä¾‹ã€æœºå™¨äººæ¨¡å‹æ–‡ä»¶ã€‚\r\n\n    \n  \r\n\r\nğŸ“– go2.py è¯¦ç»†è§£è¯»\r\nGitHub: examples/go2.py\r\nåŠŸèƒ½æ¦‚è¿°\r\nè¿™ä¸ªè„šæœ¬æ¼”ç¤ºäº†ä¸€ä¸ªå››è¶³æœºå™¨äºº Go2\r\nåœ¨ç‰©ç†ä»¿çœŸç¯å¢ƒä¸­è‡ªä¸»è¡Œèµ°çš„å®Œæ•´æµç¨‹ï¼š\r\nflowchart LR\r\n    A[åŠ è½½åœºæ™¯æ¨¡å‹] --&gt; B[åˆ›å»ºç‰©ç†æ•°æ®]\r\n    B --&gt; C[åŠ è½½ç¥ç»ç½‘ç»œç­–ç•¥]\r\n    C --&gt; D[ä»¿çœŸå¾ªç¯]\r\n    D --&gt; E{æœºå™¨äººæ‘”å€’?}\r\n    E --&gt;|æ˜¯| F[é‡ç½®åœºæ™¯]\r\n    E --&gt;|å¦| G[æ”¶é›†è§‚æµ‹æ•°æ®]\r\n    F --&gt; D\r\n    G --&gt; H[ç¥ç»ç½‘ç»œæ¨ç†]\r\n    H --&gt; I[åº”ç”¨åŠ¨ä½œåˆ°å…³èŠ‚]\r\n    I --&gt; J[ç‰©ç†å¼•æ“æ­¥è¿›]\r\n    J --&gt; K[æ¸²æŸ“æ˜¾ç¤º]\r\n    K --&gt; D\r\n\r\né€æ®µä»£ç è§£æ\r\n1ï¸âƒ£ å¯¼å…¥æ¨¡å—\r\nimport timeimport randomfrom collections import dequeimport numpy as npimport onnxruntime as ortfrom scipy.spatial.transform import Rotationfrom motrixsim import SceneData, SceneModel, load_model, stepfrom motrixsim.render import CaptureTask, RenderApp\r\n\r\n\r\n\r\næ¨¡å—\r\nç”¨é€”\r\n\r\n\r\n\r\n\r\ntime\r\nç”¨äºå¸§ç‡æ§åˆ¶ (time.sleep)\r\n\r\n\r\nrandom\r\nç”Ÿæˆéšæœºè¿åŠ¨ç›®æ ‡\r\n\r\n\r\ndeque\r\nåŒç«¯é˜Ÿåˆ—ï¼Œç”¨äºç®¡ç†æˆªå›¾ä»»åŠ¡\r\n\r\n\r\nnumpy\r\næ•°å€¼è®¡ç®—ï¼ˆå‘é‡ã€çŸ©é˜µæ“ä½œï¼‰\r\n\r\n\r\nonnxruntime\r\nè¿è¡Œç¥ç»ç½‘ç»œæ¨¡å‹ï¼ˆONNX æ ¼å¼ï¼‰\r\n\r\n\r\nscipy.spatial.transform.Rotation\r\nå››å…ƒæ•°ä¸æ—‹è½¬çŸ©é˜µçš„è½¬æ¢\r\n\r\n\r\nmotrixsim.SceneData\r\nå­˜å‚¨ä»¿çœŸçš„åŠ¨æ€çŠ¶æ€ï¼ˆä½ç½®ã€é€Ÿåº¦ã€åŠ›ï¼‰\r\n\r\n\r\nmotrixsim.SceneModel\r\nåœºæ™¯çš„é™æ€æè¿°ï¼ˆå‡ ä½•ã€ç‰©ç†å‚æ•°ï¼‰\r\n\r\n\r\nmotrixsim.load_model\r\nä» MJCF/XML æ–‡ä»¶åŠ è½½åœºæ™¯\r\n\r\n\r\nmotrixsim.step\r\næ‰§è¡Œä¸€æ¬¡ç‰©ç†ä»¿çœŸæ­¥è¿›\r\n\r\n\r\nmotrixsim.render.RenderApp\r\nå¯è§†åŒ–æ¸²æŸ“çª—å£\r\n\r\n\r\nmotrixsim.render.CaptureTask\r\nå¼‚æ­¥æˆªå›¾ä»»åŠ¡\r\n\r\n\r\n\r\n\r\n2ï¸âƒ£ å…¨å±€å‚æ•°å®šä¹‰\r\ndefault_joint_pos = np.array([0.1, 0.9, -1.8, -0.1, 0.9, -1.8, 0.1, 0.9, -1.8, -0.1, 0.9, -1.8])action_scale = 0.5lin_vel_scale = 1.0ang_vel_scale = 1.5\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nå‚æ•°\r\nè¯´æ˜\r\n\r\n\r\n\r\n\r\ndefault_joint_pos\r\næœºå™¨äºº 12 ä¸ªå…³èŠ‚çš„é»˜è®¤è§’åº¦ï¼ˆå¼§åº¦ï¼‰ã€‚Go2 æœ‰ 4\r\næ¡è…¿ï¼Œæ¯æ¡è…¿ 3 ä¸ªå…³èŠ‚ï¼ˆé«‹/å¤§è…¿/å°è…¿ï¼‰\r\n\r\n\r\naction_scale\r\nç¥ç»ç½‘ç»œè¾“å‡ºçš„åŠ¨ä½œç¼©æ”¾å› å­ï¼ˆ0.5 è¡¨ç¤ºè¾“å‡ºå€¼å‡åŠï¼‰\r\n\r\n\r\nlin_vel_scale\r\nçº¿é€Ÿåº¦ç›®æ ‡ç¼©æ”¾å› å­ï¼ˆGo2 æ˜¯ 1.0ï¼Œæ¯” Go1 çš„ 0.7 æ›´é«˜ï¼‰\r\n\r\n\r\nang_vel_scale\r\nè§’é€Ÿåº¦ç›®æ ‡ç¼©æ”¾å› å­\r\n\r\n\r\n\r\n\n  \n    \n      Go2 vs Go1 å·®å¼‚\r\n\n    \n    \n      \r\nGo2 èº¯å¹²åç§°ï¼š\"base\"ï¼ŒGo1 æ˜¯ \"trunk\"\r\nGo2 ç¬¬ä¸€ä¸ªæ‰§è¡Œå™¨ï¼š\"FL_hip\"ï¼ŒGo1 æ˜¯\r\n\"FR_hip\"\r\nGo2 çº¿é€Ÿåº¦ç¼©æ”¾ 1.0ï¼ŒGo1 æ˜¯ 0.7\r\n\r\n\n    \n  \r\nå…³èŠ‚é¡ºåºï¼š[FL_hip, FL_thigh, FL_calf, FR_hip, FR_thigh, FR_calf, RL_hip, RL_thigh, RL_calf, RR_hip, RR_thigh, RR_calf]\r\n- FL = Front Leftï¼ˆå‰å·¦è…¿ï¼‰ - FR = Front Rightï¼ˆå‰å³è…¿ï¼‰ - RL = Rear\r\nLeftï¼ˆåå·¦è…¿ï¼‰ - RR = Rear Rightï¼ˆåå³è…¿ï¼‰\r\n\r\n3ï¸âƒ£ è§‚æµ‹æ•°æ®æ”¶é›†å‡½æ•°\r\ndef compute_observations(last_actions, target_action, model: SceneModel, data: SceneData):    # è·å–èº«ä½“ç´¢å¼•    body_index = model.get_body_index(\"base\")  # Go2 ä½¿ç”¨ \"base\"ï¼ŒGo1 ä½¿ç”¨ \"trunk\"    body = model.get_body(body_index)    # çº¿é€Ÿåº¦ (3D) - æœºå™¨äººåœ¨æœ¬åœ°åæ ‡ç³»çš„é€Ÿåº¦    linear_vel = model.get_sensor_value(\"local_linvel\", data)        # è§’é€Ÿåº¦ (3D) - é™€èºä»ªè¯»æ•°    gyro = model.get_sensor_value(\"gyro\", data)        # é‡åŠ›æ–¹å‘ (3D) - è¡¨ç¤ºæœºå™¨äººå§¿æ€    pose = body.get_pose(data)    inv_rotation = Rotation.from_quat(pose[3:7]).inv()    gravity = inv_rotation.apply(np.array([0.0, 0.0, -1.0]))    # å…³èŠ‚ä½ç½®å’Œé€Ÿåº¦    dof_pos = body.get_joint_dof_pos(data)    dof_vel = body.get_joint_dof_vel(data)        # ä½¿ç”¨ np.hstack é«˜æ•ˆæ‹¼æ¥æ‰€æœ‰è§‚æµ‹é‡    obs = np.hstack([        linear_vel,                      # çº¿é€Ÿåº¦ (3)        gyro,                            # è§’é€Ÿåº¦ (3)        gravity,                         # é‡åŠ›æ–¹å‘ (3)        dof_pos - default_joint_pos,     # å…³èŠ‚ä½ç½®å·® (12)        dof_vel,                         # å…³èŠ‚é€Ÿåº¦ (12)        last_actions,                    # ä¸Šä¸€å¸§åŠ¨ä½œ (12)        target_action                    # ç›®æ ‡é€Ÿåº¦ (3)    ])    return obs\r\nè¿™æ˜¯ç¥ç»ç½‘ç»œçš„\"çœ¼ç›\" -\r\næ”¶é›†æœºå™¨äººå½“å‰çŠ¶æ€ä½œä¸ºè¾“å…¥ã€‚\r\n\r\n\r\n\r\nè§‚æµ‹é‡\r\nç»´åº¦\r\nè¯´æ˜\r\n\r\n\r\n\r\n\r\nçº¿é€Ÿåº¦\r\n3\r\næœºå™¨äººèº«ä½“åœ¨æœ¬åœ°åæ ‡ç³»çš„é€Ÿåº¦ (x, y, z)\r\n\r\n\r\nè§’é€Ÿåº¦\r\n3\r\næœºå™¨äººç»•ä¸‰ä¸ªè½´çš„æ—‹è½¬é€Ÿåº¦ï¼ˆé™€èºä»ªè¯»æ•°ï¼‰\r\n\r\n\r\né‡åŠ›æ–¹å‘\r\n3\r\né‡åŠ›åœ¨æœºå™¨äººæœ¬ä½“åæ ‡ç³»ä¸­çš„æ–¹å‘ï¼Œåæ˜ å€¾æ–œç¨‹åº¦\r\n\r\n\r\nå…³èŠ‚ä½ç½®å·®\r\n12\r\nå½“å‰å…³èŠ‚è§’åº¦ä¸é»˜è®¤å§¿æ€çš„åå·®\r\n\r\n\r\nå…³èŠ‚é€Ÿåº¦\r\n12\r\nå„å…³èŠ‚çš„è§’é€Ÿåº¦\r\n\r\n\r\nä¸Šä¸€å¸§åŠ¨ä½œ\r\n12\r\nä¸Šä¸€æ­¥æ–½åŠ çš„æ§åˆ¶å‘½ä»¤\r\n\r\n\r\nç›®æ ‡é€Ÿåº¦\r\n3\r\næœŸæœ›çš„çº¿é€Ÿåº¦ (x, y) å’Œè§’é€Ÿåº¦ (yaw)\r\n\r\n\r\næ€»è®¡\r\n48\r\nç¥ç»ç½‘ç»œè¾“å…¥ç»´åº¦\r\n\r\n\r\n\r\n\n  \n    \n      ä¸ºä»€ä¹ˆè¦åŒ…å«ä¸Šä¸€å¸§åŠ¨ä½œ\r\n\n    \n    \n      è¿™è®©ç¥ç»ç½‘ç»œäº†è§£æ§åˆ¶çš„è¿ç»­æ€§ï¼Œé¿å…è¾“å‡ºå‰§çƒˆæŠ–åŠ¨çš„åŠ¨ä½œã€‚è¿™æ˜¯å¼ºåŒ–å­¦ä¹ ä¸­å¸¸ç”¨çš„æŠ€å·§ã€‚\r\n\n    \n  \r\n\n  \n    \n      Go2 ä»£ç ä¼˜åŒ–\r\n\n    \n    \n      ä½¿ç”¨ np.hstack() ä¸€æ¬¡æ€§æ‹¼æ¥æ•°ç»„ï¼Œæ¯” Go1 çš„\r\nobs.extend() æ–¹å¼æ›´é«˜æ•ˆã€‚\r\n\n    \n  \r\n\r\n4ï¸âƒ£ ç›®æ ‡æ›´æ–°å‡½æ•°\r\ndef update_target(goback, body_position: np.ndarray):    target_action = [0, 0]    if goback:        # è¿”å›åŸç‚¹ï¼šè®¡ç®—æŒ‡å‘åŸç‚¹çš„æ–¹å‘        v = -body_position[:2]           # å– x, y åæ ‡ï¼Œå–åæŒ‡å‘åŸç‚¹        norm = v / np.linalg.norm(v)     # å½’ä¸€åŒ–ä¸ºå•ä½å‘é‡        target_action = [norm[0] * lin_vel_scale, norm[1] * , 0]    else:        # éšæœºæ–¹å‘ï¼šç”Ÿæˆ -2 åˆ° 2 èŒƒå›´å†…çš„éšæœºé€Ÿåº¦        x = random.random() * 4.0 - 2.0        y = random.random() * 4.0 - 2.0        rot = random.random() * 4.0 - 2.0        v = np.array([x, y])        norm = v / np.linalg.norm(v)        target_action = [norm[0] * lin_vel_scale, norm[1] * lin_vel_scale, rot * ang_vel_scale]    return target_action\r\nè¿™ä¸ªå‡½æ•°ç”Ÿæˆæœºå™¨äººçš„è¿åŠ¨ç›®æ ‡ï¼š\r\n\r\néšæœºæ¼«æ¸¸æ¨¡å¼\r\n(goback=False)ï¼šç”Ÿæˆéšæœºæ–¹å‘å’Œè½¬å‘é€Ÿåº¦\r\nè¿”å›åŸç‚¹æ¨¡å¼\r\n(goback=True)ï¼šè®¡ç®—æŒ‡å‘åŸç‚¹çš„æ–¹å‘ï¼Œç›´çº¿è¿”å›\r\n\r\nè¿”å›çš„ target_action åŒ…å« 3\r\nä¸ªå€¼ï¼š[vx, vy, yaw_rate]ï¼ˆå‰åé€Ÿåº¦ã€å·¦å³é€Ÿåº¦ã€è½¬å‘é€Ÿåº¦ï¼‰\r\n\r\n5ï¸âƒ£ åŠ¨ä½œåº”ç”¨å‡½æ•°\r\ndef apply_actions(actions, model: SceneModel, data: SceneData):    start_actuator_index = model.get_actuator_index(\"FL_hip\")  # Go2 ä» FL_hip å¼€å§‹    for index, act in enumerate(actions):        actuator_index = start_actuator_index + index        ctrl = act * action_scale + default_joint_pos[index]  # ç¼©æ”¾ + åç§»        actuator = model.get_actuator(actuator_index)        actuator.set_ctrl(data, ctrl)\r\nè¿™æ˜¯ç¥ç»ç½‘ç»œçš„\"æ‰‹\" - å°†å†³ç­–è½¬åŒ–ä¸ºå…³èŠ‚æ§åˆ¶ã€‚\r\næ§åˆ¶æµç¨‹ï¼š\r\n\r\nç¥ç»ç½‘ç»œè¾“å‡º 12 ä¸ªåŠ¨ä½œå€¼ï¼ˆèŒƒå›´çº¦ -1 åˆ° 1ï¼‰\r\næ¯ä¸ªåŠ¨ä½œä¹˜ä»¥ action_scaleï¼ˆ0.5ï¼‰è¿›è¡Œç¼©æ”¾\r\nåŠ ä¸Šé»˜è®¤å…³èŠ‚è§’åº¦\r\ndefault_joint_posï¼Œå¾—åˆ°ç›®æ ‡å…³èŠ‚è§’åº¦\r\né€šè¿‡ actuator.set_ctrl() è®¾ç½®å…³èŠ‚ç”µæœºçš„ç›®æ ‡ä½ç½®\r\n\r\nè®¡ç®—ç¤ºä¾‹ï¼š ç¥ç»ç½‘ç»œè¾“å‡º: act = 0.5ç¼©æ”¾å: 0.5 * 0.5 = 0.25åŠ ä¸Šé»˜è®¤å€¼: 0.25 + 0.1 = 0.35 (å¼§åº¦)\r\n\r\n6ï¸âƒ£ æ‘”å€’æ£€æµ‹å‡½æ•°\r\ndef is_fall(model: SceneModel, data: SceneData):    pose = model.get_link(\"base\").get_pose(data)  # Go2 ä½¿ç”¨ \"base\"    rotation = Rotation.from_quat(pose[3:7])    rotated_z_axis = rotation.apply(np.array([0.0, 0.0, 1.0]))    thr = 0.3    dot = np.dot(rotated_z_axis, np.array([0.0, 0.0, 1.0]))    return dot &lt; thr\r\nåˆ¤æ–­æœºå™¨äººæ˜¯å¦æ‘”å€’çš„é€»è¾‘ï¼š\r\n\r\nè·å–æœºå™¨äººèº¯å¹²(base)çš„å§¿æ€å››å…ƒæ•°\r\n[x, y, z, w]\r\nå°†å››å…ƒæ•°è½¬æ¢ä¸ºæ—‹è½¬å¯¹è±¡\r\nè®¡ç®—æœºå™¨äººçš„\"ä¸Šæ–¹å‘\"ï¼ˆæœ¬åœ° Z è½´ï¼‰åœ¨ä¸–ç•Œåæ ‡ç³»ä¸­çš„æœå‘\r\nä¸ä¸–ç•Œåæ ‡ç³»çš„ Z è½´ï¼ˆå‚ç›´å‘ä¸Šï¼‰åšç‚¹ç§¯\r\nå¦‚æœç‚¹ç§¯ &lt; 0.3ï¼Œè¯´æ˜æœºå™¨äººå·²ç»ä¸¥é‡å€¾æ–œ/ç¿»å€’\r\n\r\n\r\n\r\n\r\nç‚¹ç§¯å€¼\r\nå«ä¹‰\r\n\r\n\r\n\r\n\r\n1.0\r\nå®Œå…¨ç›´ç«‹\r\n\r\n\r\n0.7\r\nå€¾æ–œçº¦ 45Â°\r\n\r\n\r\n0.3\r\nå€¾æ–œçº¦ 72Â°ï¼ˆè§¦å‘é‡ç½®ï¼‰\r\n\r\n\r\n0.0\r\nå®Œå…¨ä¾§ç¿» 90Â°\r\n\r\n\r\n-1.0\r\nå®Œå…¨ç¿»è½¬ï¼ˆèƒŒæœä¸‹ï¼‰\r\n\r\n\r\n\r\n\r\n7ï¸âƒ£ ä¸»å‡½æ•°è¯¦è§£\r\nåˆå§‹åŒ–æ¸²æŸ“å’ŒåŠ è½½æ¨¡å‹\r\ndef main():    # åˆ›å»ºæ¸²æŸ“çª—å£    with RenderApp() as render:        render.opt.set_left_panel_vis(True)  # æ˜¾ç¤ºå·¦ä¾§æ§åˆ¶é¢æ¿                # åŠ è½½åœºæ™¯æ¨¡å‹        path = \"examples/assets/go2/scene_flat.xml\"        model = load_model(path)\r\nscene_flat.xml åŒ…å«ï¼š - Go2 æœºå™¨äººæ¨¡å‹ï¼ˆå¼•ç”¨\r\ngo2_mjx.xmlï¼‰ - å¹³å¦åœ°é¢ - å…‰ç…§è®¾ç½® - ç‰©ç†å‚æ•°\r\n\r\nç›¸æœºé…ç½®\r\ncameras = model.cameras# RGB ç›¸æœºcameras[0].set_render_target(\"image\", 320, 240)# æ·±åº¦ç›¸æœºcameras[1].set_render_target(\"image\", 640, 480)cameras[1].depth_only = True       # åªè¾“å‡ºæ·±åº¦å›¾cameras[1].set_near_far(0.1, 1)    # æ·±åº¦èŒƒå›´ 0.1-1 ç±³# å¯é¢„è§ˆçš„ç›¸æœºåˆ—è¡¨ï¼ˆNone è¡¨ç¤ºè‡ªç”±è§†è§’ï¼‰preview_cameras = [None, *cameras[2:]]preview_camera_idx = 0\r\n\r\nåˆ›å»ºç‰©ç†æ•°æ®å’ŒåŠ è½½ç¥ç»ç½‘ç»œ\r\n# å¯åŠ¨æ¸²æŸ“render.launch(model)# åˆ›å»ºç‰©ç†ä»¿çœŸçŠ¶æ€æ•°æ®data = SceneData(model)# åŠ è½½é¢„è®­ç»ƒç¥ç»ç½‘ç»œsession = ort.InferenceSession(\"examples/assets/go2/go2_policy.onnx\",                                 providers=[\"CPUExecutionProvider\"])input_name = session.get_inputs()[0].name   # è¾“å…¥å¼ é‡åç§°output_name = session.get_outputs()[0].name # è¾“å‡ºå¼ é‡åç§°\r\nç¥ç»ç½‘ç»œè§„æ ¼ï¼š - è¾“å…¥ï¼š48 ç»´æµ®ç‚¹æ•°å‘é‡ - è¾“å‡ºï¼š12 ç»´æµ®ç‚¹æ•°å‘é‡ï¼ˆ12\r\nä¸ªå…³èŠ‚çš„æ§åˆ¶å‘½ä»¤ï¼‰\r\n\r\næ§åˆ¶å˜é‡åˆå§‹åŒ–\r\nlast_actions = [0] * 12           # ä¸Šä¸€å¸§åŠ¨ä½œï¼ˆåˆå§‹ä¸ºé›¶ï¼‰n_infer_interval = 5              # æ¯ 5 ä¸ªç‰©ç†æ­¥æ‰§è¡Œä¸€æ¬¡æ¨ç†ï¼ˆGo1 æ˜¯ 10ï¼‰n_set_tartget_interval = 750      # æ¯ 750 æ­¥æ›´æ¢ç›®æ ‡go_back = False                   # æ˜¯å¦è¿”å›åŸç‚¹nsteps = 0                        # æ­¥æ•°è®¡æ•°target_action = [0.5, 0, 0]       # åˆå§‹ç›®æ ‡ï¼šå‘å‰èµ°capture_tasks = deque()           # æˆªå›¾ä»»åŠ¡é˜Ÿåˆ—capture_index = 0                 # æˆªå›¾ç¼–å·\r\n\n  \n    \n      Go2 vs Go1 å·®å¼‚\r\n\n    \n    \n      Go2 çš„ n_infer_interval = 5ï¼Œæ¯” Go1 çš„ 10\r\næ›´é¢‘ç¹ï¼Œæ„å‘³ç€æ§åˆ¶é¢‘ç‡æ›´é«˜ã€‚\r\n\n    \n  \r\n\r\nä¸»ä»¿çœŸå¾ªç¯\r\nwhile True:    for _ in range(4):        # ç‰©ç†å¼•æ“æ­¥è¿›        step(model, data)        # æ‘”å€’æ£€æµ‹ä¸é‡ç½®        if is_fall(model, data):            data = SceneData(model)  # é‡æ–°åˆ›å»ºæ•°æ®ä»¥é‡ç½®åœºæ™¯        # æ­¥æ•°è®¡æ•°        nsteps += 1        if nsteps % n_infer_interval == 0:            # æ¯ 750 æ­¥æ›´æ¢è¿åŠ¨ç›®æ ‡            if nsteps % n_set_tartget_interval == 0:                body_pose = model.get_body(model.get_body_index(\"base\")).get_pose(data)                target_action = update_target(go_back, body_pose[:3])                go_back = not go_back  # åˆ‡æ¢æ¨¡å¼                        # æ”¶é›†è§‚æµ‹æ•°æ®            obs = compute_observations(last_actions, target_action, model, data)            # å‡†å¤‡è¾“å…¥ï¼ˆreshape ä¸º [1, 48]ï¼‰            input_data = np.array(obs).reshape(1, -1).astype(np.float32)            # ç¥ç»ç½‘ç»œæ¨ç†            outputs = session.run([output_name], {input_name: input_data})            actions = outputs[0][0]            # åº”ç”¨åŠ¨ä½œ            apply_actions(actions, model, data)            last_actions = actions\r\næ—¶åºåˆ†æï¼š - æ¯å¸§æ‰§è¡Œ 4 æ¬¡ç‰©ç†æ­¥è¿›ï¼ˆæé«˜ä»¿çœŸç²¾åº¦ï¼‰ -\r\næ¯ 5 ä¸ªç‰©ç†æ­¥è¿›æ‰§è¡Œä¸€æ¬¡ç¥ç»ç½‘ç»œæ¨ç†ï¼ˆæ§åˆ¶é¢‘ç‡ = ä»¿çœŸé¢‘ç‡ / 5ï¼‰ - æ¯ 750\r\næ­¥ï¼ˆçº¦å‡ ç§’é’Ÿï¼‰åˆ‡æ¢ä¸€æ¬¡è¿åŠ¨ç›®æ ‡\r\n\r\næˆªå›¾åŠŸèƒ½\r\n# æŒ‰ç©ºæ ¼é”®æˆªå›¾if render.input.is_key_just_pressed(\"space\"):    rcam = render.get_camera(0)    capture_tasks.append((capture_index, rcam.capture()))    capture_index += 1# åŒæ­¥æ¸²æŸ“å¹¶é™åˆ¶å¸§ç‡render.sync(data)time.sleep(1/60.)  # é™åˆ¶ä¸º 60 FPS# å¤„ç†æˆªå›¾ä»»åŠ¡while len(capture_tasks) &gt; 0:    idx, task = capture_tasks[0]    if task.state != \"pending\":        capture_tasks.popleft()        img = task.take_image()        os.makedirs(\"shot\", exist_ok=True)        img.save_to_disk(f\"shot/capture_{idx}.png\")    else:        break\r\n\r\nç›¸æœºåˆ‡æ¢\r\n# å³æ–¹å‘é”®ï¼šä¸‹ä¸€ä¸ªç›¸æœºif render.input.is_key_just_pressed(\"right\"):    preview_camera_idx = (preview_camera_idx + 1) % len(preview_cameras)    render.set_main_camera(preview_cameras[preview_camera_idx])# å·¦æ–¹å‘é”®ï¼šä¸Šä¸€ä¸ªç›¸æœºif render.input.is_key_just_pressed(\"left\"):    preview_camera_idx = (preview_camera_idx + len(preview_cameras) - 1) % len(preview_cameras)    render.set_main_camera(preview_cameras[preview_camera_idx])\r\n\r\nğŸ“– go2_keyboard_control.py\r\nè¯¦ç»†è§£è¯»\r\nGitHub: examples/go2_keyboard_control.py\r\nåŠŸèƒ½æ¦‚è¿°\r\né€šè¿‡é”®ç›˜å®æ—¶æ§åˆ¶ Go2 æœºå™¨äººçš„ç§»åŠ¨æ–¹å‘å’Œé€Ÿåº¦ã€‚ä¸\r\ngo2.py\r\nçš„ä¸»è¦åŒºåˆ«æ˜¯ä½¿ç”¨é¢å‘å¯¹è±¡è®¾è®¡å’Œé«˜çº§\r\nAPIã€‚\r\nflowchart TB\r\n    subgraph åˆå§‹åŒ–\r\n        A[åŠ è½½æ¨¡å‹] --&gt; B[åˆ›å»º OnnxController]\r\n        B --&gt; C[å¯åŠ¨æ¸²æŸ“å¾ªç¯]\r\n    end\r\n    \r\n    subgraph \"æ¸²æŸ“å¾ªç¯ (60 FPS)\"\r\n        D[è¯»å–é”®ç›˜è¾“å…¥] --&gt; E[æ›´æ–° command å‘é‡]\r\n        E --&gt; F[get_control ç‰©ç†æ­¥è¿›]\r\n        F --&gt; G[ç¥ç»ç½‘ç»œæ¨ç†]\r\n        G --&gt; H[åº”ç”¨åŠ¨ä½œ]\r\n        H --&gt; I[æ¸²æŸ“åŒæ­¥]\r\n    end\r\n    \r\n    C --&gt; D\r\n    I --&gt; D\r\n\r\nå…¨å±€å‚æ•°\r\ndefault_joint_pos = np.array([0.1, 0.9, -1.8, -0.1, 0.9, -1.8, 0.1, 0.9, -1.8, -0.1, 0.9, -1.8])action_scale = 0.5lin_vel_scale = 2.0   # æ¯” go2.py çš„ 1.0 æ›´å¿«ï¼ang_vel_scale = 3.0   # æ¯” go2.py çš„ 1.5 æ›´å¿«ï¼\r\n\n  \n    \n      é”®ç›˜æ§åˆ¶ç‰ˆæœ¬æ›´å¿«\r\n\n    \n    \n      é”®ç›˜æ§åˆ¶ç‰ˆæœ¬çš„é€Ÿåº¦æ›´å¿«ï¼Œå› ä¸ºæ‰‹åŠ¨æ§åˆ¶éœ€è¦æ›´çµæ•çš„å“åº”ã€‚\r\n\n    \n  \r\n\r\nOnnxController ç±»è¯¦è§£\r\nè¿™æ˜¯ä¸ go2.py æœ€å¤§çš„åŒºåˆ« â€”â€”\r\nä½¿ç”¨é¢å‘å¯¹è±¡è®¾è®¡å°è£…æ‰€æœ‰æ§åˆ¶é€»è¾‘ï¼š\r\næ„é€ å‡½æ•°\r\nclass OnnxController:    def __init__(        self,        model: SceneModel,        policy_path: str,        default_angles: np.ndarray,        ctrl_dt: float,          # æ§åˆ¶å‘¨æœŸï¼ˆç§’ï¼‰        action_scale: float = 0.5,    ):        self._model = model        self._data = SceneData(self._model)  # åˆ›å»ºç‰©ç†æ•°æ®                # åŠ è½½ç¥ç»ç½‘ç»œ        self._policy = ort.InferenceSession(policy_path, providers=[\"CPUExecutionProvider\"])        self._input_name = self._policy.get_inputs()[0].name        self._output_name = self._policy.get_outputs()[0].name                # æ§åˆ¶å‚æ•°        self.command = np.zeros(3, dtype=np.float32)  # [vx, vy, yaw_rate] å¤–éƒ¨å¯ä¿®æ”¹        self._action_scale = action_scale        self._default_angles = default_angles.copy()        self._last_action = np.zeros_like(default_angles, dtype=np.float32)                # è®¡ç®—å­æ­¥æ•°ï¼šæ¯ä¸ªæ§åˆ¶å‘¨æœŸå†…æ‰§è¡Œå¤šå°‘æ¬¡ç‰©ç†æ­¥è¿›        self._counter = 0        self._n_substeps = int(round(ctrl_dt / self._model.options.timestep))\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nå±æ€§\r\nè¯´æ˜\r\n\r\n\r\n\r\n\r\ncommand\r\né€Ÿåº¦æŒ‡ä»¤å‘é‡\r\n[å‰å, å·¦å³, è½¬å‘]ï¼Œé”®ç›˜è¾“å…¥ç›´æ¥ä¿®æ”¹æ­¤å±æ€§\r\n\r\n\r\n_n_substeps\r\næ¯æ¬¡ç¥ç»ç½‘ç»œæ¨ç†ä¹‹é—´çš„ç‰©ç†æ­¥è¿›æ¬¡æ•°\r\n\r\n\r\n_last_action\r\nä¸Šä¸€å¸§çš„åŠ¨ä½œè¾“å‡ºï¼Œç”¨äºè§‚æµ‹\r\n\r\n\r\n\r\næ§åˆ¶é¢‘ç‡è®¡ç®—ç¤ºä¾‹ï¼š ctrl_dt = 0.02 ç§’ (20ms, å³ 50Hz)timestep = 0.002 ç§’ (é»˜è®¤ç‰©ç†æ­¥é•¿)n_substeps = 0.02 / 0.002 = 10å³ï¼šæ¯ 10 æ¬¡ç‰©ç†æ­¥è¿›æ‰§è¡Œä¸€æ¬¡ç¥ç»ç½‘ç»œæ¨ç†\r\n\r\nè§‚æµ‹æ”¶é›†æ–¹æ³•\r\ndef get_obs(self, model: SceneModel, data: SceneData, command):    body = model.get_body(model.get_body_index(\"base\"))        linear_vel = model.get_sensor_value(\"local_linvel\", data)    gyro = model.get_sensor_value(\"gyro\", data)        pose = body.get_pose(data)    inv_rotation = Rotation.from_quat(pose[3:7]).inv()    gravity = inv_rotation.apply(np.array([0.0, 0.0, -1.0]))        dof_pos = body.get_joint_dof_pos(data)    dof_vel = body.get_joint_dof_vel(data)        obs = np.hstack([        linear_vel, gyro, gravity,        dof_pos - self._default_angles,        dof_vel,        self._last_action,   # æ³¨æ„ï¼šä½¿ç”¨å®ä¾‹å˜é‡        command    ])    return obs.astype(np.float32)\r\n\r\næ ¸å¿ƒæ§åˆ¶æ–¹æ³•\r\ndef get_control(self):    self._counter += 1    step(self._model, self._data)  # ç‰©ç†æ­¥è¿›        # æ‘”å€’æ£€æµ‹    if self.is_fall(self._model, self._data):        self._data = SceneData(self._model)  # é‡ç½®        self.command = np.zeros(3, dtype=np.float32)  # æ¸…ç©ºæŒ‡ä»¤        # æŒ‰æ§åˆ¶é¢‘ç‡æ‰§è¡Œæ¨ç†    if self._counter % self._n_substeps == 0:        obs = self.get_obs(self._model, self._data, self.command)        outputs = self._policy.run([self._output_name], {self._input_name: obs.reshape(1, -1)})        actions = outputs[0][0]        self._last_action = actions.copy()        self.apply_actions(actions, self._model, self._data)\r\nè¿™ä¸ªæ–¹æ³•æ¯è°ƒç”¨ä¸€æ¬¡æ‰§è¡Œä¸€ä¸ªç‰©ç†æ­¥è¿›ï¼Œå¹¶åœ¨é€‚å½“çš„æ—¶æœºæ‰§è¡Œç¥ç»ç½‘ç»œæ¨ç†ã€‚\r\n\r\nä¸»å‡½æ•°è¯¦è§£\r\ndef main():    with RenderApp() as render:        render.opt.set_left_panel_vis(True)        path = \"examples/assets/go2/scene_flat.xml\"        model = load_model(path)        render.launch(model)        # åˆ›å»ºæ§åˆ¶å™¨        policy = OnnxController(            model,            policy_path=\"examples/assets/go2/go2_policy.onnx\",            ctrl_dt=0.02,               # æ§åˆ¶å‘¨æœŸ 20ms (50Hz)            default_angles=default_joint_pos,            action_scale=action_scale,        )\r\n\r\né”®ç›˜è¾“å…¥å¤„ç†\r\ninput = render.inputdef render_step():    # å‰åç§»åŠ¨    if input.is_key_pressed(\"up\") or input.is_key_pressed(\"w\"):        policy.command[0] = 1.0 * lin_vel_scale   # å‰è¿›    elif input.is_key_pressed(\"down\") or input.is_key_pressed(\"s\"):        policy.command[0] = -1.0 * lin_vel_scale  # åé€€    else:        policy.command[0] = 0.0    # å·¦å³å¹³ç§»    if input.is_key_pressed(\"left\"):        policy.command[1] = 0.5 * lin_vel_scale   # å·¦ç§»    elif input.is_key_pressed(\"right\"):        policy.command[1] = -0.5 * lin_vel_scale  # å³ç§»    else:        policy.command[1] = 0.0    # è½¬å‘    if input.is_key_pressed(\"a\"):        policy.command[2] = 2.0 * ang_vel_scale   # å·¦è½¬    elif input.is_key_pressed(\"d\"):        policy.command[2] = -2.0 * ang_vel_scale  # å³è½¬    else:        policy.command[2] = 0.0    render.sync(policy.data)\r\nğŸ® å®Œæ•´é”®ç›˜æ§åˆ¶æ˜ å°„è¡¨\r\n\r\n\r\n\r\næŒ‰é”®\r\nåŠŸèƒ½\r\ncommand[0]\r\ncommand[1]\r\ncommand[2]\r\n\r\n\r\n\r\n\r\nW / â†‘\r\nå‰è¿›\r\n2.0\r\n0\r\n0\r\n\r\n\r\nS / â†“\r\nåé€€\r\n-2.0\r\n0\r\n0\r\n\r\n\r\nâ†\r\nå·¦å¹³ç§»\r\n0\r\n1.0\r\n0\r\n\r\n\r\nâ†’\r\nå³å¹³ç§»\r\n0\r\n-1.0\r\n0\r\n\r\n\r\nA\r\nå·¦è½¬\r\n0\r\n0\r\n6.0\r\n\r\n\r\nD\r\nå³è½¬\r\n0\r\n0\r\n-6.0\r\n\r\n\r\n\r\n\r\nrender_loop é«˜çº§ API\r\nprint(\"Keyboard Controls:\")print(\"- Press W / Up Arrow to move forward\")print(\"- Press S / Down Arrow to move backward\")print(\"- Press Left Arrow to move left\")print(\"- Press Right Arrow to move right\")  print(\"- Press A to rotate left\")print(\"- Press D to rotate right\")run.render_loop(    model.options.timestep,   # ç‰©ç†æ—¶é—´æ­¥é•¿    60,                       # ç›®æ ‡å¸§ç‡ (FPS)    policy.get_control,       # ç‰©ç†æ›´æ–°å›è°ƒï¼ˆæ¯ç‰©ç†æ­¥è°ƒç”¨ï¼‰    render_step               # æ¸²æŸ“æ›´æ–°å›è°ƒï¼ˆæ¯å¸§è°ƒç”¨ï¼‰)\r\nrun.render_loop çš„å·¥ä½œåŸç†ï¼š\r\n\r\næ ¹æ®ç›®æ ‡å¸§ç‡è®¡ç®—æ¯å¸§éœ€è¦æ‰§è¡Œå¤šå°‘æ¬¡ç‰©ç†æ­¥è¿›\r\næ¯ä¸ªç‰©ç†æ­¥è¿›è°ƒç”¨ policy.get_control()\r\næ¯å¸§ç»“æŸè°ƒç”¨ render_step() å¤„ç†è¾“å…¥å’Œæ¸²æŸ“\r\nè‡ªåŠ¨å¤„ç†æ—¶é—´åŒæ­¥ï¼Œä¿æŒç¨³å®šå¸§ç‡\r\n\r\nè¿™æ¯”æ‰‹åŠ¨å†™ while True å¾ªç¯æ›´ç®€æ´ã€æ›´å¯é ã€‚\r\n\r\nğŸ”„ go2.py vs\r\ngo2_keyboard_control.py å®Œæ•´å¯¹æ¯”\r\n\r\n\r\n\r\nç‰¹æ€§\r\ngo2.py\r\ngo2_keyboard_control.py\r\n\r\n\r\n\r\n\r\næ§åˆ¶æ¨¡å¼\r\nè‡ªåŠ¨éšæœºæ¼«æ¸¸\r\né”®ç›˜æ‰‹åŠ¨æ§åˆ¶\r\n\r\n\r\nä»£ç é£æ ¼\r\nå‡½æ•°å¼ï¼ˆç‹¬ç«‹å‡½æ•°ï¼‰\r\né¢å‘å¯¹è±¡ (OnnxController ç±»)\r\n\r\n\r\nlin_vel_scale\r\n1.0\r\n2.0 (æ›´å¿«)\r\n\r\n\r\nang_vel_scale\r\n1.5\r\n3.0 (æ›´å¿«)\r\n\r\n\r\nn_infer_interval\r\n5 æ­¥\r\nç”± ctrl_dt è®¡ç®—\r\n\r\n\r\nä¸»å¾ªç¯\r\næ‰‹åŠ¨ while True\r\nrun.render_loop() é«˜çº§ API\r\n\r\n\r\nå¸§ç‡æ§åˆ¶\r\ntime.sleep(1/60)\r\nrender_loop è‡ªåŠ¨ç®¡ç†\r\n\r\n\r\nç›¸æœºæˆªå›¾\r\nâœ… æ”¯æŒ\r\nâŒ æ— \r\n\r\n\r\nç›¸æœºåˆ‡æ¢\r\nâœ… æ”¯æŒ\r\nâŒ æ— \r\n\r\n\r\nä»£ç è¡Œæ•°\r\n~207 è¡Œ\r\n~178 è¡Œ\r\n\r\n\r\n\r\n\r\nğŸ“ ç›¸å…³æ–‡ä»¶\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\næ–‡ä»¶\r\nè¯´æ˜\r\n\r\n\r\n\r\n\r\ngo2.py\r\nè‡ªåŠ¨æ¼«æ¸¸ç¤ºä¾‹\r\n\r\n\r\ngo2_keyboard_control.py\r\né”®ç›˜æ§åˆ¶ç¤ºä¾‹\r\n\r\n\r\nscene_flat.xml\r\nGo2 åœºæ™¯å®šä¹‰\r\n\r\n\r\ngo2_mjx.xml\r\nGo2 æœºå™¨äººæ¨¡å‹\r\n\r\n\r\ngo2_policy.onnx\r\né¢„è®­ç»ƒç¥ç»ç½‘ç»œ\r\n\r\n\r\n\r\n\r\nğŸ§  ç¥ç»ç½‘ç»œç­–ç•¥è¯´æ˜\r\ngo2_policy.onnxâ”œâ”€â”€ è¾“å…¥: 48 ç»´å‘é‡â”‚   â”œâ”€â”€ çº¿é€Ÿåº¦ (3)â”‚   â”œâ”€â”€ è§’é€Ÿåº¦ (3)â”‚   â”œâ”€â”€ é‡åŠ›æ–¹å‘ (3)â”‚   â”œâ”€â”€ å…³èŠ‚ä½ç½®å·® (12)â”‚   â”œâ”€â”€ å…³èŠ‚é€Ÿåº¦ (12)â”‚   â”œâ”€â”€ ä¸Šä¸€å¸§åŠ¨ä½œ (12)â”‚   â””â”€â”€ ç›®æ ‡é€Ÿåº¦ (3)â”‚â””â”€â”€ è¾“å‡º: 12 ç»´å‘é‡    â””â”€â”€ 12 ä¸ªå…³èŠ‚çš„æ§åˆ¶å‘½ä»¤\r\nè¿™ä¸ªç¥ç»ç½‘ç»œæ˜¯é€šè¿‡å¼ºåŒ–å­¦ä¹  (Reinforcement Learning)\r\nè®­ç»ƒå¾—åˆ°çš„ï¼Œè®©æœºå™¨äººå­¦ä¼šï¼š - ä¿æŒå¹³è¡¡ - æŒ‰ç…§ç»™å®šé€Ÿåº¦è¡Œèµ° -\r\né€‚åº”ä¸åŒåœ°å½¢\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["Motrix"]},{"title":"å°†ç°æœ‰åœºæ™¯ç”Ÿæˆç½‘æ ¼å¯¼å…¥mujocoçš„ç®€è¦pipeline","url":"/2024/12/10/11-MeshToMujoco/","content":"ä¸€ã€æ•°æ®é¢„å¤„ç†\r\nnerfstudioé‡Œæ•´åˆäº†COLMAPå·¥å…·ï¼Œå¯é€šè¿‡å®ƒçš„æŒ‡ä»¤ç›´æ¥å¯¹ç°æœ‰çš„æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼Œè½¬åŒ–ä¸ºnerfstudioéœ€è¦çš„æ ¼å¼ã€‚æ”¯æŒçš„æ•°æ®ç±»å‹å¦‚ä¸‹è¡¨æ‰€ç¤ºï¼š\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nData\r\nCapture Device\r\nRequirements\r\nns-process-data Speed\r\n\r\n\r\n\r\n\r\nğŸ“· Images\r\nAny\r\nCOLMAP\r\nğŸ¢\r\n\r\n\r\nğŸ“¹ Video\r\nAny\r\nCOLMAP\r\nğŸ¢\r\n\r\n\r\nğŸŒ 360\r\nData\r\nAny\r\nCOLMAP\r\nğŸ¢\r\n\r\n\r\nğŸ“± Polycam\r\nIOS with LiDAR\r\nPolycam App\r\nğŸ‡\r\n\r\n\r\nğŸ“± KIRI\r\nEngine\r\nIOS or Android\r\nKIRI Engine App\r\nğŸ‡\r\n\r\n\r\nğŸ“± Record3D\r\nIOS with LiDAR\r\nRecord3D app\r\nğŸ‡\r\n\r\n\r\nğŸ“± Spectacular\r\nAI\r\nIOS, OAK, others\r\nApp\r\n/ sai-cli\r\nğŸ‡\r\n\r\n\r\nğŸ–¥ Metashape\r\nAny\r\nMetashape\r\nğŸ‡\r\n\r\n\r\nğŸ–¥ RealityCapture\r\nAny\r\nRealityCapture\r\nğŸ‡\r\n\r\n\r\nğŸ–¥ ODM\r\nAny\r\nODM\r\nğŸ‡\r\n\r\n\r\nğŸ‘“ Aria\r\nAria glasses\r\nProject Aria\r\nğŸ‡\r\n\r\n\r\nğŸ›  Custom\r\nAny\r\nCamera Poses\r\nğŸ‡\r\n\r\n\r\n\r\nä¸€ä¸ªç®€å•çš„å¤„ç†çš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š ns-process-data &#123;video,images,polycam,record3d&#125; --data &#123;DATA_PATH&#125; --output-dir &#123;PROCESSED_DATA_DIR&#125;\r\nå®Œæ•´çš„å‚æ•°é›†å¯å‚è€ƒæ­¤å¤„ã€‚åœ¨æ•™ç¨‹ç½‘ç«™ä¹Ÿæœ‰æ›´å¤šå…¶ä»–ç±»å‹æ•°æ®çš„æ•è·æ•™ç¨‹ã€‚\r\n\n    è¸©å‘è®°å½• ç‚¹å‡»å±•å¼€ \n    \n      colmap feature_extractoræŠ¥é”™ï¼š\r\næŠ¥é”™å†…å®¹ï¼š\r\n\r\nè§£å†³æ–¹æ¡ˆï¼š\r\n\r\nç¡®è®¤xcbæ’ä»¶æ˜¯å¦å®‰è£…ï¼š\r\nsudo apt updatesudo apt install libxcb-*\r\nè®¾ç½®ç¯å¢ƒå˜é‡ï¼š\r\nexport QT_QPA_PLATFORM_PLUGIN_PATH=/home/felix/.local/lib/python3.10/site-packages/cv2/qt/pluginsexport QT_QPA_PLATFORM=offscreen\r\nï¼ˆè·¯å¾„è®°å¾—æ”¹æˆè‡ªå·±çš„è·¯å¾„ï¼‰\r\n\r\nè¿™æ ·åº”è¯¥å°±å¯ä»¥äº†ï¼Œè‡³å°‘åšä¸»æ‰§è¡Œè¿™ä¸¤ä¸²ä»£ç åèƒ½æˆåŠŸè¿è¡Œã€‚ï¼ˆè™½ç„¶è¿™ä¸ªå¤„ç†è¿‡ç¨‹ç¡®å®å¾ˆæ…¢ï¼‰\r\n\n    \n  \r\näºŒã€æ¨¡å‹è®­ç»ƒ\r\nå¯ç›´æ¥å¯¹å¤„ç†åçš„æ•°æ®ç”¨nerfactoæ–¹æ³•è¿›è¡Œè®­ç»ƒï¼š\r\nns-train nerfacto --data &#123;PROCESSED_DATA_DIR&#125;\r\nè¿˜æœ‰ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„å‚æ•°ï¼š\r\n--help #æ˜¾ç¤ºå¸®åŠ©èœå•--output-dir #è¾“å‡ºæ–‡ä»¶å¤¹--steps-per-save #å¤šå°‘stepä¿å­˜ä¸€æ¬¡ï¼Œé»˜è®¤ä¸º2000--max-num-iterations #æœ€å¤§iterationï¼Œé»˜è®¤ä¸º30000--mixed-precision #æ˜¯å¦å¯ç”¨æ··åˆç²¾åº¦ï¼Œé»˜è®¤ä¸ºtrue--load-config #ä»é…ç½®æ–‡ä»¶è¯»å–ï¼Œå¯ä»ä¹‹å‰çš„è®­ç»ƒä¸­ç»§ç»­\r\nè®­ç»ƒç»“æœé»˜è®¤ä¼šä¿å­˜åœ¨outputsæ–‡ä»¶å¤¹ä¸­ã€‚å…¶ä¸­åŒ…å«ä¸€ä¸ªconfig.ymlæ–‡ä»¶ï¼Œè®°å½•äº†è®­ç»ƒçš„é…ç½®ä¿¡æ¯ã€‚å¯é€šè¿‡è¯»å–å®ƒæ¥è¿›è¡Œæ¥ç»­çš„è®­ç»ƒæˆ–è€…å¯è§†åŒ–ï¼š\r\nns-viewer --load-config &#123;outputs/.../config.yml&#125;\r\nä¸‰ã€æ¨¡å‹å¯¼å‡º\r\nåœ¨nerfstudioé‡Œæ”¯æŒä¸‰ç§ç±»å‹çš„æ¨¡å‹å¯¼å‡ºï¼š3d gaussionã€point cloudå’Œmeshã€‚è¿™é‡ŒåªæåŠmeshçš„å¯¼å‡ºã€‚\r\næœ€ç®€å•çš„å¯¼å‡ºæŒ‡ä»¤ä¸ºï¼š\r\nns-export poisson --load-config CONFIG.yml --output-dir OUTPUT_DIR\r\nè€Œåœ¨å¯è§†åŒ–ç•Œé¢ä¸­ï¼Œå¯ä»¥è‡ªåŠ¨ç”Ÿæˆå¯¼å‡ºæŒ‡ä»¤ï¼š\r\n\r\nå…¶ä¸­å¯ä»¥å¯¹å‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œæ¯”å¦‚Use Cropå¯ä»¥è‡ªåŠ¨è£å‰ªä¿ç•™ä¸­å¿ƒç‰©ä½“ï¼Œ# Faceså¯ä»¥æ§åˆ¶äº§ç”Ÿçš„é¢æ•°çš„ä¸Šé™ï¼Œ# Pointsæ§åˆ¶ç‚¹æ•°çš„ä¸Šé™ã€‚æœ€åç”Ÿæˆçš„æŒ‡ä»¤ä¸ºä»¥ä¸‹ç»“æ„ï¼š\r\nns-export poisson --load-config &#123;outputs/.../config.yml&#125; --output-dir &#123;OUTPUT_DIR&#125; --target-num-faces 50000 --num-pixels-per-side 2048 --num-points 1000000 --remove-outliers True --normal-method open3d --obb_center 0.0000000000 0.0000000000 0.0000000000 --obb_rotation 0.0000000000 0.0000000000 0.0000000000 --obb_scale 1.0000000000 1.0000000000 1.0000000000\r\nå…¶ä¸­possion\r\nè¡¨ç¤ºä½¿ç”¨æ³Šæ¾é‡å»ºæ–¹æ³•ï¼Œnerfstudioè¿˜æ”¯æŒå…¶ä»–çš„é‡å»ºæ–¹æ³•ï¼Œå¦‚marching-cubeså’Œtsdfç­‰ï¼Œä½†æ•ˆæœéƒ½ä¸å°½å¦‚äººæ„ï¼ˆå¯å‚è€ƒæˆ‘ä¹‹å‰çš„æ–‡ç« NeRF\r\nStudioç®€è¦æ•™ç¨‹ | FelixChristian's Blogï¼Œé‡Œé¢æœ‰é‡å»ºç»“æœï¼‰ã€‚\r\nå››ã€å‡¸åˆ†è§£\r\nåœ¨æˆ‘ä¹‹å‰çš„æ–‡ç« Mujoco\r\n- CoACDç®€ç•¥æ•™ç¨‹ | FelixChristian's\r\nBlogä¸­æœ‰ä»‹ç»åˆ°CoACDå·¥å…·çš„å®‰è£…å’Œä½¿ç”¨ã€‚\r\nå½“ç¼–è¯‘å®ŒCoACDä¹‹åï¼Œå¯ç›´æ¥æ‰§è¡Œå‡¸åˆ†è§£æŒ‡ä»¤ï¼š ./main -i PATH_OF_YOUR_MESH -o PATH_OF_OUTPUT\r\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸¤ä¸ªPATHéƒ½æ˜¯éœ€è¦ä»¥å…·ä½“çš„.objæ–‡ä»¶ç»“å°¾çš„ã€‚æœ€ç»ˆå¯¼å‡ºçš„å•ä¸ª.objæ–‡ä»¶æ˜¯ä»¥å¤šä¸ªç»„ä»¶ç»“åˆçš„ã€‚å¦‚æœç›´æ¥å¯¼å…¥mujocoï¼Œå®ƒè¿˜æ˜¯ä¼šå¯¹æ•´ä¸ªæ–‡ä»¶å†æ¬¡è¿›è¡Œæ›¿æ¢ã€‚\r\nä¸ºäº†åœ¨mujocoä¸­å®ç°æ­£å¸¸çš„ç¢°æ’ã€‚å¿…é¡»æŠŠå•ä¸ª.objæ–‡ä»¶å¯¼å‡ºä¸ºå¤šä¸ª.stlæ–‡ä»¶ï¼Œå†åœ¨mujocoçš„.xmlæ–‡ä»¶ä¸­è¿›è¡Œå¼•ç”¨ã€‚\r\nè¿™é‡Œå€ŸåŠ©äº†Blenderçš„Super-Batch-Exportæ’ä»¶ï¼š\r\n\r\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®mujocoçš„å®˜æ–¹æ–‡æ¡£ä»‹ç»ï¼š\r\n\r\nMuJoCo can load triangulated meshes from OBJ files and binary STL.\r\nSoftware such as MeshLab can be\r\nused to convert from other formats. While any collection of triangles\r\ncan be loaded and visualized as a mesh, the collision detector works\r\nwith the convex hull. There are compile-time options for scaling the\r\nmesh, as well as fitting a primitive geometric shape to it. The mesh can\r\nalso be used to automatically infer inertial properties â€“ by treating it\r\nas a union of triangular pyramids and combining their masses and\r\ninertias. Note that meshes have no color, instead the mesh is colored\r\nusing the material properties of the referencing geom. In contrast, all\r\nspatial properties are determined by the mesh data. MuJoCo supports both\r\nOBJ and a custom binary file format for normals and texture coordinates.\r\nMeshes can also be embedded directly in the XML.\r\n\r\nmujocoå¯ä»¥ä».objæ–‡ä»¶å’Œ.stlæ–‡ä»¶åŠ è½½ä¸‰è§’ç½‘æ ¼ï¼Œæ‰€ä»¥åœ¨ç”¨Blenderè¿›è¡Œæ‰¹é‡å¯¼å‡ºæ—¶ï¼Œéœ€è¦é€‰æ‹©è¿™ä¸¤ç§æ ¼å¼ã€‚\r\näº”ã€å¯¼å…¥mujoco\r\nä»¥.objæ–‡ä»¶ä¸ºä¾‹ï¼ˆ.stlæ–‡ä»¶åŒç†ï¼‰ï¼š\r\nåœ¨ä¸Šä¸€æ­¥ä¸­å¯¼å‡ºçš„æ–‡ä»¶ä¸ºconvex_0.objã€convex_1.objã€...\r\nã€convex_n.objçš„å½¢å¼ã€‚åœ¨æˆ‘çš„FelixChristian011226/Mujoco-RLä»“åº“ä¸­ï¼Œç¼–å†™äº†ä¸€ä¸ªç®€å•çš„è„šæœ¬gen_convex.pyï¼Œç”¨äºç”Ÿæˆ.xmlæ–‡ä»¶ä¸­ç›¸åº”çš„å¼•ç”¨ã€‚ä½¿ç”¨è¿‡ç¨‹å¦‚ä¸‹ï¼š\r\n\r\né¦–å…ˆï¼Œå°†ç”Ÿæˆçš„å¤šä¸ª.objæ–‡ä»¶ï¼Œå­˜æ”¾åœ¨./terrain/mesh/&#123;your_mesh_name&#125;/æ–‡ä»¶å¤¹ä¸­ã€‚\r\nç„¶åè¿›å…¥./terrainç›®å½•ï¼Œä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ï¼š\r\npython3 ./gen_component/gen_convex.py &#123;model_folder&#125; &#123;indent_level&#125; &#123;total_count&#125;\r\nå…¶ä¸­model_folderå¯¹åº”your_mesh_nameï¼Œå³./terrain/mesh/ç›®å½•ä¸‹å­˜æ”¾.objæ–‡ä»¶çš„æ–‡ä»¶å¤¹åç§°ã€‚\r\nindent_levelæ˜¯ç¼©è¿›é‡ï¼Œä¸€èˆ¬ä¸º2ï¼Œä»…ä»…ä¸ºäº†.xmlæ–‡ä»¶ä¸­ç¾è§‚è€Œè®¾ç½®ã€‚\r\ntotal_countæ˜¯æ€»çš„.objæ–‡ä»¶æ•°é‡ï¼Œå³æœ€åä¸€ä¸ªæ–‡ä»¶çš„ä¸‹æ ‡åŠ ä¸€ã€‚\r\næœ€åå°†.terrain/component/convex.xmlæ–‡ä»¶ä¸­çš„å‰åŠéƒ¨åˆ†å†…å®¹ï¼Œå¤åˆ¶åˆ°å¯¹åº”çš„.xmlçš„&lt;asset&gt;éƒ¨åˆ†ï¼ŒååŠéƒ¨åˆ†å†…å®¹å¤åˆ¶åˆ°&lt;worldbody&gt;éƒ¨åˆ†ã€‚ç„¶åç»™å…¶è®¾ç½®çº¹ç†ï¼Œå¦‚ï¼š\r\n&lt;material name=&quot;mat_&#123;name&#125;&quot; rgba=&quot;0.8 0.8 0.8 1&quot;/&gt;\r\nå…¶ä¸­nameåº”è¯¥å’Œæ–‡ä»¶å¤¹åå¯¹åº”ã€‚\r\næœ€åå†è¿è¡Œå¯¹åº”çš„.xmlæ–‡ä»¶å³å¯ã€‚\r\n\r\nä¸ºäº†ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘æä¾›äº†ä¸€ä¸ªè‡ªè¡Œç¼–å†™çš„å¸¦GUIçš„pythonç¨‹åºdecomposite.pyï¼Œå¯ä»¥æ‰§è¡Œå®ƒè¿›è¡Œå‡¸åˆ†è§£å’Œå¯¼å…¥è¿‡ç¨‹ï¼Œé“¾æ¥åœ¨æ­¤ï¼šdecomposite.pyã€‚\r\nç”±äºç¨‹åºæ˜¯ç”¨wxPythonåº“å®ç°çš„ï¼Œéœ€è¦è‡ªè¡Œä½¿ç”¨pipå®‰è£…ï¼Œå¦‚é‡gtk+æŠ¥é”™å¯æ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤å®‰è£…gtk+3ï¼š\r\nsudo apt install -y libgtk-3-dev\r\n","categories":["æœºå™¨ä»¿çœŸ"],"tags":["mujoco","NeRF","CoACD","mesh"]}]